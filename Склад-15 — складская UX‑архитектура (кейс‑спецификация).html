<!doctype html>
<html lang="ru" class="h-full bg-zinc-50 text-zinc-900">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light" />

    <title>Склад‑15 — складская UX‑архитектура (кейс)</title>
    <meta
      name="description"
      content="Кейс senior UX: архитектура интерфейса для ТСД (PWA, offline‑first, scan‑first). Снижение ошибок и фрикции в складских операциях через сценарии, паттерны восстановления и измеримость."
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="./tokens.css" />
    <link rel="stylesheet" href="./base.css" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="./tailwind-config.js"></script>
    <link rel="stylesheet" href="./theme.css" />

    <style>
      .case-prose {
        max-width: 74ch;
      }
    </style>
  </head>

  <body class="min-h-full font-sans antialiased">
    <a
      href="#main"
      class="sr-only focus:not-sr-only focus:fixed focus:left-4 focus:top-4 focus:z-50 focus:rounded-lg focus:border focus:border-slate-200 focus:bg-white focus:px-3 focus:py-2 focus:text-sm focus:font-medium focus:text-slate-900"
      >Перейти к содержанию</a
    >

    <!-- Мобильное оглавление -->
    <div class="lg:hidden sticky top-0 z-40 border-b border-slate-200 bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/80">
      <div class="mx-auto max-w-[1200px] px-4 py-3">
        <div class="flex items-center gap-3">
          <div class="min-w-0 flex-1">
            <label for="tocSelect" class="block text-xs font-semibold tracking-wide text-slate-600">СОДЕРЖАНИЕ</label>
            <select
              id="tocSelect"
              class="mt-1 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 focus:border-accent focus:outline-none"
              aria-label="Перейти к разделу"
            >
              <option value="top">Вводная</option>
              <option value="challenge">Вызов / проблема</option>
              <option value="role">Моя роль и подход</option>
              <option value="process">Процесс и исследования</option>
              <option value="decisions">Ключевые решения</option>
              <option value="result">Результат и влияние</option>
              <option value="learnings">Выводы</option>
              <option value="appendix">Приложение</option>
            </select>
          </div>
          <a href="#top" data-toc-link class="inline-flex shrink-0 items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900"
            >Наверх</a
          >
        </div>
      </div>
    </div>

    <header class="border-b border-slate-200 bg-white">
      <div class="mx-auto max-w-[1200px] px-4 py-6 lg:px-6">
        <div class="flex flex-wrap items-start justify-between gap-4">
          <div class="min-w-0">
            <p class="text-xs font-semibold tracking-wide text-slate-600">Кейс • Складские операции • PWA для ТСД</p>
            <h1 class="mt-2 text-balance text-2xl font-semibold leading-tight sm:text-3xl lg:text-4xl" id="top">
              Склад‑15: складская UX‑архитектура для ТСД — от «экранов данных» к сценариям действий
            </h1>
            <p class="mt-3 case-prose text-pretty text-sm leading-6 text-slate-700 sm:text-base">
              Проектирование интерфейса для среды с высокой ценой ошибки: нестабильная связь, перчатки, шум, сканер как основной ввод.
              В фокусе — предсказуемый scan‑цикл, offline‑first синхронизация и измеримость качества.
            </p>
          </div>

          <div class="flex flex-wrap gap-2">
            <a href="#decisions" data-toc-link class="inline-flex items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900 hover:border-slate-300"
              >Ключевые решения</a
            >
            <a href="#result" data-toc-link class="inline-flex items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900 hover:border-slate-300"
              >Результат</a
            >
            <a href="#appendix" data-toc-link class="inline-flex items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900 hover:border-slate-300"
              >Приложение</a
            >
          </div>
        </div>

        <div class="mt-6 grid gap-3 sm:grid-cols-3">
          <div class="rounded-xl border border-slate-200 bg-white p-5">
            <p class="text-xs font-semibold tracking-wide text-slate-600">Вызов</p>
            <p class="mt-2 text-sm font-semibold text-slate-900">Снизить ошибки и время на операцию</p>
            <p class="mt-2 text-sm leading-6 text-slate-700">
              Уменьшить «потерю контекста», лишние переходы и дубли действий в условиях офлайна и высокой нагрузки.
            </p>
          </div>
          <div class="rounded-xl border border-slate-200 bg-white p-5">
            <p class="text-xs font-semibold tracking-wide text-slate-600">Роль</p>
            <p class="mt-2 text-sm font-semibold text-slate-900">UX‑архитектор / продуктовый дизайнер</p>
            <p class="mt-2 text-sm leading-6 text-slate-700">
              Сценарии end‑to‑end, модель состояний, паттерны ошибок, требования к синку и контракт метрик.
            </p>
          </div>
          <div class="rounded-xl border border-slate-200 bg-white p-5">
            <p class="text-xs font-semibold tracking-wide text-slate-600">Итог</p>
            <p class="mt-2 text-sm font-semibold text-slate-900">Handoff, готовый к реализации и QA</p>
            <p class="mt-2 text-sm leading-6 text-slate-700">
              Набор паттернов + спецификации сценариев + план измерений и событий для сравнения версий UX.
            </p>
          </div>
        </div>
      </div>
    </header>

    <div class="mx-auto max-w-[1200px] px-4 py-8 lg:px-6">
      <div class="lg:grid lg:grid-cols-[280px_1fr] lg:gap-10">
        <!-- Desktop TOC -->
        <aside class="hidden lg:block">
          <div class="sticky top-6">
            <div class="rounded-xl border border-slate-200 bg-white p-4">
              <p class="text-xs font-semibold tracking-wide text-slate-600">СОДЕРЖАНИЕ</p>
              <nav class="mt-3" aria-label="Оглавление">
                <ul class="space-y-1 text-sm">
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#top" data-toc-link>Вводная</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#challenge" data-toc-link>Вызов / проблема</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#role" data-toc-link>Моя роль и подход</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#process" data-toc-link>Процесс и исследования</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#decisions" data-toc-link>Ключевые решения</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#result" data-toc-link>Результат и влияние</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#learnings" data-toc-link>Выводы</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#appendix" data-toc-link>Приложение</a></li>
                </ul>
              </nav>

              <div class="mt-4 border-t border-slate-200 pt-3 text-xs text-slate-600">
                <p class="font-semibold text-slate-900">Три принципа, которыми я держал решение</p>
                <ul class="mt-2 list-disc space-y-1 pl-5">
                  <li>Следующий шаг важнее контекста</li>
                  <li>Ошибки — сценарии восстановления</li>
                  <li>Офлайн — норма, не исключение</li>
                </ul>
              </div>
            </div>
          </div>
        </aside>

        <!-- Main -->
        <main id="main" class="min-w-0 space-y-10">
          <section id="challenge" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Вызов / проблема</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div>
                <p class="text-sm font-semibold text-slate-900">Бизнес‑контекст</p>
                <p class="mt-2 case-prose text-sm leading-6 text-slate-700">
                  Склад зарабатывает на скорости и точности. Ошибка в размещении/подборе/отгрузке — это прямые потери (пересорт, возвраты, срыв SLA),
                  а «пауза на подумать» множится на тысячи повторов.
                </p>
              </div>
              <div>
                <p class="text-sm font-semibold text-slate-900">Пользовательский контекст</p>
                <p class="mt-2 case-prose text-sm leading-6 text-slate-700">
                  Оператор работает в перчатках и шуме. Ввод — сканер. Экран — инструмент подтверждения и восстановления в исключениях.
                  Связь нестабильна — офлайн должен быть рабочим режимом.
                </p>
              </div>
            </div>

            <div class="mt-6 rounded-xl border border-slate-200 bg-slate-50 p-6">
              <p class="text-sm font-semibold text-slate-900">Как я сформулировал задачу дизайна</p>
              <ul class="mt-3 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
                <li>Сделать scan‑цикл основным состоянием интерфейса: минимум шагов до следующего скана.</li>
                <li>Описать ошибки как сценарии: быстрый путь восстановления, без наказания пользователя.</li>
                <li>Обеспечить offline‑first: очередь действий + видимое состояние синхронизации, чтобы исключить дубли.</li>
                <li>Сделать UX измеримым: события и метрики для сравнения версий.</li>
              </ul>
            </div>
          </section>

          <section id="role" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Моя роль и подход</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">Что делал лично</p>
                <ul class="mt-3 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
                  <li>Декомпозиция операций и исключений в user flows.</li>
                  <li>Модель Next / Now / Done.</li>
                  <li>Паттерны: scan‑ready, подтверждения, ошибки, офлайн‑статусы.</li>
                  <li>Measurement plan (метрики + события + свойства).</li>
                </ul>
              </div>
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">Как принимал решения</p>
                <ul class="mt-3 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
                  <li><span class="font-medium text-slate-900">Friction-first</span>: убирал лишние шаги до стабилизации визуала.</li>
                  <li><span class="font-medium text-slate-900">Design for failure</span>: офлайн/ошибки — сценарии, а не исключения.</li>
                  <li><span class="font-medium text-slate-900">Handoff-ready</span>: фиксировал контракты, чтобы не было разночтений.</li>
                </ul>
              </div>
            </div>
          </section>

          <section id="process" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Процесс и исследования</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div>
                <p class="text-sm font-semibold text-slate-900">Исходные данные</p>
                <ul class="mt-3 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
                  <li>Документация и текущие сценарии “как есть”.</li>
                  <li>Полевые допущения (сканер, офлайн, цена ошибки).</li>
                  <li>Разбор точек трения: лишние переходы, несогласованные паттерны, слабая ясность “что дальше”.</li>
                </ul>
              </div>
              <div>
                <p class="text-sm font-semibold text-slate-900">Артефакты</p>
                <ul class="mt-3 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
                  <li>Wireflows по операциям.</li>
                  <li>Decision log и чек‑листы тестирования.</li>
                  <li>Offline‑матрица: online→offline, offline→online, конфликты, ретраи.</li>
                </ul>
              </div>
            </div>

            <div class="mt-6 overflow-x-auto rounded-xl border border-slate-200 bg-slate-50 p-6">
              <p class="text-sm font-semibold text-slate-900">Схема: “одна операция” как петля</p>
              <svg viewBox="0 0 980 210" class="mt-4 h-auto min-w-[820px] w-full rounded-lg border border-slate-200 bg-white p-4" role="img" aria-label="Loop: List → Scan-ready → Exceptions → Complete">
                <defs>
                  <style>
                    .b { fill: var(--surface-0); stroke: var(--border-subtle); stroke-width: 2; }
                    .t { font: 600 13px var(--font-sans); fill: var(--text-1); }
                    .s { font: 500 12px var(--font-sans); fill: var(--text-3); }
                    .a { stroke: var(--text-2); stroke-width: 2; fill: none; marker-end: url(#m); }
                  </style>
                  <marker id="m" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
                    <path d="M 0 0 L 10 5 L 0 10 z" fill="var(--text-2)"></path>
                  </marker>
                </defs>
                <rect class="b" x="30" y="60" width="170" height="70" rx="12"></rect>
                <text class="t" x="50" y="92">Список документов</text>
                <text class="s" x="50" y="112">быстрый вход</text>
                <rect class="b" x="240" y="35" width="200" height="120" rx="12"></rect>
                <text class="t" x="260" y="78">Scan‑ready экран</text>
                <text class="s" x="260" y="98">Next/Now/Done</text>
                <text class="s" x="260" y="118">фокус на ввод</text>
                <rect class="b" x="485" y="60" width="200" height="70" rx="12"></rect>
                <text class="t" x="505" y="92">Исключения</text>
                <text class="s" x="505" y="112">ошибка как сценарий</text>
                <rect class="b" x="730" y="60" width="220" height="70" rx="12"></rect>
                <text class="t" x="750" y="92">Завершение</text>
                <text class="s" x="750" y="112">подтверждение расхождений</text>
                <path class="a" d="M200 95 L240 95"></path>
                <path class="a" d="M440 95 L485 95"></path>
                <path class="a" d="M685 95 L730 95"></path>
                <path class="a" d="M840 130 C 840 190 140 190 140 130"></path>
              </svg>
            </div>
          </section>

          <section id="decisions" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Ключевые решения и обоснование</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>

            <div class="mt-4 grid gap-4 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">1) Next / Now / Done</p>
                <p class="mt-2 text-sm leading-6 text-slate-700">Следующий шаг — первый. Один экран = одно решение.</p>
              </div>
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">2) Ошибки как состояния</p>
                <p class="mt-2 text-sm leading-6 text-slate-700">Не тосты, а сценарии восстановления с безопасными действиями.</p>
              </div>
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">3) Offline‑first</p>
                <p class="mt-2 text-sm leading-6 text-slate-700">Очередь синка + явный статус, чтобы исключить дубли действий.</p>
              </div>
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">4) Измеримость</p>
                <p class="mt-2 text-sm leading-6 text-slate-700">События и метрики фиксируются вместе с UX‑решением.</p>
              </div>
            </div>
          </section>

          <section id="result" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Результат и влияние</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">Что передал в разработку</p>
                <ul class="mt-3 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
                  <li>User flows по операциям + исключения.</li>
                  <li>Паттерны scan‑цикла и подтверждений.</li>
                  <li>Offline‑контракт и диагностика очереди.</li>
                  <li>Measurement plan.</li>
                </ul>
              </div>
              <div class="rounded-xl border border-slate-200 bg-slate-50 p-6">
                <p class="text-sm font-semibold text-slate-900">Набор метрик</p>
                <ul class="mt-3 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
                  <li>time_to_first_scan, scans_per_minute</li>
                  <li>%errors, duplicate_actions</li>
                  <li>abandon_rate на завершении документов</li>
                </ul>
              </div>
            </div>
          </section>

          <section id="learnings" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Что я вынес</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>
            <ul class="mt-4 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
              <li>В высокорисковых системах первична предсказуемость действий и восстановление после ошибок.</li>
              <li>Offline‑first — это дисциплина состояний и доверия, а не “просто кэш”.</li>
              <li>Стандартизация паттернов снижает обучение и вариативность ошибок в масштабе.</li>
            </ul>
          </section>

          <section id="appendix" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Приложение</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>

            <div class="mt-4 grid gap-4 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-slate-50 p-6">
                <p class="text-sm font-semibold text-slate-900">Полная инженерная спецификация</p>
                <p class="mt-2 text-sm leading-6 text-slate-700">
                  Детальные таблицы сценариев, ошибок и требований offline‑очереди — в отдельном файле, чтобы основной кейс оставался читаемым.
                </p>
                <a class="mt-4 inline-flex items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900 hover:border-slate-300" href="./sklad.html"
                  >Открыть `sklad.html` (спецификация)</a
                >
              </div>
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">Папка экспорта (legacy)</p>
                <p class="mt-2 text-sm leading-6 text-slate-700">
                  Старые браузерные сохранения и тяжёлые ресурсы больше не используются в кейсе. Их можно удалить, когда всё проверишь.
                </p>
              </div>
            </div>
          </section>
        </main>
      </div>
    </div>

    <a
      href="#top"
      data-toc-link
      class="fixed bottom-4 right-4 z-50 hidden sm:inline-flex items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900"
      aria-label="Наверх"
      >Наверх</a
    >

    <script>
      (function () {
        const prefersReduced = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
        const tocLinks = Array.from(document.querySelectorAll("a.toc-link"));
        const allLinks = Array.from(document.querySelectorAll("a[data-toc-link]"));
        const tocSelect = document.getElementById("tocSelect");
        const sections = Array.from(document.querySelectorAll("main section[id], header h1[id]"));

        function setActive(id) {
          if (tocSelect) tocSelect.value = id;
          for (const a of tocLinks) {
            const isActive = a.getAttribute("href") === "#" + id;
            a.classList.toggle("bg-zinc-100", isActive);
            a.classList.toggle("text-zinc-900", isActive);
            a.classList.toggle("font-semibold", isActive);
            a.classList.toggle("text-zinc-700", !isActive);
            if (isActive) a.setAttribute("aria-current", "true");
            else a.removeAttribute("aria-current");
          }
        }

        function scrollToId(id) {
          const el = document.getElementById(id);
          if (!el) return;
          el.focus({ preventScroll: true });
          el.scrollIntoView({ behavior: prefersReduced ? "auto" : "smooth", block: "start" });
          history.replaceState(null, "", "#" + id);
        }

        if (tocSelect) tocSelect.addEventListener("change", () => scrollToId(tocSelect.value));

        for (const a of allLinks) {
          a.addEventListener("click", (e) => {
            const href = a.getAttribute("href") || "";
            if (!href.startsWith("#")) return;
            const id = href.slice(1);
            if (!document.getElementById(id)) return;
            e.preventDefault();
            scrollToId(id);
          });
        }

        if (!("IntersectionObserver" in window)) {
          setActive((location.hash || "#top").slice(1) || "top");
          return;
        }

        const observer = new IntersectionObserver(
          (entries) => {
            const visible = entries
              .filter((e) => e.isIntersecting)
              .sort((a, b) => Math.abs(a.boundingClientRect.top) - Math.abs(b.boundingClientRect.top))[0];
            if (visible && visible.target && visible.target.id) setActive(visible.target.id);
          },
          { root: null, threshold: [0.1, 0.2, 0.35], rootMargin: "-20% 0px -65% 0px" }
        );

        for (const s of sections) observer.observe(s);
        setActive((location.hash || "#top").slice(1) || "top");
      })();
    </script>
  </body>
</html>

<!--
  Legacy export note:
  Below this line used to be a “Save Page As…” dump (inline Tailwind + file:/// links).
  It is intentionally kept non-rendering to avoid breaking the case when hosted.
  Safe to delete entirely once you verify the clean case above.
-->

<!doctype html>
<html lang="ru" class="h-full bg-zinc-50 text-zinc-900">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light" />

    <title>Склад‑15 — складская UX‑архитектура (кейс)</title>
    <meta
      name="description"
      content="Кейс senior UX: архитектура интерфейса для ТСД (PWA, offline‑first, scan‑first). Снижение ошибок и фрикции в складских операциях через сценарии, паттерны восстановления и измеримость."
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="./tokens.css" />
    <link rel="stylesheet" href="./base.css" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="./tailwind-config.js"></script>
    <link rel="stylesheet" href="./theme.css" />

    <style>
      /* Slightly narrower reading width for case narrative */
      .case-prose {
        max-width: 74ch;
      }
    </style>
  </head>

  <body class="min-h-full font-sans antialiased">
    <a
      href="#main"
      class="sr-only focus:not-sr-only focus:fixed focus:left-4 focus:top-4 focus:z-50 focus:rounded-lg focus:border focus:border-slate-200 focus:bg-white focus:px-3 focus:py-2 focus:text-sm focus:font-medium focus:text-slate-900"
      >Перейти к содержанию</a
    >

    <!-- Mobile TOC -->
    <div class="lg:hidden sticky top-0 z-40 border-b border-slate-200 bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/80">
      <div class="mx-auto max-w-[1200px] px-4 py-3">
        <div class="flex items-center gap-3">
          <div class="min-w-0 flex-1">
            <label for="tocSelect" class="block text-xs font-semibold tracking-wide text-slate-600">СОДЕРЖАНИЕ</label>
            <select
              id="tocSelect"
              class="mt-1 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 focus:border-accent focus:outline-none"
              aria-label="Перейти к разделу"
            >
              <option value="top">Вводная</option>
              <option value="challenge">Вызов / проблема</option>
              <option value="role">Моя роль и подход</option>
              <option value="process">Процесс и исследования</option>
              <option value="decisions">Ключевые решения</option>
              <option value="result">Результат и влияние</option>
              <option value="learnings">Выводы</option>
              <option value="appendix">Приложение</option>
            </select>
          </div>
          <a href="#top" data-toc-link class="inline-flex shrink-0 items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900"
            >Наверх</a
          >
        </div>
      </div>
    </div>

    <header class="border-b border-slate-200 bg-white">
      <div class="mx-auto max-w-[1200px] px-4 py-6 lg:px-6">
        <div class="flex flex-wrap items-start justify-between gap-4">
          <div class="min-w-0">
            <p class="text-xs font-semibold tracking-wide text-slate-600">Кейс • Складские операции • PWA для ТСД</p>
            <h1 class="mt-2 text-balance text-2xl font-semibold leading-tight sm:text-3xl lg:text-4xl" id="top">
              Склад‑15: складская UX‑архитектура для ТСД — от «экранов данных» к сценариям действий
            </h1>
            <p class="mt-3 case-prose text-pretty text-sm leading-6 text-slate-700 sm:text-base">
              Проектирование интерфейса для среды с высокой ценой ошибки: нестабильная связь, перчатки, шум, сканер как основной ввод.
              В фокусе — предсказуемый scan‑цикл, offline‑first синхронизация и измеримость качества.
            </p>
          </div>

          <div class="flex flex-wrap gap-2">
            <a href="#decisions" data-toc-link class="inline-flex items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900 hover:border-slate-300"
              >Ключевые решения</a
            >
            <a href="#result" data-toc-link class="inline-flex items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900 hover:border-slate-300"
              >Результат</a
            >
            <a href="#appendix" data-toc-link class="inline-flex items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900 hover:border-slate-300"
              >Приложение</a
            >
          </div>
        </div>

        <div class="mt-6 grid gap-3 sm:grid-cols-3">
          <div class="rounded-xl border border-slate-200 bg-white p-5">
            <p class="text-xs font-semibold tracking-wide text-slate-600">Вызов</p>
            <p class="mt-2 text-sm font-semibold text-slate-900">Снизить ошибки и время на операцию</p>
            <p class="mt-2 text-sm leading-6 text-slate-700">
              Уменьшить «потерю контекста», лишние переходы и дубли действий в условиях офлайна и высокой нагрузки.
            </p>
          </div>
          <div class="rounded-xl border border-slate-200 bg-white p-5">
            <p class="text-xs font-semibold tracking-wide text-slate-600">Роль</p>
            <p class="mt-2 text-sm font-semibold text-slate-900">UX‑архитектор / продуктовый дизайнер</p>
            <p class="mt-2 text-sm leading-6 text-slate-700">
              Сценарии end‑to‑end, модель состояний, паттерны ошибок, требования к синку и контракт метрик.
            </p>
          </div>
          <div class="rounded-xl border border-slate-200 bg-white p-5">
            <p class="text-xs font-semibold tracking-wide text-slate-600">Итог</p>
            <p class="mt-2 text-sm font-semibold text-slate-900">Handoff, готовый к реализации и QA</p>
            <p class="mt-2 text-sm leading-6 text-slate-700">
              Набор паттернов + спецификации сценариев + план измерений и событий для сравнения версий UX.
            </p>
          </div>
        </div>
      </div>
    </header>

    <div class="mx-auto max-w-[1200px] px-4 py-8 lg:px-6">
      <div class="lg:grid lg:grid-cols-[280px_1fr] lg:gap-10">
        <!-- Desktop TOC -->
        <aside class="hidden lg:block">
          <div class="sticky top-6">
            <div class="rounded-xl border border-slate-200 bg-white p-4">
              <p class="text-xs font-semibold tracking-wide text-slate-600">СОДЕРЖАНИЕ</p>
              <nav class="mt-3" aria-label="Оглавление">
                <ul class="space-y-1 text-sm">
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#top" data-toc-link>Вводная</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#challenge" data-toc-link>Вызов / проблема</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#role" data-toc-link>Моя роль и подход</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#process" data-toc-link>Процесс и исследования</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#decisions" data-toc-link>Ключевые решения</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#result" data-toc-link>Результат и влияние</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#learnings" data-toc-link>Выводы</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#appendix" data-toc-link>Приложение</a></li>
                </ul>
              </nav>
            </div>
          </div>
        </aside>

        <!-- Main -->
        <main id="main" class="min-w-0 space-y-10">
          <!-- Challenge -->
          <section id="challenge" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Вызов / проблема</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div>
                <p class="text-sm font-semibold text-slate-900">Бизнес‑контекст</p>
                <p class="mt-2 case-prose text-sm leading-6 text-slate-700">
                  Склад зарабатывает на скорости и точности. Любая ошибка в размещении/подборе/отгрузке — это прямые потери (пересорт, возвраты, срыв SLA),
                  а любая «пауза на подумать» множится на тысячи повторов в день.
                </p>
              </div>
              <div>
                <p class="text-sm font-semibold text-slate-900">Пользовательский контекст</p>
                <p class="mt-2 case-prose text-sm leading-6 text-slate-700">
                  Оператор работает в перчатках и шуме. Ввод — сканер. Экран — инструмент подтверждения и восстановления в исключениях. Связь нестабильна —
                  офлайн должен быть рабочим режимом.
                </p>
              </div>
            </div>
          </section>

          <!-- Role -->
          <section id="role" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Моя роль и подход</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>
            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">Что делал лично</p>
                <ul class="mt-3 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
                  <li>Декомпозировал операции в сквозные сценарии и исключения.</li>
                  <li>Спроектировал модель Next / Now / Done как приоритет информации.</li>
                  <li>Собрал библиотеку паттернов (scan‑ready, подтверждения, ошибки, офлайн‑статусы).</li>
                  <li>Задал “контракт измерения” (метрики + события + свойства) для сравнения версий UX.</li>
                </ul>
              </div>
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">Как принимал решения</p>
                <ul class="mt-3 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
                  <li><span class="font-medium text-slate-900">Friction-first</span>: сначала убрал лишние переходы и неочевидные развилки.</li>
                  <li><span class="font-medium text-slate-900">Design for failure</span>: офлайн и ошибки — не edge, а норма.</li>
                  <li><span class="font-medium text-slate-900">Handoff-ready</span>: разработка и QA не должны “додумывать” поведение.</li>
                </ul>
              </div>
            </div>
          </section>

          <!-- Process -->
          <section id="process" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Процесс и исследования</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>
            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div>
                <p class="text-sm font-semibold text-slate-900">Исходные данные</p>
                <ul class="mt-3 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
                  <li>Документация и текущие сценарии “как есть”.</li>
                  <li>Полевые допущения (ввод сканером, нестабильная сеть, цена ошибки).</li>
                  <li>Разбор типовых “провалов” интерфейсов ТСД.</li>
                </ul>
              </div>
              <div>
                <p class="text-sm font-semibold text-slate-900">Артефакты</p>
                <ul class="mt-3 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
                  <li>Wireflows и список исключений.</li>
                  <li>Decision log: стандартизация паттернов.</li>
                  <li>Offline‑матрица тестов.</li>
                </ul>
              </div>
            </div>
          </section>

          <!-- Decisions -->
          <section id="decisions" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Ключевые решения и обоснование</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>
            <div class="mt-4 grid gap-4 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">Next / Now / Done</p>
                <p class="mt-2 text-sm leading-6 text-slate-700">Следующий шаг — первый. Один экран = одно решение.</p>
              </div>
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">Ошибки как сценарии</p>
                <p class="mt-2 text-sm leading-6 text-slate-700">Не тосты, а состояния с безопасными действиями восстановления.</p>
              </div>
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">Offline‑first</p>
                <p class="mt-2 text-sm leading-6 text-slate-700">Очередь синка + явный статус, чтобы исключить дубли действий.</p>
              </div>
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">Измеримость</p>
                <p class="mt-2 text-sm leading-6 text-slate-700">События и метрики фиксируются вместе с UX‑решением.</p>
              </div>
            </div>
          </section>

          <!-- Result -->
          <section id="result" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Результат и влияние</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>
            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">Что передал в разработку</p>
                <ul class="mt-3 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
                  <li>Флоу по операциям + исключения.</li>
                  <li>Паттерны scan‑цикла и подтверждений.</li>
                  <li>Offline‑контракт и диагностика очереди.</li>
                  <li>Measurement plan.</li>
                </ul>
              </div>
              <div class="rounded-xl border border-slate-200 bg-slate-50 p-6">
                <p class="text-sm font-semibold text-slate-900">Как измерять эффект</p>
                <ul class="mt-3 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
                  <li>time_to_first_scan, scans_per_minute</li>
                  <li>%errors, duplicate_actions</li>
                  <li>abandon_rate на завершении документов</li>
                </ul>
              </div>
            </div>
          </section>

          <!-- Learnings -->
          <section id="learnings" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Выводы</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>
            <ul class="mt-4 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
              <li>В высокорисковых системах первична предсказуемость действий и восстановление после ошибок.</li>
              <li>Offline‑first — это дисциплина состояний и доверия, а не “просто кэш”.</li>
              <li>Стандартизация паттернов снижает обучение и вариативность ошибок в масштабе.</li>
            </ul>
          </section>

          <!-- Appendix -->
          <section id="appendix" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Приложение</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>
            <div class="mt-4 rounded-xl border border-slate-200 bg-slate-50 p-6">
              <p class="text-sm font-semibold text-slate-900">Полная инженерная спецификация</p>
              <p class="mt-2 text-sm leading-6 text-slate-700">
                Детальные таблицы сценариев, ошибок и требований offline‑очереди — в отдельном файле, чтобы основной кейс оставался читаемым.
              </p>
              <a class="mt-4 inline-flex items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900 hover:border-slate-300" href="./sklad.html"
                >Открыть `sklad.html` (спецификация)</a
              >
            </div>
          </section>
        </main>
      </div>
    </div>

    <a
      href="#top"
      data-toc-link
      class="fixed bottom-4 right-4 z-50 hidden sm:inline-flex items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900"
      aria-label="Наверх"
      >Наверх</a
    >

    <script>
      // Minimal JS: TOC active highlight + smooth scrolling (no heavy deps).
      (function () {
        const prefersReduced = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
        const tocLinks = Array.from(document.querySelectorAll("a.toc-link"));
        const allLinks = Array.from(document.querySelectorAll("a[data-toc-link]"));
        const tocSelect = document.getElementById("tocSelect");
        const sections = Array.from(document.querySelectorAll("main section[id], header h1[id]"));

        function setActive(id) {
          if (tocSelect) tocSelect.value = id;
          for (const a of tocLinks) {
            const isActive = a.getAttribute("href") === "#" + id;
            a.classList.toggle("bg-zinc-100", isActive);
            a.classList.toggle("text-zinc-900", isActive);
            a.classList.toggle("font-semibold", isActive);
            a.classList.toggle("text-zinc-700", !isActive);
            if (isActive) a.setAttribute("aria-current", "true");
            else a.removeAttribute("aria-current");
          }
        }

        function scrollToId(id) {
          const el = document.getElementById(id);
          if (!el) return;
          el.focus({ preventScroll: true });
          el.scrollIntoView({ behavior: prefersReduced ? "auto" : "smooth", block: "start" });
          history.replaceState(null, "", "#" + id);
        }

        if (tocSelect) tocSelect.addEventListener("change", () => scrollToId(tocSelect.value));

        for (const a of allLinks) {
          a.addEventListener("click", (e) => {
            const href = a.getAttribute("href") || "";
            if (!href.startsWith("#")) return;
            const id = href.slice(1);
            if (!document.getElementById(id)) return;
            e.preventDefault();
            scrollToId(id);
          });
        }

        if (!("IntersectionObserver" in window)) {
          setActive((location.hash || "#top").slice(1) || "top");
          return;
        }

        const observer = new IntersectionObserver(
          (entries) => {
            const visible = entries
              .filter((e) => e.isIntersecting)
              .sort((a, b) => Math.abs(a.boundingClientRect.top) - Math.abs(b.boundingClientRect.top))[0];
            if (visible && visible.target && visible.target.id) setActive(visible.target.id);
          },
          { root: null, threshold: [0.1, 0.2, 0.35], rootMargin: "-20% 0px -65% 0px" }
        );

        for (const s of sections) observer.observe(s);
        setActive((location.hash || "#top").slice(1) || "top");
      })();
    </script>
  </body>
</html>
-->

<!doctype html>
<html lang="ru" class="h-full bg-zinc-50 text-zinc-900">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light" />

    <title>Склад‑15 — складская UX‑архитектура (кейс)</title>
    <meta
      name="description"
      content="Кейс senior UX: архитектура интерфейса для ТСД (PWA, offline‑first, scan‑first). Снижение ошибок и фрикции в складских операциях через сценарии, паттерны восстановления и измеримость."
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="./tokens.css" />
    <link rel="stylesheet" href="./base.css" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="./tailwind-config.js"></script>
    <link rel="stylesheet" href="./theme.css" />

    <style>
      /* Slightly narrower reading width for case narrative */
      .case-prose {
        max-width: 74ch;
      }
    </style>
  </head>

  <body class="min-h-full font-sans antialiased">
    <a
      href="#main"
      class="sr-only focus:not-sr-only focus:fixed focus:left-4 focus:top-4 focus:z-50 focus:rounded-lg focus:border focus:border-slate-200 focus:bg-white focus:px-3 focus:py-2 focus:text-sm focus:font-medium focus:text-slate-900"
      >Перейти к содержанию</a
    >

    <!-- Mobile TOC -->
    <div class="lg:hidden sticky top-0 z-40 border-b border-slate-200 bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/80">
      <div class="mx-auto max-w-[1200px] px-4 py-3">
        <div class="flex items-center gap-3">
          <div class="min-w-0 flex-1">
            <label for="tocSelect" class="block text-xs font-semibold tracking-wide text-slate-600">СОДЕРЖАНИЕ</label>
            <select
              id="tocSelect"
              class="mt-1 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 focus:border-accent focus:outline-none"
              aria-label="Перейти к разделу"
            >
              <option value="top">Вводная</option>
              <option value="challenge">Вызов / проблема</option>
              <option value="role">Моя роль и подход</option>
              <option value="process">Процесс и исследования</option>
              <option value="decisions">Ключевые решения</option>
              <option value="result">Результат и влияние</option>
              <option value="learnings">Выводы</option>
              <option value="appendix">Приложение</option>
            </select>
          </div>
          <a href="#top" data-toc-link class="inline-flex shrink-0 items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900"
            >Наверх</a
          >
        </div>
      </div>
    </div>

    <header class="border-b border-slate-200 bg-white">
      <div class="mx-auto max-w-[1200px] px-4 py-6 lg:px-6">
        <div class="flex flex-wrap items-start justify-between gap-4">
          <div class="min-w-0">
            <p class="text-xs font-semibold tracking-wide text-slate-600">Кейс • Складские операции • PWA для ТСД</p>
            <h1 class="mt-2 text-balance text-2xl font-semibold leading-tight sm:text-3xl lg:text-4xl" id="top">
              Склад‑15: складская UX‑архитектура для ТСД — от «экранов данных» к сценариям действий
            </h1>
            <p class="mt-3 case-prose text-pretty text-sm leading-6 text-slate-700 sm:text-base">
              Проектирование интерфейса для среды с высокой ценой ошибки: нестабильная связь, перчатки, шум, сканер как основной ввод.
              В фокусе — предсказуемый scan‑цикл, offline‑first синхронизация и измеримость качества.
            </p>
          </div>

          <div class="flex flex-wrap gap-2">
            <a href="#decisions" data-toc-link class="inline-flex items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900 hover:border-slate-300"
              >Ключевые решения</a
            >
            <a href="#result" data-toc-link class="inline-flex items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900 hover:border-slate-300"
              >Результат</a
            >
            <a href="#appendix" data-toc-link class="inline-flex items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900 hover:border-slate-300"
              >Приложение</a
            >
          </div>
        </div>

        <div class="mt-6 grid gap-3 sm:grid-cols-3">
          <div class="rounded-xl border border-slate-200 bg-white p-5">
            <p class="text-xs font-semibold tracking-wide text-slate-600">Вызов</p>
            <p class="mt-2 text-sm font-semibold text-slate-900">Снизить ошибки и время на операцию</p>
            <p class="mt-2 text-sm leading-6 text-slate-700">
              Уменьшить «потерю контекста», лишние переходы и дубли действий в условиях офлайна и высокой нагрузки.
            </p>
          </div>
          <div class="rounded-xl border border-slate-200 bg-white p-5">
            <p class="text-xs font-semibold tracking-wide text-slate-600">Роль</p>
            <p class="mt-2 text-sm font-semibold text-slate-900">UX‑архитектор / продуктовый дизайнер</p>
            <p class="mt-2 text-sm leading-6 text-slate-700">
              Сценарии end‑to‑end, модель состояний, паттерны ошибок, требования к синку и контракт метрик.
            </p>
          </div>
          <div class="rounded-xl border border-slate-200 bg-white p-5">
            <p class="text-xs font-semibold tracking-wide text-slate-600">Итог</p>
            <p class="mt-2 text-sm font-semibold text-slate-900">Handoff, готовый к реализации и QA</p>
            <p class="mt-2 text-sm leading-6 text-slate-700">
              Набор паттернов + спецификации сценариев + план измерений и событий для сравнения версий UX.
            </p>
          </div>
        </div>
      </div>
    </header>

    <div class="mx-auto max-w-[1200px] px-4 py-8 lg:px-6">
      <div class="lg:grid lg:grid-cols-[280px_1fr] lg:gap-10">
        <!-- Desktop TOC -->
        <aside class="hidden lg:block">
          <div class="sticky top-6">
            <div class="rounded-xl border border-slate-200 bg-white p-4">
              <p class="text-xs font-semibold tracking-wide text-slate-600">СОДЕРЖАНИЕ</p>
              <nav class="mt-3" aria-label="Оглавление">
                <ul class="space-y-1 text-sm">
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#top" data-toc-link>Вводная</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#challenge" data-toc-link>Вызов / проблема</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#role" data-toc-link>Моя роль и подход</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#process" data-toc-link>Процесс и исследования</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#decisions" data-toc-link>Ключевые решения</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#result" data-toc-link>Результат и влияние</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#learnings" data-toc-link>Выводы</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-slate-700 hover:bg-slate-50" href="#appendix" data-toc-link>Приложение</a></li>
                </ul>
              </nav>

              <div class="mt-4 border-t border-slate-200 pt-3 text-xs text-slate-600">
                <p class="font-semibold text-slate-900">Три принципа, которыми я “держал” решение</p>
                <ul class="mt-2 list-disc space-y-1 pl-5">
                  <li>Следующий шаг важнее контекста</li>
                  <li>Ошибки — это сценарии восстановления</li>
                  <li>Офлайн — нормальный режим, а не исключение</li>
                </ul>
              </div>
            </div>

            <div class="mt-4 rounded-xl border border-slate-200 bg-slate-50 p-4">
              <p class="text-xs font-semibold tracking-wide text-slate-600">АРТЕФАКТЫ</p>
              <ul class="mt-2 space-y-2 text-sm text-slate-700">
                <li><span class="font-medium text-slate-900">User flows</span> по операциям</li>
                <li><span class="font-medium text-slate-900">UX‑паттерны</span> scan‑цикла и ошибок</li>
                <li><span class="font-medium text-slate-900">Measurement plan</span> (события, метрики)</li>
                <li><span class="font-medium text-slate-900">PWA blueprint</span> (кэш, очередь синка)</li>
              </ul>
            </div>
          </div>
        </aside>

        <!-- Main -->
        <main id="main" class="min-w-0 space-y-10">
          <!-- Challenge -->
          <section id="challenge" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Вызов / проблема</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div>
                <p class="text-sm font-semibold text-slate-900">Бизнес‑контекст</p>
                <p class="mt-2 case-prose text-sm leading-6 text-slate-700">
                  Склад зарабатывает на скорости и точности. Любая ошибка в размещении/подборе/отгрузке — это прямые потери (пересорт, возвраты, срыв SLA),
                  а любая «пауза на подумать» множится на тысячи повторов в день.
                </p>
              </div>
              <div>
                <p class="text-sm font-semibold text-slate-900">Пользовательский контекст</p>
                <p class="mt-2 case-prose text-sm leading-6 text-slate-700">
                  Оператор работает в перчатках и шуме. Ввод — сканер. Экран — не “интерфейс для чтения”, а инструмент подтверждения и восстановления
                  в исключениях. Связь нестабильна — офлайн должен быть рабочим режимом.
                </p>
              </div>
            </div>

            <div class="mt-6 rounded-xl border border-slate-200 bg-slate-50 p-6">
              <p class="text-sm font-semibold text-slate-900">Как я сформулировал задачу дизайна</p>
              <ul class="mt-3 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
                <li>Сделать «scan‑цикл» основным состоянием интерфейса: минимальные шаги до следующего скана.</li>
                <li>Описать ошибки как сценарии: быстрый путь восстановления, без наказания пользователя.</li>
                <li>Обеспечить offline‑first: очередь действий + видимое состояние синхронизации, чтобы исключить дубли.</li>
                <li>Сделать UX измеримым: заранее определить события, которые дадут KPI и регрессионные проверки.</li>
              </ul>
            </div>
          </section>

          <!-- Role -->
          <section id="role" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Моя роль и подход</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">Что делал лично</p>
                <ul class="mt-3 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
                  <li>Декомпозировал операции склада в сквозные сценарии и исключения.</li>
                  <li>Спроектировал модель приоритета информации: <span class="font-medium text-slate-900">Next / Now / Done</span>.</li>
                  <li>Собрал библиотеку переиспользуемых паттернов (scan‑ready, подтверждения, ошибки, офлайн‑статусы).</li>
                  <li>Задал “контракт измерения” (метрики + события + свойства) для сравнения версий UX.</li>
                </ul>
              </div>
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">Принципы принятия решений</p>
                <ul class="mt-3 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
                  <li><span class="font-medium text-slate-900">User-centered</span>: проектировал под «мышечную память», а не под презентацию данных.</li>
                  <li><span class="font-medium text-slate-900">Friction-first</span>: сначала убрал лишние переходы и неочевидные развилки.</li>
                  <li><span class="font-medium text-slate-900">Design for failure</span>: офлайн, расхождения, неизвестные штрихкоды — не edge, а норма.</li>
                  <li><span class="font-medium text-slate-900">Handoff-ready</span>: спецификация так, чтобы разработка и QA не додумывали.</li>
                </ul>
              </div>
            </div>
          </section>

          <!-- Process -->
          <section id="process" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Процесс и исследования</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div>
                <p class="text-sm font-semibold text-slate-900">Исходные данные</p>
                <ul class="mt-3 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
                  <li>Документация и текущие пользовательские сценарии “как есть”.</li>
                  <li>Полевые допущения (ввод сканером, нестабильная сеть, цена ошибки).</li>
                  <li>Разбор типовых “провалов” интерфейсов ТСД: вложенная навигация, тосты вместо сценариев, «сначала меню, потом работа».</li>
                </ul>
              </div>
              <div>
                <p class="text-sm font-semibold text-slate-900">Артефакты процесса</p>
                <ul class="mt-3 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
                  <li>JTBD/CJM по операциям и исключениям.</li>
                  <li>Wireflows: вход в модуль → scan‑цикл → подтверждения/ошибки → завершение.</li>
                  <li>Decision log: что стандартизировал и почему.</li>
                  <li>Чек‑листы тестирования (включая offline‑матрицу).</li>
                </ul>
              </div>
            </div>

            <div class="mt-6 overflow-x-auto rounded-xl border border-slate-200 bg-slate-50 p-6">
              <p class="text-sm font-semibold text-slate-900">Схема: “одна операция” как петля</p>
              <p class="mt-2 case-prose text-sm leading-6 text-slate-700">
                Я сознательно сделал фокус на цикле, а не на экранах: он лучше масштабируется на разные модули склада и стабилизирует поведение.
              </p>
              <svg viewBox="0 0 980 210" class="mt-4 h-auto min-w-[820px] w-full rounded-lg border border-slate-200 bg-white p-4" role="img" aria-label="Loop: List → Scan-ready → Confirm/Recover → Next scan → Complete">
                <defs>
                  <style>
                    .b { fill: var(--surface-0); stroke: var(--border-subtle); stroke-width: 2; }
                    .t { font: 600 13px var(--font-sans); fill: var(--text-1); }
                    .s { font: 500 12px var(--font-sans); fill: var(--text-3); }
                    .a { stroke: var(--text-2); stroke-width: 2; fill: none; marker-end: url(#m); }
                  </style>
                  <marker id="m" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
                    <path d="M 0 0 L 10 5 L 0 10 z" fill="var(--text-2)"></path>
                  </marker>
                </defs>
                <rect class="b" x="30" y="60" width="170" height="70" rx="12"></rect>
                <text class="t" x="50" y="92">Список документов</text>
                <text class="s" x="50" y="112">быстрый вход</text>

                <rect class="b" x="240" y="35" width="200" height="120" rx="12"></rect>
                <text class="t" x="260" y="78">Scan‑ready экран</text>
                <text class="s" x="260" y="98">Next/Now/Done</text>
                <text class="s" x="260" y="118">фокус на ввод</text>

                <rect class="b" x="485" y="60" width="200" height="70" rx="12"></rect>
                <text class="t" x="505" y="92">Исключения</text>
                <text class="s" x="505" y="112">ошибка как сценарий</text>

                <rect class="b" x="730" y="60" width="220" height="70" rx="12"></rect>
                <text class="t" x="750" y="92">Завершение</text>
                <text class="s" x="750" y="112">подтверждение расхождений</text>

                <path class="a" d="M200 95 L240 95"></path>
                <path class="a" d="M440 95 L485 95"></path>
                <path class="a" d="M585 130 C 585 175 345 175 345 155"></path>
                <path class="a" d="M685 95 L730 95"></path>
                <path class="a" d="M840 130 C 840 190 140 190 140 130"></path>
              </svg>
            </div>
          </section>

          <!-- Decisions -->
          <section id="decisions" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Ключевые решения и обоснование</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>

            <div class="mt-4 grid gap-4 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">1) Next / Now / Done как система приоритетов</p>
                <p class="mt-2 text-sm leading-6 text-slate-700">
                  В складском интерфейсе ключевое — <span class="font-medium text-slate-900">следующий шаг</span>. Я убрал «слои контекста», которые мешают циклу,
                  и закрепил правило: один экран — одно решение.
                </p>
                <p class="mt-3 text-xs text-slate-600">Альтернатива: data-heavy таблицы и “много всего на одном экране” → больше ошибок и пауз.</p>
              </div>

              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">2) Ошибки как состояния с путём восстановления</p>
                <p class="mt-2 text-sm leading-6 text-slate-700">
                  «Неизвестный штрихкод», «товар не в документе», «офлайн» — это не тост. Это состояние, где есть безопасные действия:
                  перескан, ручной ввод, отмена, диагностика очереди.
                </p>
                <p class="mt-3 text-xs text-slate-600">Это снижает фрикцию и предотвращает “панику” пользователя.</p>
              </div>

              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">3) Offline‑first: очередь синка + явный статус</p>
                <p class="mt-2 text-sm leading-6 text-slate-700">
                  Важное: оператор должен понимать, что действие <span class="font-medium text-slate-900">записано</span>, даже если сеть “умерла”.
                  Статус синхронизации видим, а повторные действия не приводят к дублям без явного сигнала.
                </p>
              </div>

              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">4) Два оператора как first‑class сценарий</p>
                <p class="mt-2 text-sm leading-6 text-slate-700">
                  Если два человека работают над одной операцией, система должна поддерживать атрибуцию (operator_id + partner_id),
                  чтобы KPI были честными, а коммуникация — не через “перекидывание ТСД”.
                </p>
              </div>

              <div class="rounded-xl border border-slate-200 bg-white p-6 lg:col-span-2">
                <p class="text-sm font-semibold text-slate-900">5) Измеримость как часть дизайна (не “потом аналитика”) </p>
                <p class="mt-2 text-sm leading-6 text-slate-700">
                  Я заранее зафиксировал, какие события логируем (скан, ошибка, открытие документа, завершение, смена статуса синка) и какие свойства
                  обязательны. Это позволяет сравнивать версии интерфейса по одному протоколу и проводить регрессию.
                </p>
              </div>
            </div>
          </section>

          <!-- Result -->
          <section id="result" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Результат и влияние</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">Что получилось на выходе</p>
                <ul class="mt-3 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
                  <li>Единая UX‑модель scan‑цикла для ключевых операций склада.</li>
                  <li>Специфицированные сценарии с таблицами ошибок и правил завершения.</li>
                  <li>Offline‑first требования: очередь синка, статусы, правила идемпотентности.</li>
                  <li>Measurement plan: метрики, события, свойства.</li>
                </ul>
              </div>

              <div class="rounded-xl border border-slate-200 bg-slate-50 p-6">
                <p class="text-sm font-semibold text-slate-900">Как я описываю эффект (честно, без “магических цифр”)</p>
                <p class="mt-2 text-sm leading-6 text-slate-700">
                  В этом формате кейса я фиксирую <span class="font-medium text-slate-900">ожидаемое влияние</span> и <span class="font-medium text-slate-900">как его измерить</span>.
                  Если у продукта нет реальных данных, я не придумываю A/B‑результаты, но показываю, что дизайн готов к проверке.
                </p>
                <ul class="mt-3 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
                  <li>Сокращение “времени до первого скана” за счёт scan‑ready экрана.</li>
                  <li>Снижение дубликатов действий в офлайне благодаря явным статусам синка.</li>
                  <li>Снижение ошибок подбора/размещения за счёт блокирующих проверок и сценариев восстановления.</li>
                </ul>
              </div>
            </div>

            <div class="mt-6 overflow-x-auto rounded-xl border border-slate-200 bg-white p-6">
              <p class="text-sm font-semibold text-slate-900">Набор метрик (уровень продукта)</p>
              <table class="mt-3 min-w-[980px] w-full text-left text-sm">
                <thead class="bg-slate-50 text-xs font-semibold tracking-wide text-slate-700">
                  <tr>
                    <th class="px-4 py-3">Метрика</th>
                    <th class="px-4 py-3">Зачем</th>
                    <th class="px-4 py-3">Какие события нужны</th>
                  </tr>
                </thead>
                <tbody class="divide-y divide-slate-200 text-slate-700">
                  <tr>
                    <td class="px-4 py-3 font-medium text-slate-900">Time to first scan</td>
                    <td class="px-4 py-3">Показывает фрикцию входа в цикл</td>
                    <td class="px-4 py-3 font-mono text-xs">doc_open, scan_success</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 font-medium text-slate-900">Scans per minute</td>
                    <td class="px-4 py-3">Прокси пропускной способности</td>
                    <td class="px-4 py-3 font-mono text-xs">scan_success</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 font-medium text-slate-900">% errors</td>
                    <td class="px-4 py-3">Цена ошибок интерфейса</td>
                    <td class="px-4 py-3 font-mono text-xs">scan_error, scan_success</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 font-medium text-slate-900">Duplicate actions</td>
                    <td class="px-4 py-3">Офлайн‑риск (повторы)</td>
                    <td class="px-4 py-3 font-mono text-xs">sync_state_change + action_id</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>

          <!-- Learnings -->
          <section id="learnings" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Что я вынес (как senior)</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>
            <ul class="mt-4 list-disc space-y-2 pl-5 text-sm leading-6 text-slate-700">
              <li>В высокорисковых системах «красивый UI» вторичен: первична предсказуемость действий и восстановление после ошибок.</li>
              <li>Offline‑first — это не “кэш”, а дисциплина состояний и доверия: пользователь должен видеть, что система «помнит» действие.</li>
              <li>Стандартизация паттернов — самый быстрый путь снизить обучение и вариативность ошибок в масштабе.</li>
            </ul>
          </section>

          <!-- Appendix -->
          <section id="appendix" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Приложение</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>

            <div class="mt-4 grid gap-4 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-slate-50 p-6">
                <p class="text-sm font-semibold text-slate-900">Полная инженерная спецификация</p>
                <p class="mt-2 text-sm leading-6 text-slate-700">
                  Детальные таблицы сценариев, ошибок и требований offline‑очереди я держу отдельно, чтобы основной кейс оставался читаемым для найма.
                </p>
                <a class="mt-4 inline-flex items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900 hover:border-slate-300" href="./sklad.html"
                  >Открыть `sklad.html` (спецификация)</a
                >
              </div>
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <p class="text-sm font-semibold text-slate-900">Техническая рамка (PWA)</p>
                <p class="mt-2 text-sm leading-6 text-slate-700">
                  IndexedDB для локальной записи, очередь синхронизации, ретраи с диагностикой. Ниже — компактная диаграмма.
                </p>
                <svg viewBox="0 0 980 170" class="mt-4 h-auto w-full rounded-lg border border-slate-200 bg-slate-50 p-4" role="img" aria-label="Operator → PWA → IndexedDB → Sync Queue → API → ERP">
                  <defs>
                    <style>
                      .b { fill: var(--surface-0); stroke: var(--border-subtle); stroke-width: 2; }
                      .t { font: 13px var(--font-sans); fill: var(--text-1); }
                      .a { stroke: var(--text-2); stroke-width: 2; fill: none; marker-end: url(#m2); }
                    </style>
                    <marker id="m2" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
                      <path d="M 0 0 L 10 5 L 0 10 z" fill="var(--text-2)"></path>
                    </marker>
                  </defs>
                  <rect class="b" x="20" y="55" width="130" height="60" rx="10"></rect>
                  <text class="t" x="40" y="90">Оператор</text>
                  <rect class="b" x="180" y="55" width="140" height="60" rx="10"></rect>
                  <text class="t" x="200" y="90">PWA</text>
                  <rect class="b" x="350" y="55" width="150" height="60" rx="10"></rect>
                  <text class="t" x="370" y="90">IndexedDB</text>
                  <rect class="b" x="530" y="55" width="150" height="60" rx="10"></rect>
                  <text class="t" x="550" y="90">Sync Queue</text>
                  <rect class="b" x="710" y="55" width="110" height="60" rx="10"></rect>
                  <text class="t" x="730" y="90">API</text>
                  <rect class="b" x="850" y="55" width="110" height="60" rx="10"></rect>
                  <text class="t" x="870" y="90">ERP</text>
                  <path class="a" d="M150 85 L180 85"></path>
                  <path class="a" d="M320 85 L350 85"></path>
                  <path class="a" d="M500 85 L530 85"></path>
                  <path class="a" d="M680 85 L710 85"></path>
                  <path class="a" d="M820 85 L850 85"></path>
                </svg>
              </div>
            </div>
          </section>
        </main>
      </div>
    </div>

    <a
      href="#top"
      data-toc-link
      class="fixed bottom-4 right-4 z-50 hidden sm:inline-flex items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900"
      aria-label="Наверх"
      >Наверх</a
    >

    <script>
      // Minimal JS: TOC active highlight + smooth scrolling (no heavy deps).
      (function () {
        const prefersReduced = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
        const tocLinks = Array.from(document.querySelectorAll("a.toc-link"));
        const allLinks = Array.from(document.querySelectorAll("a[data-toc-link]"));
        const tocSelect = document.getElementById("tocSelect");
        const sections = Array.from(document.querySelectorAll("main section[id], header h1[id]"));

        function setActive(id) {
          if (tocSelect) tocSelect.value = id;
          for (const a of tocLinks) {
            const isActive = a.getAttribute("href") === "#" + id;
            a.classList.toggle("bg-zinc-100", isActive);
            a.classList.toggle("text-zinc-900", isActive);
            a.classList.toggle("font-semibold", isActive);
            a.classList.toggle("text-zinc-700", !isActive);
            if (isActive) a.setAttribute("aria-current", "true");
            else a.removeAttribute("aria-current");
          }
        }

        function scrollToId(id) {
          const el = document.getElementById(id);
          if (!el) return;
          el.focus({ preventScroll: true });
          el.scrollIntoView({ behavior: prefersReduced ? "auto" : "smooth", block: "start" });
          history.replaceState(null, "", "#" + id);
        }

        if (tocSelect) tocSelect.addEventListener("change", () => scrollToId(tocSelect.value));

        for (const a of allLinks) {
          a.addEventListener("click", (e) => {
            const href = a.getAttribute("href") || "";
            if (!href.startsWith("#")) return;
            const id = href.slice(1);
            if (!document.getElementById(id)) return;
            e.preventDefault();
            scrollToId(id);
          });
        }

        if (!("IntersectionObserver" in window)) {
          setActive((location.hash || "#top").slice(1) || "top");
          return;
        }

        const observer = new IntersectionObserver(
          (entries) => {
            const visible = entries
              .filter((e) => e.isIntersecting)
              .sort((a, b) => Math.abs(a.boundingClientRect.top) - Math.abs(b.boundingClientRect.top))[0];
            if (visible && visible.target && visible.target.id) setActive(visible.target.id);
          },
          { root: null, threshold: [0.1, 0.2, 0.35], rootMargin: "-20% 0px -65% 0px" }
        );

        for (const s of sections) observer.observe(s);
        setActive((location.hash || "#top").slice(1) || "top");
      })();
    </script>
  </body>
</html>

<!doctype html>
<html lang="ru" class="h-full bg-zinc-50 text-zinc-900">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light" />
    <title>Склад‑15 — складская UX‑архитектура (кейс‑спецификация)</title>
    <meta
      name="description"
      content="Кейс‑спецификация: складская UX‑архитектура «склад‑сначала» для «Склад‑15». PWA для ТСД: офлайн‑сначала, скан‑сначала, измеримый UX, режим двух операторов."
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />

    <!-- Shared tokens + base rules -->
    <link rel="stylesheet" href="./tokens.css" />
    <link rel="stylesheet" href="./base.css" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="./tailwind-config.js"></script>
    <link rel="stylesheet" href="./theme.css" />
  </head>

  <body class="min-h-full font-sans antialiased">
    <a
      href="#main"
      class="sr-only focus:not-sr-only focus:fixed focus:left-4 focus:top-4 focus:z-50 focus:rounded-lg focus:border focus:border-zinc-200 focus:bg-white focus:px-3 focus:py-2 focus:text-sm focus:font-semibold focus:text-zinc-900"
      >Перейти к содержанию</a
    >

    <!-- Мобильное оглавление -->
    <div class="lg:hidden sticky top-0 z-40 border-b border-zinc-200 bg-zinc-50/95 backdrop-blur supports-[backdrop-filter]:bg-zinc-50/80">
      <div class="mx-auto max-w-[1360px] px-4 py-3">
        <div class="flex items-center gap-3">
          <div class="min-w-0 flex-1">
            <label for="tocSelect" class="block text-xs font-semibold tracking-wide text-zinc-600">ОГЛАВЛЕНИЕ</label>
            <select
              id="tocSelect"
              class="mt-1 w-full rounded-lg border border-zinc-300 bg-white px-3 py-2 text-sm text-zinc-900 focus:border-accent focus:outline-none"
              aria-label="Перейти к разделу"
            >
              <option value="top">1) Вводная</option>
              <option value="context">2) Контекст и ограничения</option>
              <option value="research">3) Исследование</option>
              <option value="hypotheses">4) Гипотезы</option>
              <option value="constitution">5) UX‑конституция</option>
              <option value="flows">6) Сценарии</option>
              <option value="flow-receiving">— Приёмка</option>
              <option value="flow-placement">— Размещение</option>
              <option value="flow-picking">— Подбор</option>
              <option value="flow-shipping">— Отгрузка</option>
              <option value="flow-returns">— Возврат и списание</option>
              <option value="flow-inventory">— Инвентаризация</option>
              <option value="flow-labels">— Штрихкоды и этикетки</option>
              <option value="flow-settings">— Настройки</option>
              <option value="metrics">7) Метрики и измерения</option>
              <option value="iterations">8) Итерации</option>
              <option value="testing">9) Стратегия тестирования</option>
              <option value="outcome">10) Итог и ценность</option>
              <option value="appendix">11) Приложение</option>
            </select>
          </div>
          <a href="#top" data-toc-link class="inline-flex shrink-0 items-center rounded-lg border border-zinc-200 bg-white px-3 py-2 text-sm font-medium text-zinc-900"
            >Наверх</a
          >
        </div>
      </div>
    </div>

    <header class="border-b border-zinc-200 bg-white">
      <div class="mx-auto max-w-[1360px] px-4 py-4 lg:px-6">
        <div class="flex flex-wrap items-center justify-between gap-3">
          <div class="min-w-0">
            <p class="text-xs font-semibold tracking-wide text-zinc-600">Склад‑15 • кейс‑спецификация</p>
            <p class="mt-1 text-sm font-medium text-zinc-900">Архитектура «склад‑сначала» для ТСД (PWA)</p>
          </div>
          <div class="flex items-center gap-2">
            <a href="#flows" data-toc-link class="inline-flex items-center rounded-lg border border-zinc-200 bg-white px-3 py-2 text-sm font-medium text-zinc-900"
              >Сценарии</a
            >
            <a href="#metrics" data-toc-link class="inline-flex items-center rounded-lg border border-zinc-200 bg-white px-3 py-2 text-sm font-medium text-zinc-900"
              >Метрики</a
            >
          </div>
        </div>
      </div>
    </header>

    <div class="mx-auto max-w-[1360px] px-4 py-8 lg:px-6">
      <div class="lg:grid lg:grid-cols-[320px_1fr] lg:gap-10">
        <aside class="hidden lg:block">
          <div class="sticky top-6">
            <div class="rounded-xl border border-zinc-200 bg-white p-4">
              <div class="flex items-center justify-between gap-3">
                <p class="text-xs font-semibold tracking-wide text-zinc-600">СОДЕРЖАНИЕ</p>
                <a href="#top" data-toc-link class="text-xs font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">Наверх</a>
              </div>
              <nav aria-label="Оглавление" class="mt-3">
                <ul class="space-y-1 text-sm">
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-zinc-700 hover:bg-zinc-50" href="#top" data-toc-link>1) Вводная</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-zinc-700 hover:bg-zinc-50" href="#context" data-toc-link>2) Контекст и ограничения</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-zinc-700 hover:bg-zinc-50" href="#research" data-toc-link>3) Исследование</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-zinc-700 hover:bg-zinc-50" href="#hypotheses" data-toc-link>4) Гипотезы</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-zinc-700 hover:bg-zinc-50" href="#constitution" data-toc-link>5) UX‑конституция</a></li>
                  <li>
                    <a class="toc-link block rounded-lg px-3 py-2 text-zinc-700 hover:bg-zinc-50" href="#flows" data-toc-link>6) Сценарии</a>
                    <ul class="mt-1 space-y-1 border-l border-zinc-200 pl-3">
                      <li><a class="toc-link block rounded-lg px-3 py-2 text-zinc-700 hover:bg-zinc-50" href="#flow-receiving" data-toc-link>— Приёмка</a></li>
                      <li><a class="toc-link block rounded-lg px-3 py-2 text-zinc-700 hover:bg-zinc-50" href="#flow-placement" data-toc-link>— Размещение</a></li>
                      <li><a class="toc-link block rounded-lg px-3 py-2 text-zinc-700 hover:bg-zinc-50" href="#flow-picking" data-toc-link>— Подбор</a></li>
                      <li><a class="toc-link block rounded-lg px-3 py-2 text-zinc-700 hover:bg-zinc-50" href="#flow-shipping" data-toc-link>— Отгрузка</a></li>
                      <li><a class="toc-link block rounded-lg px-3 py-2 text-zinc-700 hover:bg-zinc-50" href="#flow-returns" data-toc-link>— Возврат и списание</a></li>
                      <li><a class="toc-link block rounded-lg px-3 py-2 text-zinc-700 hover:bg-zinc-50" href="#flow-inventory" data-toc-link>— Инвентаризация</a></li>
                      <li><a class="toc-link block rounded-lg px-3 py-2 text-zinc-700 hover:bg-zinc-50" href="#flow-labels" data-toc-link>— Штрихкоды и этикетки</a></li>
                      <li><a class="toc-link block rounded-lg px-3 py-2 text-zinc-700 hover:bg-zinc-50" href="#flow-settings" data-toc-link>— Настройки</a></li>
                    </ul>
                  </li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-zinc-700 hover:bg-zinc-50" href="#metrics" data-toc-link>7) Метрики и измерения</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-zinc-700 hover:bg-zinc-50" href="#iterations" data-toc-link>8) Итерации</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-zinc-700 hover:bg-zinc-50" href="#testing" data-toc-link>9) Стратегия тестирования</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-zinc-700 hover:bg-zinc-50" href="#outcome" data-toc-link>10) Итог и ценность</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 text-zinc-700 hover:bg-zinc-50" href="#appendix" data-toc-link>11) Приложение</a></li>
                </ul>
              </nav>
            </div>

            <div class="mt-4 rounded-xl border border-zinc-200 bg-white p-4">
              <p class="text-xs font-semibold tracking-wide text-zinc-600">НЕОБСУЖДАЕМОЕ</p>
              <ul class="mt-2 space-y-2 text-sm text-zinc-700">
                <li><span class="font-medium text-zinc-900">Следующее действие</span> важнее контекста и истории.</li>
                <li><span class="font-medium text-zinc-900">Офлайн — норма</span>, не исключение.</li>
                <li><span class="font-medium text-zinc-900">Сканирование</span> важнее тапов.</li>
                <li><span class="font-medium text-zinc-900">Ошибки</span> — сценарии восстановления, не вина.</li>
              </ul>
            </div>
          </div>
        </aside>

        <main id="main" class="min-w-0">
          <!-- 1) Hero -->
          <section id="top" aria-label="Вводная">
            <div class="rounded-xl border border-zinc-200 bg-white p-6 sm:p-8">
              <p class="text-xs font-semibold tracking-wide text-zinc-600">1) Вводная</p>
              <h1 class="mt-2 text-balance text-2xl font-semibold leading-tight sm:text-3xl">
                Архитектура UX «склад‑сначала» для «Склад‑15»: от экранов данных к действиям
              </h1>
              <p class="mt-3 max-w-3xl text-sm leading-6 text-zinc-700 sm:text-base">
                Прототип PWA для ТСД: offline‑first, scan‑first, измеримый UX, поддержка работы «два оператора».
              </p>

              <div class="mt-5 grid gap-4 lg:grid-cols-2">
                <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                  <p class="text-sm font-semibold text-zinc-900">Роль и охват</p>
                  <p class="mt-3 text-sm leading-6 text-zinc-700">
                    <span class="font-medium text-zinc-900">Роль</span>: продуктовый архитектор / системный UX.
                    <span class="font-medium text-zinc-900">Охват</span>: end‑to‑end операционные сценарии, контракты ввода, модель данных/состояний, измеримость.
                  </p>
                </div>
                <div class="rounded-xl border border-zinc-200 bg-white p-5">
                  <p class="text-sm font-semibold text-zinc-900">Результаты</p>
                  <ul class="mt-3 list-disc pl-5 text-sm leading-6 text-zinc-700">
                    <li>UX‑конституция и приоритет информации (Следующее → Сейчас → Сделано).</li>
                    <li>Сценарии по операциям + контракты ошибок.</li>
                    <li>План метрик и невидимая телеметрия.</li>
                    <li>Снимок PWA‑архитектуры: кэш, очередь синка, диагностика.</li>
                    <li>Поддержка «два оператора»: атрибуция и справедливые KPI.</li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="mt-3 flex justify-end">
              <a href="#top" data-toc-link class="text-sm font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">Наверх</a>
            </div>
          </section>

          <div class="my-10 border-t border-zinc-200"></div>

          <!-- 2) Context & Constraints -->
          <section id="context" aria-label="Контекст и ограничения">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-zinc-900 sm:text-xl">2) Контекст и ограничения</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">Наверх</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-zinc-200 bg-white p-6">
                <p class="text-sm font-semibold text-zinc-900">Поле</p>
                <ul class="mt-3 list-disc pl-5 text-sm leading-6 text-zinc-700">
                  <li>Шум, спешка, перчатки, ограниченное внимание.</li>
                  <li>Сканирование — первичный ввод; экран — подтверждение и исключения.</li>
                  <li>Связь нестабильна: офлайн должен быть «рабочим режимом», а не аварией.</li>
                  <li>Цена ошибки высокая: нужна предсказуемая модель действий и подтверждений.</li>
                </ul>
              </div>

              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-6">
                <p class="text-sm font-semibold text-zinc-900">Необсуждаемое</p>
                <ul class="mt-3 list-disc pl-5 text-sm leading-6 text-zinc-800">
                  <li>Ясность следующего действия &gt; контекст &gt; история.</li>
                  <li>Офлайн — нормальное состояние.</li>
                  <li>Ошибки — сценарии восстановления, не «обвинение».</li>
                  <li>Сканирование &gt; тап.</li>
                  <li>Один экран = одно решение.</li>
                </ul>
              </div>
            </div>

            <div class="mt-6 overflow-x-auto rounded-xl border border-zinc-200 bg-white">
              <table class="min-w-[900px] w-full text-left text-sm">
                <thead class="bg-zinc-50 text-xs font-semibold tracking-wide text-zinc-700">
                  <tr>
                    <th class="px-4 py-3">Ограничение</th>
                    <th class="px-4 py-3">Риск</th>
                    <th class="px-4 py-3">Контр‑мера в UX</th>
                  </tr>
                </thead>
                <tbody class="divide-y divide-zinc-200 text-zinc-700">
                  <tr>
                    <td class="px-4 py-3 font-medium text-zinc-900">Сканер как «клавиатура»</td>
                    <td class="px-4 py-3">Случайный ввод / дубли</td>
                    <td class="px-4 py-3">Единая зона ввода; явный статус «жду скан»; идемпотентность на уровне событий.</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 font-medium text-zinc-900">Офлайн и дрожащая сеть</td>
                    <td class="px-4 py-3">Тревожность, двойные действия</td>
                    <td class="px-4 py-3">Видимое состояние синка + очередь; «офлайн — можно продолжать»; повторная отправка.</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 font-medium text-zinc-900">Высокая цена ошибки</td>
                    <td class="px-4 py-3">Порча данных/товара</td>
                    <td class="px-4 py-3">Подтверждения только для риск‑действий; запрет «опасных» кнопок рядом с навигацией.</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>

          <div class="my-10 border-t border-zinc-200"></div>

          <!-- 3) Research -->
          <section id="research" aria-label="Исследование">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-zinc-900 sm:text-xl">3) Исследование</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">Наверх</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-zinc-200 bg-white p-6">
                <p class="text-sm font-semibold text-zinc-900">Входы</p>
                <ul class="mt-3 list-disc pl-5 text-sm leading-6 text-zinc-700">
                  <li>Разбор документации «Склад‑15» и типовых операций.</li>
                  <li>Декомпозиция реальных операторских циклов: список → документ → скан‑петля → исключения → завершение.</li>
                  <li>Фрикции: лишние переходы, списки без действий, отсутствие «что дальше», несогласованные паттерны.</li>
                </ul>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-white p-6">
                <p class="text-sm font-semibold text-zinc-900">Выходы (артефакты)</p>
                <ul class="mt-3 list-disc pl-5 text-sm leading-6 text-zinc-700">
                  <li>CJM/JTBD‑карта по операциям.</li>
                  <li>Единая модель приоритета информации: Следующее/Сейчас/Сделано.</li>
                  <li>Операционные флоу‑спеки по модулям + таблицы исключений.</li>
                </ul>
              </div>
            </div>

            <div class="mt-6 rounded-xl border border-zinc-200 bg-zinc-50 p-6">
              <p class="text-sm font-semibold text-zinc-900">Полевые предположения</p>
              <ul class="mt-3 list-disc pl-5 text-sm leading-6 text-zinc-700">
                <li>Оператор предпочитает «сделать шаг», а не «посмотреть таблицу».</li>
                <li>Навигация должна сохранять контекст документа и текущей ячейки/короба.</li>
                <li>Состояние синка должно быть видно без захода в настройки.</li>
              </ul>
            </div>
          </section>

          <div class="my-10 border-t border-zinc-200"></div>

          <!-- 4) Hypotheses -->
          <section id="hypotheses" aria-label="Гипотезы">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-zinc-900 sm:text-xl">4) Гипотезы (с измеримостью)</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">Наверх</a>
            </div>

            <div class="mt-6 overflow-x-auto rounded-xl border border-zinc-200 bg-white">
              <table class="min-w-[1100px] w-full text-left text-sm">
                <thead class="bg-zinc-50 text-xs font-semibold tracking-wide text-zinc-700">
                  <tr>
                    <th class="px-4 py-3">Гипотеза</th>
                    <th class="px-4 py-3">Ожидаемый эффект</th>
                    <th class="px-4 py-3">Как мерить (метрика)</th>
                  </tr>
                </thead>
                <tbody class="divide-y divide-zinc-200 text-zinc-700">
                  <tr>
                    <td class="px-4 py-3 text-zinc-900">UI «следующее действие первым» сокращает время до первого скана.</td>
                    <td class="px-4 py-3">Быстрее вход в рабочую петлю, меньше «поиска».</td>
                    <td class="px-4 py-3">Плановая метрика: время до первого скана (от открытия документа до первого EV_SCAN_OK).</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 text-zinc-900">Уход от «табличных экранов» к одному фокус‑блоку повышает пропускную способность.</td>
                    <td class="px-4 py-3">Меньше ошибок выбора, меньше возвратов назад.</td>
                    <td class="px-4 py-3">Плановая метрика: скорость скан‑петли (сканов/мин) + доля неверных сканов.</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 text-zinc-900">Навигация с сохранением контекста снижает «прыжки» между экранами.</td>
                    <td class="px-4 py-3">Меньше backtracking, стабильнее время операции.</td>
                    <td class="px-4 py-3">Плановая метрика: число возвратов/переходов на документ; «время простоя» между сканами.</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 text-zinc-900">Offline‑first + видимый синк снижает тревожность и дубли.</td>
                    <td class="px-4 py-3">Меньше повторных попыток и «двойных» фактов.</td>
                    <td class="px-4 py-3">Плановая метрика: доля повторных отправок/конфликтов; число повторных подтверждений одного действия.</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 text-zinc-900">Сессии «два оператора» повышают прозрачность атрибуции KPI.</td>
                    <td class="px-4 py-3">Снижение конфликтов, честные отчёты по людям.</td>
                    <td class="px-4 py-3">Плановая метрика: доля «неатрибутированных» событий; время согласования/переключения партнёра.</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 text-zinc-900">Стандартизация компонентов снижает время обучения.</td>
                    <td class="px-4 py-3">Один паттерн на весь продукт, меньше когнитивной нагрузки.</td>
                    <td class="px-4 py-3">Плановая метрика: время до самостоятельного выполнения сценария новичком; число ошибок на шаг.</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>

          <div class="my-10 border-t border-zinc-200"></div>

          <!-- 5) Constitution -->
          <section id="constitution" aria-label="UX‑конституция">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-zinc-900 sm:text-xl">5) Системный дизайн и UX‑конституция</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">Наверх</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-zinc-200 bg-white p-6">
                <p class="text-sm font-semibold text-zinc-900">Принципы (10–12)</p>
                <ul class="mt-3 list-disc pl-5 text-sm leading-6 text-zinc-700">
                  <li>Следующее действие видно всегда (без прокрутки).</li>
                  <li>Скан‑петля — основной «двигатель» UI.</li>
                  <li>Контекст сохраняется: документ, ячейка, короб, партнёр.</li>
                  <li>Риск‑действия — только через лист подтверждения.</li>
                  <li>Офлайн: разрешаем продолжать и показываем очередь.</li>
                  <li>Ошибки: один смысл → одно действие → один выход.</li>
                  <li>Единые компоненты для всех операций.</li>
                  <li>Телеметрия «невидима оператору» и не мешает работе.</li>
                </ul>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-6">
                <p class="text-sm font-semibold text-zinc-900">Пирамида приоритета информации</p>
                <div class="mt-3 rounded-lg border border-zinc-200 bg-white p-4">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ПОРЯДОК</p>
                  <ol class="mt-2 list-decimal pl-5 text-sm leading-6 text-zinc-700">
                    <li><span class="font-medium text-zinc-900">Следующее действие</span></li>
                    <li><span class="font-medium text-zinc-900">Сейчас</span></li>
                    <li><span class="font-medium text-zinc-900">Сделано</span></li>
                    <li>Контекст</li>
                    <li>История (скрывать до запроса)</li>
                  </ol>
                </div>
                <p class="mt-3 text-sm leading-6 text-zinc-700">Правило: скрываем снизу вверх — до тех пор, пока не страдает выполнение следующего действия.</p>
              </div>
            </div>

            <div class="mt-6 rounded-xl border border-zinc-200 bg-white p-6">
              <p class="text-sm font-semibold text-zinc-900">Библиотека переиспользуемых паттернов</p>
              <p class="mt-2 text-sm leading-6 text-zinc-700">
                Нотация: имена ниже — контракт компонентов (в коде и документации), а не «тексты для оператора».
              </p>
              <div class="mt-3 flex flex-wrap gap-2 text-sm">
                <span class="rounded-full border border-zinc-200 bg-zinc-50 px-3 py-1 font-mono text-xs text-zinc-800">ActionHeader</span>
                <span class="rounded-full border border-zinc-200 bg-zinc-50 px-3 py-1 font-mono text-xs text-zinc-800">ContextBar</span>
                <span class="rounded-full border border-zinc-200 bg-zinc-50 px-3 py-1 font-mono text-xs text-zinc-800">ProgressChip</span>
                <span class="rounded-full border border-zinc-200 bg-zinc-50 px-3 py-1 font-mono text-xs text-zinc-800">ScanZone</span>
                <span class="rounded-full border border-zinc-200 bg-zinc-50 px-3 py-1 font-mono text-xs text-zinc-800">ErrorHint</span>
                <span class="rounded-full border border-zinc-200 bg-zinc-50 px-3 py-1 font-mono text-xs text-zinc-800">ConfirmSheet</span>
                <span class="rounded-full border border-zinc-200 bg-zinc-50 px-3 py-1 font-mono text-xs text-zinc-800">OfflineBadge</span>
                <span class="rounded-full border border-zinc-200 bg-zinc-50 px-3 py-1 font-mono text-xs text-zinc-800">PartnerBadge</span>
              </div>
            </div>
          </section>

          <div class="my-10 border-t border-zinc-200"></div>

          <!-- 6) Flows -->
          <section id="flows" aria-label="Сценарии">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-zinc-900 sm:text-xl">6) Сценарии (ядро)</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">Наверх</a>
            </div>
            <p class="mt-3 text-sm leading-6 text-zinc-700">
              Формат каждого сценария: приоритет Следующее/Сейчас/Сделано → путь оператора → типовые ошибки и реакции → правила завершения → где критичен офлайн.
            </p>

            <!-- Receiving -->
            <section id="flow-receiving" class="mt-6 rounded-xl border border-zinc-200 bg-white p-6 sm:p-8" aria-label="Приёмка">
              <div class="flex items-start justify-between gap-4">
                <h3 class="text-base font-semibold text-zinc-900">Приёмка</h3>
                <a href="#flows" data-toc-link class="text-sm font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">К сценариям</a>
              </div>
              <div class="mt-4 grid gap-6 lg:grid-cols-2">
                <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ПРИОРИТЕТ</p>
                  <p class="mt-2 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Следующее</span>: сканируй товар.</p>
                  <p class="mt-1 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Сейчас</span>: позиция, ожидаемое/факт, статус офлайн/очереди.</p>
                  <p class="mt-1 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Сделано</span>: прогресс документа и расхождения.</p>
                </div>
                <div class="rounded-xl border border-zinc-200 bg-white p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ПУТЬ ОПЕРАТОРА</p>
                  <ol class="mt-2 list-decimal pl-5 text-sm leading-6 text-zinc-700">
                    <li>Запуск → список поставок → выбрать документ.</li>
                    <li>Экран документа: фокус в <span class="font-mono text-xs">ScanZone</span>.</li>
                    <li>Скан‑петля: скан → факт +1 → визуальный отклик → следующий скан.</li>
                    <li>Исключения: не найдено/пересорт/лишнее — отдельный сценарий, не «в тосте».</li>
                    <li>Завершение: проверка расхождений → подтверждение завершения.</li>
                  </ol>
                </div>
              </div>
              <div class="mt-6 overflow-x-auto rounded-xl border border-zinc-200">
                <table class="min-w-[980px] w-full text-left text-sm">
                  <thead class="bg-zinc-50 text-xs font-semibold tracking-wide text-zinc-700">
                    <tr>
                      <th class="px-4 py-3">Ошибка</th>
                      <th class="px-4 py-3">Ответ системы</th>
                      <th class="px-4 py-3">Действие оператора</th>
                    </tr>
                  </thead>
                  <tbody class="divide-y divide-zinc-200 text-zinc-700">
                    <tr>
                      <td class="px-4 py-3 font-medium text-zinc-900">ШК не найден в документе</td>
                      <td class="px-4 py-3"><span class="font-mono text-xs">ErrorHint</span>: «Нет в поставке» + варианты</td>
                      <td class="px-4 py-3">Поиск в других документах / ручное добавление (если разрешено политикой)</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 font-medium text-zinc-900">Офлайн во время работы</td>
                      <td class="px-4 py-3"><span class="font-mono text-xs">OfflineBadge</span> + счётчик очереди; работа продолжается</td>
                      <td class="px-4 py-3">Продолжать; синк позже</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 font-medium text-zinc-900">Дубли скана</td>
                      <td class="px-4 py-3">Идемпотентность: второй скан того же события не удваивает факт</td>
                      <td class="px-4 py-3">Никакого действия</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="mt-6 grid gap-6 lg:grid-cols-2">
                <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ПРАВИЛА ЗАВЕРШЕНИЯ</p>
                  <ul class="mt-2 list-disc pl-5 text-sm leading-6 text-zinc-700">
                    <li>Если есть расхождения — отдельный экран подтверждения (подпись причины).</li>
                    <li>После завершения документ переходит в «готов к синку» и уходит в очередь.</li>
                  </ul>
                </div>
                <div class="rounded-xl border border-zinc-200 bg-white p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ГДЕ КРИТИЧЕН OFFLINE‑FIRST</p>
                  <p class="mt-2 text-sm leading-6 text-zinc-700">
                    Приёмка не должна блокироваться сетью: факты пишутся локально, очередь синка отправляется позже с ретраями.
                  </p>
                </div>
              </div>
            </section>

            <!-- Placement -->
            <section id="flow-placement" class="mt-6 rounded-xl border border-zinc-200 bg-white p-6 sm:p-8" aria-label="Размещение">
              <div class="flex items-start justify-between gap-4">
                <h3 class="text-base font-semibold text-zinc-900">Размещение</h3>
                <a href="#flows" data-toc-link class="text-sm font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">К сценариям</a>
              </div>
              <div class="mt-4 grid gap-6 lg:grid-cols-2">
                <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ПРИОРИТЕТ</p>
                  <p class="mt-2 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Следующее</span>: сканируй ячейку, затем товар.</p>
                  <p class="mt-1 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Сейчас</span>: текущая ячейка (закреплена), позиция/кол‑во.</p>
                  <p class="mt-1 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Сделано</span>: прогресс размещения.</p>
                </div>
                <div class="rounded-xl border border-zinc-200 bg-white p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ПУТЬ ОПЕРАТОРА</p>
                  <ol class="mt-2 list-decimal pl-5 text-sm leading-6 text-zinc-700">
                    <li>Запуск → выбрать документ размещения.</li>
                    <li>Скан ячейки → <span class="font-mono text-xs">ContextBar</span> фиксирует текущую ячейку.</li>
                    <li>Скан товара → факт размещения в выбранную ячейку.</li>
                    <li>Смена ячейки: просто скан новой ячейки (переключение контекста).</li>
                  </ol>
                </div>
              </div>
              <div class="mt-6 overflow-x-auto rounded-xl border border-zinc-200">
                <table class="min-w-[980px] w-full text-left text-sm">
                  <thead class="bg-zinc-50 text-xs font-semibold tracking-wide text-zinc-700">
                    <tr>
                      <th class="px-4 py-3">Ошибка</th>
                      <th class="px-4 py-3">Ответ системы</th>
                      <th class="px-4 py-3">Действие оператора</th>
                    </tr>
                  </thead>
                  <tbody class="divide-y divide-zinc-200 text-zinc-700">
                    <tr>
                      <td class="px-4 py-3 font-medium text-zinc-900">Товар до выбора ячейки</td>
                      <td class="px-4 py-3">Блок: «Сначала ячейка»; фокус остаётся в <span class="font-mono text-xs">ScanZone</span></td>
                      <td class="px-4 py-3">Сканировать ячейку</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 font-medium text-zinc-900">Неверный ШК ячейки</td>
                      <td class="px-4 py-3"><span class="font-mono text-xs">ErrorHint</span> + быстрый повтор; ручной ввод (если разрешено)</td>
                      <td class="px-4 py-3">Повторить скан</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="mt-6 grid gap-6 lg:grid-cols-2">
                <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ПРАВИЛА ЗАВЕРШЕНИЯ</p>
                  <ul class="mt-2 list-disc pl-5 text-sm leading-6 text-zinc-700">
                    <li>Документ завершается только при закрытых позициях или с подтверждёнными расхождениями.</li>
                    <li>Смена ячейки не должна терять несинхронизированные факты.</li>
                  </ul>
                </div>
                <div class="rounded-xl border border-zinc-200 bg-white p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ГДЕ КРИТИЧЕН OFFLINE‑FIRST</p>
                  <p class="mt-2 text-sm leading-6 text-zinc-700">Очередь фактов размещения должна быть локальной и устойчивой при разрывах сети.</p>
                </div>
              </div>
            </section>

            <!-- Picking -->
            <section id="flow-picking" class="mt-6 rounded-xl border border-zinc-200 bg-white p-6 sm:p-8" aria-label="Подбор">
              <div class="flex items-start justify-between gap-4">
                <h3 class="text-base font-semibold text-zinc-900">Подбор</h3>
                <a href="#flows" data-toc-link class="text-sm font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">К сценариям</a>
              </div>
              <div class="mt-4 grid gap-6 lg:grid-cols-2">
                <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ПРИОРИТЕТ</p>
                  <p class="mt-2 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Следующее</span>: сканируй ячейку, затем товар.</p>
                  <p class="mt-1 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Сейчас</span>: маршрут/порядок, текущая строка, предупреждения «не по порядку».</p>
                  <p class="mt-1 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Сделано</span>: прогресс заказа.</p>
                </div>
                <div class="rounded-xl border border-zinc-200 bg-white p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ПУТЬ ОПЕРАТОРА</p>
                  <ol class="mt-2 list-decimal pl-5 text-sm leading-6 text-zinc-700">
                    <li>Запуск → список заказов → выбрать заказ.</li>
                    <li>Экран: «Сканируйте ячейку» → затем товар.</li>
                    <li>Скан‑петля по строкам: минимум переключений, максимум фокуса.</li>
                    <li>Исключения: нет в ячейке/не тот товар/перебор — отдельные действия.</li>
                  </ol>
                </div>
              </div>
              <div class="mt-6 overflow-x-auto rounded-xl border border-zinc-200">
                <table class="min-w-[980px] w-full text-left text-sm">
                  <thead class="bg-zinc-50 text-xs font-semibold tracking-wide text-zinc-700">
                    <tr>
                      <th class="px-4 py-3">Ошибка</th>
                      <th class="px-4 py-3">Ответ системы</th>
                      <th class="px-4 py-3">Действие оператора</th>
                    </tr>
                  </thead>
                  <tbody class="divide-y divide-zinc-200 text-zinc-700">
                    <tr>
                      <td class="px-4 py-3 font-medium text-zinc-900">Скан не по маршруту</td>
                      <td class="px-4 py-3">Предупреждение: «вне порядка» + причина</td>
                      <td class="px-4 py-3">Подтвердить отклонение или вернуться к подсказанной ячейке</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 font-medium text-zinc-900">Товар не соответствует строке</td>
                      <td class="px-4 py-3"><span class="font-mono text-xs">ErrorHint</span>: «не тот товар»</td>
                      <td class="px-4 py-3">Повторить / перейти к строке по ШК (если разрешено)</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="mt-6 grid gap-6 lg:grid-cols-2">
                <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ПРАВИЛА ЗАВЕРШЕНИЯ</p>
                  <ul class="mt-2 list-disc pl-5 text-sm leading-6 text-zinc-700">
                    <li>Завершение заказа — только после подтверждения расхождений.</li>
                    <li>Критичные расхождения требуют причины/комментария (политика).</li>
                  </ul>
                </div>
                <div class="rounded-xl border border-zinc-200 bg-white p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ГДЕ КРИТИЧЕН OFFLINE‑FIRST</p>
                  <p class="mt-2 text-sm leading-6 text-zinc-700">Подбор должен работать в офлайне; синк — асинхронный, с детектом конфликтов.</p>
                </div>
              </div>
            </section>

            <!-- Shipping -->
            <section id="flow-shipping" class="mt-6 rounded-xl border border-zinc-200 bg-white p-6 sm:p-8" aria-label="Отгрузка">
              <div class="flex items-start justify-between gap-4">
                <h3 class="text-base font-semibold text-zinc-900">Отгрузка</h3>
                <a href="#flows" data-toc-link class="text-sm font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">К сценариям</a>
              </div>
              <div class="mt-4 grid gap-6 lg:grid-cols-2">
                <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ПРИОРИТЕТ</p>
                  <p class="mt-2 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Следующее</span>: финальный контроль — скан товара/короба.</p>
                  <p class="mt-1 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Сейчас</span>: строгие проверки, статус короба.</p>
                  <p class="mt-1 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Сделано</span>: готовность отгрузки.</p>
                </div>
                <div class="rounded-xl border border-zinc-200 bg-white p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ПУТЬ ОПЕРАТОРА</p>
                  <ol class="mt-2 list-decimal pl-5 text-sm leading-6 text-zinc-700">
                    <li>Открыть документ → режим строгой проверки.</li>
                    <li>Скан короба (если применяется) → привязка.</li>
                    <li>Скан товара → проверки → подтверждение.</li>
                  </ol>
                </div>
              </div>
              <div class="mt-6 overflow-x-auto rounded-xl border border-zinc-200">
                <table class="min-w-[980px] w-full text-left text-sm">
                  <thead class="bg-zinc-50 text-xs font-semibold tracking-wide text-zinc-700">
                    <tr>
                      <th class="px-4 py-3">Ошибка</th>
                      <th class="px-4 py-3">Ответ системы</th>
                      <th class="px-4 py-3">Действие оператора</th>
                    </tr>
                  </thead>
                  <tbody class="divide-y divide-zinc-200 text-zinc-700">
                    <tr>
                      <td class="px-4 py-3 font-medium text-zinc-900">Неверный идентификатор короба</td>
                      <td class="px-4 py-3"><span class="font-mono text-xs">ErrorHint</span>: привязать/сменить/продолжить без короба</td>
                      <td class="px-4 py-3">Выбрать действие (политика)</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 font-medium text-zinc-900">Несоответствие состава</td>
                      <td class="px-4 py-3">Блокирующий экран + список расхождений</td>
                      <td class="px-4 py-3">Исправить или подтвердить расхождение</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="mt-6 rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                <p class="text-xs font-semibold tracking-wide text-zinc-600">OFFLINE‑FIRST</p>
                <p class="mt-2 text-sm leading-6 text-zinc-700">Офлайн допустим только с явной маркировкой и очередью, так как отгрузка — «точка правды».</p>
              </div>
            </section>

            <!-- Returns/Write-off -->
            <section id="flow-returns" class="mt-6 rounded-xl border border-zinc-200 bg-white p-6 sm:p-8" aria-label="Возврат и списание">
              <div class="flex items-start justify-between gap-4">
                <h3 class="text-base font-semibold text-zinc-900">Возврат и списание</h3>
                <a href="#flows" data-toc-link class="text-sm font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">К сценариям</a>
              </div>
              <div class="mt-4 grid gap-6 lg:grid-cols-2">
                <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ПРИОРИТЕТ</p>
                  <p class="mt-2 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Следующее</span>: скан товара → причина.</p>
                  <p class="mt-1 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Сейчас</span>: причина/политика, подтверждение риск‑действия.</p>
                  <p class="mt-1 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Сделано</span>: итог и очередь синка.</p>
                </div>
                <div class="rounded-xl border border-zinc-200 bg-white p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ПУТЬ ОПЕРАТОРА</p>
                  <ol class="mt-2 list-decimal pl-5 text-sm leading-6 text-zinc-700">
                    <li>Открыть документ → скан товара.</li>
                    <li>Выбрать причину (обязательно) → подтвердить списание/возврат.</li>
                    <li>Риск‑действия всегда через <span class="font-mono text-xs">ConfirmSheet</span>.</li>
                  </ol>
                </div>
              </div>
              <div class="mt-6 overflow-x-auto rounded-xl border border-zinc-200">
                <table class="min-w-[980px] w-full text-left text-sm">
                  <thead class="bg-zinc-50 text-xs font-semibold tracking-wide text-zinc-700">
                    <tr>
                      <th class="px-4 py-3">Ошибка/условие</th>
                      <th class="px-4 py-3">Ответ системы</th>
                      <th class="px-4 py-3">Действие оператора</th>
                    </tr>
                  </thead>
                  <tbody class="divide-y divide-zinc-200 text-zinc-700">
                    <tr>
                      <td class="px-4 py-3 font-medium text-zinc-900">Причина не выбрана</td>
                      <td class="px-4 py-3">Блок: «Выберите причину»</td>
                      <td class="px-4 py-3">Выбрать причину</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 font-medium text-zinc-900">Ограниченное списание</td>
                      <td class="px-4 py-3"><span class="font-mono text-xs">ConfirmSheet</span> с ролью/override (по политике)</td>
                      <td class="px-4 py-3">Подтвердить/отменить</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </section>

            <!-- Inventory -->
            <section id="flow-inventory" class="mt-6 rounded-xl border border-zinc-200 bg-white p-6 sm:p-8" aria-label="Инвентаризация">
              <div class="flex items-start justify-between gap-4">
                <h3 class="text-base font-semibold text-zinc-900">Инвентаризация</h3>
                <a href="#flows" data-toc-link class="text-sm font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">К сценариям</a>
              </div>
              <div class="mt-4 grid gap-6 lg:grid-cols-2">
                <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ПРИОРИТЕТ</p>
                  <p class="mt-2 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Следующее</span>: сканируй ячейку → считай.</p>
                  <p class="mt-1 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Сейчас</span>: режим (слепой/не слепой), быстрые действия «+1».</p>
                  <p class="mt-1 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Сделано</span>: прогресс по ячейкам.</p>
                </div>
                <div class="rounded-xl border border-zinc-200 bg-white p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ПУТЬ ОПЕРАТОРА</p>
                  <ol class="mt-2 list-decimal pl-5 text-sm leading-6 text-zinc-700">
                    <li>Скан ячейки → контекст фиксируется.</li>
                    <li>Скан товара или быстрый ввод количества.</li>
                    <li>Расхождения → отдельный сценарий (пересчёт, подтверждение).</li>
                  </ol>
                </div>
              </div>
              <div class="mt-6 rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                <p class="text-xs font-semibold tracking-wide text-zinc-600">OFFLINE‑FIRST</p>
                <p class="mt-2 text-sm leading-6 text-zinc-700">Инвентаризация должна переживать длинный офлайн: локальные факты + надёжная очередь.</p>
              </div>
            </section>

            <!-- Labels -->
            <section id="flow-labels" class="mt-6 rounded-xl border border-zinc-200 bg-white p-6 sm:p-8" aria-label="Штрихкоды и этикетки">
              <div class="flex items-start justify-between gap-4">
                <h3 class="text-base font-semibold text-zinc-900">Штрихкоды и печать этикеток</h3>
                <a href="#flows" data-toc-link class="text-sm font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">К сценариям</a>
              </div>
              <div class="mt-4 grid gap-6 lg:grid-cols-2">
                <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ПРИОРИТЕТ</p>
                  <p class="mt-2 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Следующее</span>: связать ШК / выбрать шаблон печати.</p>
                  <p class="mt-1 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Сейчас</span>: проверка уникальности, состояние принтера.</p>
                  <p class="mt-1 text-sm text-zinc-700"><span class="font-medium text-zinc-900">Сделано</span>: очередь печати.</p>
                </div>
                <div class="rounded-xl border border-zinc-200 bg-white p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ПУТЬ ОПЕРАТОРА</p>
                  <ol class="mt-2 list-decimal pl-5 text-sm leading-6 text-zinc-700">
                    <li>Скан товара → ввод/скан нового ШК.</li>
                    <li>Проверка уникальности → подтверждение привязки.</li>
                    <li>Выбор шаблона → печать (очередь при офлайне — опционально).</li>
                  </ol>
                </div>
              </div>
            </section>

            <!-- Settings -->
            <section id="flow-settings" class="mt-6 rounded-xl border border-zinc-200 bg-white p-6 sm:p-8" aria-label="Настройки">
              <div class="flex items-start justify-between gap-4">
                <h3 class="text-base font-semibold text-zinc-900">Настройки</h3>
                <a href="#flows" data-toc-link class="text-sm font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">К сценариям</a>
              </div>
              <div class="mt-4 grid gap-6 lg:grid-cols-2">
                <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">РАЗДЕЛЫ</p>
                  <ul class="mt-2 list-disc pl-5 text-sm leading-6 text-zinc-700">
                    <li>Связь и синхронизация (очередь, ретраи, конфликты).</li>
                    <li>Режим сканирования (ввод как «клавиатура», debounce).</li>
                    <li>Обратная связь (звук/вибро), доступность.</li>
                    <li>Режим партнёра (два оператора), диагностика.</li>
                  </ul>
                </div>
                <div class="rounded-xl border border-zinc-200 bg-white p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ПРАВИЛА</p>
                  <ul class="mt-2 list-disc pl-5 text-sm leading-6 text-zinc-700">
                    <li>Состояние синка видно без захода в настройки (значок + счётчик очереди).</li>
                    <li>Риск‑действия (очистка/сброс) требуют <span class="font-mono text-xs">ConfirmSheet</span>.</li>
                  </ul>
                </div>
              </div>
            </section>
          </section>

          <div class="my-10 border-t border-zinc-200"></div>

          <!-- 7) Metrics -->
          <section id="metrics" aria-label="Метрики и план измерений">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-zinc-900 sm:text-xl">7) Метрики и план измерений</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">Наверх</a>
            </div>
            <p class="mt-4 text-sm leading-6 text-zinc-700">
              Раздел фиксирует состав метрик и требования к инструментированию, чтобы можно было сравнивать версии интерфейса по одному протоколу и
              отделять влияние офлайна от поведения оператора.
            </p>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-zinc-200 bg-white p-6">
                <p class="text-sm font-semibold text-zinc-900">Список метрик (как в постановке)</p>
                <ul class="mt-3 list-disc pl-5 text-sm leading-6 text-zinc-700">
                  <li>Среднее время приёмки на поставку</li>
                  <li>Среднее время подбора на заказ</li>
                  <li>% ошибок подбора</li>
                  <li>% расхождений инвентаризации</li>
                  <li>приёмка: \(x\) минут на \(y\) товаров</li>
                  <li>подбор: \(x\) минут на \(y\) строк</li>
                  <li>инвентаризация: \(x\) минут на \(y\) ячеек</li>
                </ul>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-6">
                <p class="text-sm font-semibold text-zinc-900">Невидимая телеметрия</p>
                <p class="mt-2 text-sm leading-6 text-zinc-700">
                  Требование: логирование не должно мешать оператору и не должно «подсказывать» KPI в интерфейсе. Всё измерение — в событиях.
                </p>
              </div>
            </div>

            <div class="mt-6 overflow-x-auto rounded-xl border border-zinc-200 bg-white">
              <table class="min-w-[1100px] w-full text-left text-sm">
                <thead class="bg-zinc-50 text-xs font-semibold tracking-wide text-zinc-700">
                  <tr>
                    <th class="px-4 py-3">Событие</th>
                    <th class="px-4 py-3">Когда логируется</th>
                    <th class="px-4 py-3">Свойства</th>
                  </tr>
                </thead>
                <tbody class="divide-y divide-zinc-200 text-zinc-700">
                  <tr>
                    <td class="px-4 py-3 font-mono text-xs text-zinc-900">EV_DOC_OPEN</td>
                    <td class="px-4 py-3">Открыт документ</td>
                    <td class="px-4 py-3">operator_id, partner_id?, doc_id, module, timestamp, offline_state</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 font-mono text-xs text-zinc-900">EV_SCAN_OK</td>
                    <td class="px-4 py-3">Скан принят</td>
                    <td class="px-4 py-3">barcode, entity_type, qty_delta, doc_id, operator_id, offline_state</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 font-mono text-xs text-zinc-900">EV_ERROR</td>
                    <td class="px-4 py-3">Ошибка/исключение</td>
                    <td class="px-4 py-3">error_code, step, doc_id, operator_id, offline_state</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 font-mono text-xs text-zinc-900">EV_DOC_COMPLETE</td>
                    <td class="px-4 py-3">Завершение</td>
                    <td class="px-4 py-3">doc_id, discrepancies_count, confirm_reason?, operator_id, offline_state</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="mt-6 rounded-xl border border-zinc-200 bg-white p-6">
              <p class="text-sm font-semibold text-zinc-900">Критерии проверки</p>
              <ul class="mt-3 list-disc pl-5 text-sm leading-6 text-zinc-700">
                <li>Время на строку подбора: сравнение по протоколу между версиями.</li>
                <li>Ошибки подбора: сравнение по протоколу между версиями.</li>
                <li>Время до первого скана: сравнение по протоколу между версиями.</li>
              </ul>
            </div>
          </section>

          <div class="my-10 border-t border-zinc-200"></div>

          <!-- 8) Iterations -->
          <section id="iterations" aria-label="Итерации">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-zinc-900 sm:text-xl">8) Итерации</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">Наверх</a>
            </div>
            <p class="mt-4 text-sm leading-6 text-zinc-700">
              Раздел показывает, какие изменения вносились по версиям и зачем. Он нужен для понимания эволюции паттернов и для регрессионной проверки:
              что именно должно остаться неизменным при доработках.
            </p>
            <div class="mt-4 rounded-xl border border-zinc-200 bg-white p-6">
              <ol class="relative ml-3 border-l border-zinc-200 pl-6 space-y-5 text-sm text-zinc-700">
                <li class="relative">
                  <span class="absolute -left-1.5 top-1.5 h-3 w-3 rounded-full border border-zinc-300 bg-white"></span>
                  <p class="font-semibold text-zinc-900">v0 — списки документов без «действий»</p>
                  <p class="mt-1">Проблема: видно данные, но не видно следующего шага.</p>
                </li>
                <li class="relative">
                  <span class="absolute -left-1.5 top-1.5 h-3 w-3 rounded-full border border-zinc-300 bg-white"></span>
                  <p class="font-semibold text-zinc-900">v1 — скан‑петля, ориентированная на действие</p>
                  <p class="mt-1"><span class="font-mono text-xs">ActionHeader</span> + <span class="font-mono text-xs">ScanZone</span>; одно решение на экран.</p>
                </li>
                <li class="relative">
                  <span class="absolute -left-1.5 top-1.5 h-3 w-3 rounded-full border border-zinc-300 bg-white"></span>
                  <p class="font-semibold text-zinc-900">v2 — стандартизация компонентов и навигации</p>
                  <p class="mt-1">Единые контракты ошибок, подтверждений и сохранения контекста.</p>
                </li>
                <li class="relative">
                  <span class="absolute -left-1.5 top-1.5 h-3 w-3 rounded-full border border-zinc-300 bg-white"></span>
                  <p class="font-semibold text-zinc-900">v3 — синк‑индикаторы и очередь</p>
                  <p class="mt-1"><span class="font-mono text-xs">OfflineBadge</span>, глубина очереди, ретраи, идемпотентность.</p>
                </li>
                <li class="relative">
                  <span class="absolute -left-1.5 top-1.5 h-3 w-3 rounded-full border border-zinc-300 bg-white"></span>
                  <p class="font-semibold text-zinc-900">v4 — режим двух операторов</p>
                  <p class="mt-1"><span class="font-mono text-xs">PartnerBadge</span> и атрибуция; меньше конфликтов KPI.</p>
                </li>
                <li class="relative">
                  <span class="absolute -left-1.5 top-1.5 h-3 w-3 rounded-full border border-zinc-300 bg-white"></span>
                  <p class="font-semibold text-zinc-900">v5 — прод‑закалка</p>
                  <p class="mt-1">Производительность, диагностика, сценарии ошибок, восстановление очереди.</p>
                </li>
              </ol>
            </div>
          </section>

          <div class="my-10 border-t border-zinc-200"></div>

          <!-- 9) Testing -->
          <section id="testing" aria-label="Стратегия тестирования">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-zinc-900 sm:text-xl">9) Стратегия тестирования</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">Наверх</a>
            </div>
            <p class="mt-4 text-sm leading-6 text-zinc-700">
              Чек‑листы проверок по модулям и условиям среды. Раздел используется как протокол прогонов: сценарии, офлайн‑матрица, тесты ввода и
              валидация телеметрии.
            </p>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-zinc-200 bg-white p-6">
                <p class="text-sm font-semibold text-zinc-900">Сценарии по модулям</p>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-zinc-700">
                  <li>- Приёмка: скан → факт +1 → завершение; расхождение; офлайн‑переход.</li>
                  <li>- Размещение: ячейка → товар; смена ячейки; попытка товара без ячейки.</li>
                  <li>- Подбор: ячейка → товар; «не по порядку»; пересорт.</li>
                  <li>- Отгрузка: короб; строгие проверки; расхождение.</li>
                </ul>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-white p-6">
                <p class="text-sm font-semibold text-zinc-900">Матрица offline‑first</p>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-zinc-700">
                  <li>- Онлайн → офлайн во время скан‑петли.</li>
                  <li>- Офлайн → онлайн: отправка очереди, ретраи, порядок событий.</li>
                  <li>- Конфликты синка: повторная отправка, дедупликация, идемпотентность.</li>
                  <li>- Перезапуск приложения: восстановление очереди и контекста.</li>
                </ul>
              </div>
            </div>

            <div class="mt-6 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-6">
                <p class="text-sm font-semibold text-zinc-900">Тесты ввода сканера</p>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-zinc-700">
                  <li>- Поток символов + Enter (режим «клавиатуры»).</li>
                  <li>- Ручной ввод: ошибки, таймауты, исправления.</li>
                  <li>- Debounce и защита от двойных событий.</li>
                </ul>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-6">
                <p class="text-sm font-semibold text-zinc-900">Корректность телеметрии KPI</p>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-zinc-700">
                  <li>- Соответствие событий сценарию (EV_* в правильном порядке).</li>
                  <li>- Корректная атрибуция operator_id/partner_id.</li>
                  <li>- Учет offline_state и ретраев без «удвоения» факта.</li>
                </ul>
              </div>
            </div>
          </section>

          <div class="my-10 border-t border-zinc-200"></div>

          <!-- 10) Outcome -->
          <section id="outcome" aria-label="Итог и ценность продукта">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-zinc-900 sm:text-xl">10) Итог и ценность продукта</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">Наверх</a>
            </div>
            <p class="mt-4 text-sm leading-6 text-zinc-700">
              Сводка того, что изменилось в UX (качественно) и что проверяется измерением. Раздел нужен, чтобы читатель видел связь между паттернами,
              сценариями и тем, что считается/логируется.
            </p>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-zinc-200 bg-white p-6">
                <p class="text-sm font-semibold text-zinc-900">Качественно улучшилось</p>
                <ul class="mt-3 list-disc pl-5 text-sm leading-6 text-zinc-700">
                  <li>Предсказуемая скан‑петля: меньше «поиска», больше действия.</li>
                  <li>Контекст‑сохранение: меньше возвратов и «потери ячейки/документа».</li>
                  <li>Ошибки стали сценариями с восстановлением, а не «сообщениями».</li>
                  <li>Офлайн перестал быть сюрпризом: статус и очередь видны.</li>
                </ul>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-white p-6">
                <p class="text-sm font-semibold text-zinc-900">Измеримо (ссылка на метрики)</p>
                <ul class="mt-3 list-disc pl-5 text-sm leading-6 text-zinc-700">
                  <li>Время до первого скана (см. раздел 7).</li>
                  <li>Время на строку подбора/приёмки.</li>
                  <li>% ошибок подбора и % расхождений инвентаризации.</li>
                </ul>
              </div>
            </div>

            <div class="mt-6 rounded-xl border border-zinc-200 bg-zinc-50 p-6">
              <p class="text-sm font-semibold text-zinc-900">Инженерное обоснование</p>
              <ul class="mt-3 list-disc pl-5 text-sm leading-6 text-zinc-700">
                <li>Снижение времени обучения за счет стандартизированных паттернов.</li>
                <li>Меньше ошибок и «дорогих» инцидентов.</li>
                <li>Предсказуемая офлайн‑работа для склада с нестабильной сетью.</li>
                <li>Enterprise‑готовность: измеримость, диагностика, режим «два оператора».</li>
              </ul>
            </div>
          </section>

          <div class="my-10 border-t border-zinc-200"></div>

          <!-- 11) Appendix -->
          <section id="appendix" aria-label="Приложение">
            <div class="flex items-start justify-between gap-4">
              <h2 class="text-lg font-semibold text-zinc-900 sm:text-xl">11) Приложение: архитектурный снимок</h2>
              <a href="#top" data-toc-link class="text-sm font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">Наверх</a>
            </div>
            <p class="mt-4 text-sm leading-6 text-zinc-700">
              Справочные материалы для handoff: архитектура данных и синхронизации, машина состояний документа и минимальный набор токенов оформления.
            </p>

            <div class="mt-4 overflow-x-auto rounded-xl border border-zinc-200 bg-white p-5">
              <svg viewBox="0 0 1120 220" role="img" aria-label="Архитектурная схема: Оператор → PWA → IndexedDB → Очередь синка → API → ERP" class="min-w-[980px] w-full">
                <defs>
                  <style>
                    .b { fill: var(--surface-0); stroke: var(--border-subtle); stroke-width: 2; }
                    .t { font: 13px var(--font-sans); fill: var(--text-1); }
                    .s { font: 12px var(--font-sans); fill: var(--text-3); }
                    .a { stroke: var(--text-2); stroke-width: 2; fill: none; marker-end: url(#m); }
                  </style>
                  <marker id="m" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
                    <path d="M 0 0 L 10 5 L 0 10 z" fill="var(--text-2)"></path>
                  </marker>
                </defs>
                <rect class="b" x="30" y="40" width="150" height="60" rx="10"></rect>
                <text class="t" x="105" y="68" text-anchor="middle">Оператор</text>
                <text class="s" x="105" y="88" text-anchor="middle">ТСД</text>

                <rect class="b" x="220" y="40" width="170" height="60" rx="10"></rect>
                <text class="t" x="305" y="68" text-anchor="middle">PWA</text>
                <text class="s" x="305" y="88" text-anchor="middle">UI + логика</text>

                <rect class="b" x="430" y="20" width="170" height="60" rx="10"></rect>
                <text class="t" x="515" y="48" text-anchor="middle">IndexedDB</text>
                <text class="s" x="515" y="68" text-anchor="middle">локальный кэш</text>

                <rect class="b" x="430" y="100" width="170" height="60" rx="10"></rect>
                <text class="t" x="515" y="128" text-anchor="middle">Очередь синка</text>
                <text class="s" x="515" y="148" text-anchor="middle">ретраи</text>

                <rect class="b" x="650" y="40" width="150" height="60" rx="10"></rect>
                <text class="t" x="725" y="68" text-anchor="middle">API</text>
                <text class="s" x="725" y="88" text-anchor="middle">идемпотентно</text>

                <rect class="b" x="840" y="40" width="150" height="60" rx="10"></rect>
                <text class="t" x="915" y="68" text-anchor="middle">ERP</text>
                <text class="s" x="915" y="88" text-anchor="middle">источник правды</text>

                <path class="a" d="M180 70 L220 70"></path>
                <path class="a" d="M390 70 L430 50"></path>
                <path class="a" d="M390 70 L430 130"></path>
                <path class="a" d="M600 50 L650 70"></path>
                <path class="a" d="M600 130 L650 70"></path>
                <path class="a" d="M800 70 L840 70"></path>
              </svg>
            </div>

            <div class="mt-6 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-zinc-200 bg-white p-6">
                <p class="text-sm font-semibold text-zinc-900">Машина состояния документа (текстом)</p>
                <pre class="mt-3 overflow-x-auto rounded-lg border border-zinc-200 bg-zinc-50 p-4 text-xs leading-5 text-zinc-800"><code>new → in_progress → completed → synced
                 ↘ sync_failed → retry → synced</code></pre>
                <p class="mt-3 text-sm leading-6 text-zinc-700">Правило: пользовательские «факты» не теряются; меняется только состояние доставки.</p>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-white p-6">
                <p class="text-sm font-semibold text-zinc-900">Токены дизайн‑системы (минимум)</p>
                <div class="mt-3 overflow-x-auto rounded-lg border border-zinc-200">
                  <table class="min-w-[520px] w-full text-left text-sm">
                    <thead class="bg-zinc-50 text-xs font-semibold tracking-wide text-zinc-700">
                      <tr>
                        <th class="px-4 py-3">Токен</th>
                        <th class="px-4 py-3">Значение</th>
                      </tr>
                    </thead>
                    <tbody class="divide-y divide-zinc-200 text-zinc-700">
                      <tr><td class="px-4 py-3 font-medium text-zinc-900">Шаги отступов</td><td class="px-4 py-3">4/6/8/10/12</td></tr>
                      <tr><td class="px-4 py-3 font-medium text-zinc-900">Радиусы</td><td class="px-4 py-3">8–12px</td></tr>
                      <tr><td class="px-4 py-3 font-medium text-zinc-900">Границы</td><td class="px-4 py-3">1px zinc‑200</td></tr>
                      <tr><td class="px-4 py-3 font-medium text-zinc-900">Акцент</td><td class="px-4 py-3">accent blue‑700 (в ссылках/состояниях)</td></tr>
                      <tr><td class="px-4 py-3 font-medium text-zinc-900">Нейтрали</td><td class="px-4 py-3">zinc‑50/200/700/900</td></tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

            <div class="mt-6 flex items-center justify-between">
              <a href="#top" data-toc-link class="text-sm font-medium text-zinc-900 underline decoration-zinc-300 underline-offset-4">Наверх</a>
              <p class="text-xs text-zinc-600">Конец документа</p>
            </div>
          </section>
        </main>
      </div>
    </div>

    <a
      href="#top"
      data-toc-link
      class="fixed bottom-4 right-4 z-50 hidden sm:inline-flex items-center rounded-lg border border-zinc-200 bg-white px-3 py-2 text-sm font-medium text-zinc-900"
      aria-label="Наверх"
      >Наверх</a
    >

    <script>
      (function () {
        const prefersReduced = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
        const tocLinks = Array.from(document.querySelectorAll("a.toc-link"));
        const allLinks = Array.from(document.querySelectorAll("a[data-toc-link]"));
        const tocSelect = document.getElementById("tocSelect");
        const sections = Array.from(document.querySelectorAll("main section[id]"));

        function setActive(id) {
          if (tocSelect) tocSelect.value = id;
          for (const a of tocLinks) {
            const isActive = a.getAttribute("href") === "#" + id;
            a.classList.toggle("bg-zinc-100", isActive);
            a.classList.toggle("text-zinc-900", isActive);
            a.classList.toggle("font-semibold", isActive);
            a.classList.toggle("text-zinc-700", !isActive);
            if (isActive) a.setAttribute("aria-current", "true");
            else a.removeAttribute("aria-current");
          }
        }

        function scrollToId(id) {
          const el = document.getElementById(id);
          if (!el) return;
          el.focus({ preventScroll: true });
          el.scrollIntoView({ behavior: prefersReduced ? "auto" : "smooth", block: "start" });
          history.replaceState(null, "", "#" + id);
        }

        if (tocSelect) tocSelect.addEventListener("change", () => scrollToId(tocSelect.value));

        for (const a of allLinks) {
          a.addEventListener("click", (e) => {
            const href = a.getAttribute("href") || "";
            if (!href.startsWith("#")) return;
            const id = href.slice(1);
            if (!document.getElementById(id)) return;
            e.preventDefault();
            scrollToId(id);
          });
        }

        if (!("IntersectionObserver" in window)) {
          setActive((location.hash || "#top").slice(1) || "top");
          return;
        }

        const observer = new IntersectionObserver(
          (entries) => {
            const visible = entries
              .filter((e) => e.isIntersecting)
              .sort((a, b) => Math.abs(a.boundingClientRect.top) - Math.abs(b.boundingClientRect.top))[0];
            if (visible && visible.target && visible.target.id) setActive(visible.target.id);
          },
          { root: null, threshold: [0.1, 0.2, 0.35], rootMargin: "-20% 0px -65% 0px" }
        );

        for (const s of sections) observer.observe(s);
        setActive((location.hash || "#top").slice(1) || "top");
      })();
    </script>

    <template id="legacy" hidden>

    <!-- Inter (допустимый внешний ресурс) -->
    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
    <link href="./Склад-15 — складская UX‑архитектура (кейс‑спецификация)_files/css2" rel="stylesheet">

    <!-- Tailwind CSS via CDN (без сборки) -->
    <script src="./Склад-15 — складская UX‑архитектура (кейс‑спецификация)_files/saved_resource"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              accent: {
                DEFAULT: '#1D4ED8', // blue-700
                50: '#EFF6FF',
                100: '#DBEAFE',
                200: '#BFDBFE',
                700: '#1D4ED8',
                800: '#1E40AF'
              }
            },
            fontFamily: {
              sans: ['Inter', 'system-ui', '-apple-system', 'Segoe UI', 'Roboto', 'Arial', 'sans-serif'],
              mono: ['ui-monospace', 'SFMono-Regular', 'Menlo', 'Monaco', 'Consolas', 'Liberation Mono', 'monospace']
            },
            boxShadow: {
              paper: '0 1px 0 rgba(15, 23, 42, 0.06)'
            }
          }
        }
      };
    </script>
    <style>
      :focus-visible {
        outline: 2px solid #1d4ed8;
        outline-offset: 3px;
      }
      [id] {
        scroll-margin-top: 96px;
      }
    </style>
  <style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.top-6{top:1.5rem}.-left-\[9px\]{left:-9px}.top-1\.5{top:0.375rem}.bottom-4{bottom:1rem}.right-4{right:1rem}.top-0{top:0px}.-left-1\.5{left:-0.375rem}.z-40{z-index:40}.z-50{z-index:50}.mx-auto{margin-left:auto;margin-right:auto}.my-10{margin-top:2.5rem;margin-bottom:2.5rem}.ml-1{margin-left:0.25rem}.mt-1{margin-top:0.25rem}.mt-12{margin-top:3rem}.mt-2{margin-top:0.5rem}.mt-3{margin-top:0.75rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.ml-3{margin-left:0.75rem}.mt-10{margin-top:2.5rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.grid{display:grid}.hidden{display:none}.h-1\.5{height:0.375rem}.h-2{height:0.5rem}.h-auto{height:auto}.h-full{height:100%}.h-4{height:1rem}.h-3{height:0.75rem}.w-1\.5{width:0.375rem}.w-2{width:0.5rem}.w-24{width:6rem}.w-full{width:100%}.w-4{width:1rem}.w-3{width:0.75rem}.w-20{width:5rem}.min-w-0{min-width:0px}.min-w-full{min-width:100%}.min-w-\[820px\]{min-width:820px}.min-w-\[860px\]{min-width:860px}.min-w-\[980px\]{min-width:980px}.min-w-\[900px\]{min-width:900px}.max-w-3xl{max-width:48rem}.max-w-\[1360px\]{max-width:1360px}.flex-1{flex:1 1 0%}.shrink-0{flex-shrink:0}.border-separate{border-collapse:separate}.border-spacing-0{--tw-border-spacing-x:0px;--tw-border-spacing-y:0px;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y)}.scroll-mt-24{scroll-margin-top:6rem}.list-disc{list-style-type:disc}.list-decimal{list-style-type:decimal}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-between{justify-content:space-between}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.space-y-1 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.25rem * var(--tw-space-y-reverse))}.space-y-10 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(2.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2.5rem * var(--tw-space-y-reverse))}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-5 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.25rem * var(--tw-space-y-reverse))}.space-y-6 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.divide-y > :not([hidden]) ~ :not([hidden]){--tw-divide-y-reverse:0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-slate-200 > :not([hidden]) ~ :not([hidden]){--tw-divide-opacity:1;border-color:rgb(226 232 240 / var(--tw-divide-opacity, 1))}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.scroll-smooth{scroll-behavior:smooth}.text-balance{text-wrap:balance}.text-pretty{text-wrap:pretty}.rounded{border-radius:0.25rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-md{border-radius:0.375rem}.rounded-xl{border-radius:0.75rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-l{border-left-width:1px}.border-t{border-top-width:1px}.border-accent-200{--tw-border-opacity:1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.border-slate-200{--tw-border-opacity:1;border-color:rgb(226 232 240 / var(--tw-border-opacity, 1))}.border-slate-300{--tw-border-opacity:1;border-color:rgb(203 213 225 / var(--tw-border-opacity, 1))}.border-sky-200{--tw-border-opacity:1;border-color:rgb(186 230 253 / var(--tw-border-opacity, 1))}.border-sky-300{--tw-border-opacity:1;border-color:rgb(125 211 252 / var(--tw-border-opacity, 1))}.border-zinc-200{--tw-border-opacity:1;border-color:rgb(228 228 231 / var(--tw-border-opacity, 1))}.border-zinc-300{--tw-border-opacity:1;border-color:rgb(212 212 216 / var(--tw-border-opacity, 1))}.bg-accent{--tw-bg-opacity:1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.bg-accent-50{--tw-bg-opacity:1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-slate-50{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-slate-400{--tw-bg-opacity:1;background-color:rgb(148 163 184 / var(--tw-bg-opacity, 1))}.bg-white\/95{background-color:rgb(255 255 255 / 0.95)}.bg-sky-50{--tw-bg-opacity:1;background-color:rgb(240 249 255 / var(--tw-bg-opacity, 1))}.bg-sky-500{--tw-bg-opacity:1;background-color:rgb(14 165 233 / var(--tw-bg-opacity, 1))}.bg-zinc-50{--tw-bg-opacity:1;background-color:rgb(250 250 250 / var(--tw-bg-opacity, 1))}.p-3{padding:0.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-5{padding:1.25rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.py-0\.5{padding-top:0.125rem;padding-bottom:0.125rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.pl-3{padding-left:0.75rem}.pt-3{padding-top:0.75rem}.pb-16{padding-bottom:4rem}.pl-6{padding-left:1.5rem}.pt-5{padding-top:1.25rem}.pb-12{padding-bottom:3rem}.pl-5{padding-left:1.25rem}.text-left{text-align:left}.font-mono{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xs{font-size:0.75rem;line-height:1rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-medium{font-weight:500}.font-semibold{font-weight:600}.leading-6{line-height:1.5rem}.leading-7{line-height:1.75rem}.leading-tight{line-height:1.25}.leading-5{line-height:1.25rem}.tracking-wide{letter-spacing:0.025em}.tracking-tight{letter-spacing:-0.025em}.text-accent{--tw-text-opacity:1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-slate-300{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity, 1))}.text-slate-500{--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity, 1))}.text-slate-600{--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity, 1))}.text-slate-700{--tw-text-opacity:1;color:rgb(51 65 85 / var(--tw-text-opacity, 1))}.text-slate-800{--tw-text-opacity:1;color:rgb(30 41 59 / var(--tw-text-opacity, 1))}.text-slate-900{--tw-text-opacity:1;color:rgb(15 23 42 / var(--tw-text-opacity, 1))}.text-sky-900{--tw-text-opacity:1;color:rgb(12 74 110 / var(--tw-text-opacity, 1))}.text-sky-900\/90{color:rgb(12 74 110 / 0.9)}.text-zinc-600{--tw-text-opacity:1;color:rgb(82 82 91 / var(--tw-text-opacity, 1))}.text-zinc-700{--tw-text-opacity:1;color:rgb(63 63 70 / var(--tw-text-opacity, 1))}.text-zinc-800{--tw-text-opacity:1;color:rgb(39 39 42 / var(--tw-text-opacity, 1))}.text-zinc-900{--tw-text-opacity:1;color:rgb(24 24 27 / var(--tw-text-opacity, 1))}.underline{-webkit-text-decoration-line:underline;text-decoration-line:underline}.decoration-zinc-400{-webkit-text-decoration-color:#a1a1aa;text-decoration-color:#a1a1aa}.underline-offset-4{text-underline-offset:4px}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.shadow-paper{--tw-shadow:0 1px 0 rgba(15, 23, 42, 0.06);--tw-shadow-colored:0 1px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.backdrop-blur{--tw-backdrop-blur:blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.hover\:border-slate-300:hover{--tw-border-opacity:1;border-color:rgb(203 213 225 / var(--tw-border-opacity, 1))}.hover\:bg-slate-50:hover{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.hover\:underline:hover{-webkit-text-decoration-line:underline;text-decoration-line:underline}.focus\:not-sr-only:focus{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.focus\:fixed:focus{position:fixed}.focus\:left-4:focus{left:1rem}.focus\:top-4:focus{top:1rem}.focus\:z-50:focus{z-index:50}.focus\:rounded-md:focus{border-radius:0.375rem}.focus\:border:focus{border-width:1px}.focus\:border-accent:focus{--tw-border-opacity:1;border-color:rgb(29 78 216 / var(--tw-border-opacity, 1))}.focus\:border-slate-200:focus{--tw-border-opacity:1;border-color:rgb(226 232 240 / var(--tw-border-opacity, 1))}.focus\:bg-white:focus{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.focus\:px-3:focus{padding-left:0.75rem;padding-right:0.75rem}.focus\:py-2:focus{padding-top:0.5rem;padding-bottom:0.5rem}.focus\:text-sm:focus{font-size:0.875rem;line-height:1.25rem}.focus\:font-semibold:focus{font-weight:600}.focus\:font-medium:focus{font-weight:500}.focus\:text-accent:focus{--tw-text-opacity:1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.focus\:shadow:focus{--tw-shadow:0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-zinc-900\/20:focus{--tw-ring-color:rgb(24 24 27 / 0.2)}@supports ((-webkit-backdrop-filter: var(--tw)) or (backdrop-filter: var(--tw))){.supports-\[backdrop-filter\]\:bg-white\/80{background-color:rgb(255 255 255 / 0.8)}}@media (min-width: 640px){.sm\:inline-flex{display:inline-flex}.sm\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.sm\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.sm\:flex-row{flex-direction:row}.sm\:items-start{align-items:flex-start}.sm\:justify-between{justify-content:space-between}.sm\:p-8{padding:2rem}.sm\:px-6{padding-left:1.5rem;padding-right:1.5rem}.sm\:text-3xl{font-size:1.875rem;line-height:2.25rem}.sm\:text-lg{font-size:1.125rem;line-height:1.75rem}.sm\:text-xl{font-size:1.25rem;line-height:1.75rem}}@media (min-width: 768px){.md\:block{display:block}.md\:grid{display:grid}.md\:hidden{display:none}.md\:scroll-mt-10{scroll-margin-top:2.5rem}.md\:grid-cols-\[320px_1fr\]{grid-template-columns:320px 1fr}.md\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.md\:gap-10{gap:2.5rem}.md\:px-6{padding-left:1.5rem;padding-right:1.5rem}}@media (min-width: 1024px){.lg\:block{display:block}.lg\:hidden{display:none}.lg\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.lg\:grid-cols-\[320px_1fr\]{grid-template-columns:320px 1fr}.lg\:grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}.lg\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.lg\:px-8{padding-left:2rem;padding-right:2rem}.lg\:text-4xl{font-size:2.25rem;line-height:2.5rem}}</style><style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.-left-\[9px\]{left:-9px}.top-1\.5{top:0.375rem}.top-6{top:1.5rem}.bottom-4{bottom:1rem}.right-4{right:1rem}.top-0{top:0px}.-left-1\.5{left:-0.375rem}.z-40{z-index:40}.z-50{z-index:50}.mx-auto{margin-left:auto;margin-right:auto}.my-10{margin-top:2.5rem;margin-bottom:2.5rem}.ml-1{margin-left:0.25rem}.ml-3{margin-left:0.75rem}.mt-1{margin-top:0.25rem}.mt-12{margin-top:3rem}.mt-2{margin-top:0.5rem}.mt-3{margin-top:0.75rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.mt-10{margin-top:2.5rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.grid{display:grid}.hidden{display:none}.h-1\.5{height:0.375rem}.h-2{height:0.5rem}.h-4{height:1rem}.h-auto{height:auto}.h-full{height:100%}.h-3{height:0.75rem}.w-1\.5{width:0.375rem}.w-2{width:0.5rem}.w-24{width:6rem}.w-4{width:1rem}.w-full{width:100%}.w-3{width:0.75rem}.w-20{width:5rem}.min-w-0{min-width:0px}.min-w-full{min-width:100%}.min-w-\[820px\]{min-width:820px}.min-w-\[860px\]{min-width:860px}.min-w-\[980px\]{min-width:980px}.min-w-\[900px\]{min-width:900px}.max-w-3xl{max-width:48rem}.max-w-\[1360px\]{max-width:1360px}.flex-1{flex:1 1 0%}.shrink-0{flex-shrink:0}.border-separate{border-collapse:separate}.border-spacing-0{--tw-border-spacing-x:0px;--tw-border-spacing-y:0px;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y)}.scroll-mt-24{scroll-margin-top:6rem}.list-disc{list-style-type:disc}.list-decimal{list-style-type:decimal}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-between{justify-content:space-between}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.space-y-1 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.25rem * var(--tw-space-y-reverse))}.space-y-10 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(2.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2.5rem * var(--tw-space-y-reverse))}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-5 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.25rem * var(--tw-space-y-reverse))}.space-y-6 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.divide-y > :not([hidden]) ~ :not([hidden]){--tw-divide-y-reverse:0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-slate-200 > :not([hidden]) ~ :not([hidden]){--tw-divide-opacity:1;border-color:rgb(226 232 240 / var(--tw-divide-opacity, 1))}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.scroll-smooth{scroll-behavior:smooth}.text-balance{text-wrap:balance}.text-pretty{text-wrap:pretty}.rounded{border-radius:0.25rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-md{border-radius:0.375rem}.rounded-xl{border-radius:0.75rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-l{border-left-width:1px}.border-t{border-top-width:1px}.border-accent-200{--tw-border-opacity:1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.border-slate-200{--tw-border-opacity:1;border-color:rgb(226 232 240 / var(--tw-border-opacity, 1))}.border-slate-300{--tw-border-opacity:1;border-color:rgb(203 213 225 / var(--tw-border-opacity, 1))}.border-sky-200{--tw-border-opacity:1;border-color:rgb(186 230 253 / var(--tw-border-opacity, 1))}.border-sky-300{--tw-border-opacity:1;border-color:rgb(125 211 252 / var(--tw-border-opacity, 1))}.border-zinc-200{--tw-border-opacity:1;border-color:rgb(228 228 231 / var(--tw-border-opacity, 1))}.border-zinc-300{--tw-border-opacity:1;border-color:rgb(212 212 216 / var(--tw-border-opacity, 1))}.bg-accent{--tw-bg-opacity:1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.bg-accent-50{--tw-bg-opacity:1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-slate-400{--tw-bg-opacity:1;background-color:rgb(148 163 184 / var(--tw-bg-opacity, 1))}.bg-slate-50{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-white\/95{background-color:rgb(255 255 255 / 0.95)}.bg-sky-50{--tw-bg-opacity:1;background-color:rgb(240 249 255 / var(--tw-bg-opacity, 1))}.bg-sky-500{--tw-bg-opacity:1;background-color:rgb(14 165 233 / var(--tw-bg-opacity, 1))}.bg-zinc-50{--tw-bg-opacity:1;background-color:rgb(250 250 250 / var(--tw-bg-opacity, 1))}.p-3{padding:0.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-5{padding:1.25rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-0\.5{padding-top:0.125rem;padding-bottom:0.125rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-16{padding-bottom:4rem}.pl-3{padding-left:0.75rem}.pl-6{padding-left:1.5rem}.pt-3{padding-top:0.75rem}.pt-5{padding-top:1.25rem}.pb-12{padding-bottom:3rem}.pl-5{padding-left:1.25rem}.text-left{text-align:left}.font-mono{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xs{font-size:0.75rem;line-height:1rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-medium{font-weight:500}.font-semibold{font-weight:600}.leading-5{line-height:1.25rem}.leading-6{line-height:1.5rem}.leading-7{line-height:1.75rem}.leading-tight{line-height:1.25}.tracking-wide{letter-spacing:0.025em}.tracking-tight{letter-spacing:-0.025em}.text-accent{--tw-text-opacity:1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-slate-300{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity, 1))}.text-slate-500{--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity, 1))}.text-slate-600{--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity, 1))}.text-slate-700{--tw-text-opacity:1;color:rgb(51 65 85 / var(--tw-text-opacity, 1))}.text-slate-800{--tw-text-opacity:1;color:rgb(30 41 59 / var(--tw-text-opacity, 1))}.text-slate-900{--tw-text-opacity:1;color:rgb(15 23 42 / var(--tw-text-opacity, 1))}.text-sky-900{--tw-text-opacity:1;color:rgb(12 74 110 / var(--tw-text-opacity, 1))}.text-sky-900\/90{color:rgb(12 74 110 / 0.9)}.text-zinc-600{--tw-text-opacity:1;color:rgb(82 82 91 / var(--tw-text-opacity, 1))}.text-zinc-700{--tw-text-opacity:1;color:rgb(63 63 70 / var(--tw-text-opacity, 1))}.text-zinc-800{--tw-text-opacity:1;color:rgb(39 39 42 / var(--tw-text-opacity, 1))}.text-zinc-900{--tw-text-opacity:1;color:rgb(24 24 27 / var(--tw-text-opacity, 1))}.underline{-webkit-text-decoration-line:underline;text-decoration-line:underline}.decoration-zinc-400{-webkit-text-decoration-color:#a1a1aa;text-decoration-color:#a1a1aa}.underline-offset-4{text-underline-offset:4px}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.backdrop-blur{--tw-backdrop-blur:blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.hover\:border-slate-300:hover{--tw-border-opacity:1;border-color:rgb(203 213 225 / var(--tw-border-opacity, 1))}.hover\:bg-slate-50:hover{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.hover\:underline:hover{-webkit-text-decoration-line:underline;text-decoration-line:underline}.focus\:not-sr-only:focus{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.focus\:fixed:focus{position:fixed}.focus\:left-4:focus{left:1rem}.focus\:top-4:focus{top:1rem}.focus\:z-50:focus{z-index:50}.focus\:rounded-md:focus{border-radius:0.375rem}.focus\:border:focus{border-width:1px}.focus\:border-accent:focus{--tw-border-opacity:1;border-color:rgb(29 78 216 / var(--tw-border-opacity, 1))}.focus\:border-slate-200:focus{--tw-border-opacity:1;border-color:rgb(226 232 240 / var(--tw-border-opacity, 1))}.focus\:bg-white:focus{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.focus\:px-3:focus{padding-left:0.75rem;padding-right:0.75rem}.focus\:py-2:focus{padding-top:0.5rem;padding-bottom:0.5rem}.focus\:text-sm:focus{font-size:0.875rem;line-height:1.25rem}.focus\:font-semibold:focus{font-weight:600}.focus\:font-medium:focus{font-weight:500}.focus\:text-accent:focus{--tw-text-opacity:1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.focus\:shadow:focus{--tw-shadow:0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-zinc-900\/20:focus{--tw-ring-color:rgb(24 24 27 / 0.2)}@supports ((-webkit-backdrop-filter: var(--tw)) or (backdrop-filter: var(--tw))){.supports-\[backdrop-filter\]\:bg-white\/80{background-color:rgb(255 255 255 / 0.8)}}@media (min-width: 640px){.sm\:inline-flex{display:inline-flex}.sm\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.sm\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.sm\:flex-row{flex-direction:row}.sm\:items-start{align-items:flex-start}.sm\:justify-between{justify-content:space-between}.sm\:p-8{padding:2rem}.sm\:px-6{padding-left:1.5rem;padding-right:1.5rem}.sm\:text-3xl{font-size:1.875rem;line-height:2.25rem}.sm\:text-lg{font-size:1.125rem;line-height:1.75rem}.sm\:text-xl{font-size:1.25rem;line-height:1.75rem}}@media (min-width: 768px){.md\:block{display:block}.md\:grid{display:grid}.md\:hidden{display:none}.md\:scroll-mt-10{scroll-margin-top:2.5rem}.md\:grid-cols-\[320px_1fr\]{grid-template-columns:320px 1fr}.md\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.md\:gap-10{gap:2.5rem}.md\:px-6{padding-left:1.5rem;padding-right:1.5rem}}@media (min-width: 1024px){.lg\:block{display:block}.lg\:hidden{display:none}.lg\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.lg\:grid-cols-\[320px_1fr\]{grid-template-columns:320px 1fr}.lg\:grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}.lg\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.lg\:px-8{padding-left:2rem;padding-right:2rem}.lg\:text-4xl{font-size:2.25rem;line-height:2.5rem}}</style><style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.-left-\[9px\]{left:-9px}.bottom-4{bottom:1rem}.right-4{right:1rem}.top-0{top:0px}.top-1\.5{top:0.375rem}.top-6{top:1.5rem}.-left-1\.5{left:-0.375rem}.z-40{z-index:40}.z-50{z-index:50}.mx-auto{margin-left:auto;margin-right:auto}.my-10{margin-top:2.5rem;margin-bottom:2.5rem}.ml-1{margin-left:0.25rem}.ml-3{margin-left:0.75rem}.mt-1{margin-top:0.25rem}.mt-10{margin-top:2.5rem}.mt-12{margin-top:3rem}.mt-2{margin-top:0.5rem}.mt-3{margin-top:0.75rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.grid{display:grid}.hidden{display:none}.h-1\.5{height:0.375rem}.h-2{height:0.5rem}.h-4{height:1rem}.h-auto{height:auto}.h-full{height:100%}.h-3{height:0.75rem}.w-1\.5{width:0.375rem}.w-2{width:0.5rem}.w-24{width:6rem}.w-4{width:1rem}.w-full{width:100%}.w-3{width:0.75rem}.w-20{width:5rem}.min-w-0{min-width:0px}.min-w-full{min-width:100%}.min-w-\[820px\]{min-width:820px}.min-w-\[860px\]{min-width:860px}.min-w-\[980px\]{min-width:980px}.min-w-\[900px\]{min-width:900px}.max-w-3xl{max-width:48rem}.max-w-\[1360px\]{max-width:1360px}.flex-1{flex:1 1 0%}.shrink-0{flex-shrink:0}.border-separate{border-collapse:separate}.border-spacing-0{--tw-border-spacing-x:0px;--tw-border-spacing-y:0px;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y)}.scroll-mt-24{scroll-margin-top:6rem}.list-disc{list-style-type:disc}.list-decimal{list-style-type:decimal}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-between{justify-content:space-between}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.space-y-1 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.25rem * var(--tw-space-y-reverse))}.space-y-10 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(2.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2.5rem * var(--tw-space-y-reverse))}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-5 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.25rem * var(--tw-space-y-reverse))}.space-y-6 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.divide-y > :not([hidden]) ~ :not([hidden]){--tw-divide-y-reverse:0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-slate-200 > :not([hidden]) ~ :not([hidden]){--tw-divide-opacity:1;border-color:rgb(226 232 240 / var(--tw-divide-opacity, 1))}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.scroll-smooth{scroll-behavior:smooth}.text-balance{text-wrap:balance}.text-pretty{text-wrap:pretty}.rounded{border-radius:0.25rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-md{border-radius:0.375rem}.rounded-xl{border-radius:0.75rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-l{border-left-width:1px}.border-t{border-top-width:1px}.border-accent-200{--tw-border-opacity:1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.border-slate-200{--tw-border-opacity:1;border-color:rgb(226 232 240 / var(--tw-border-opacity, 1))}.border-slate-300{--tw-border-opacity:1;border-color:rgb(203 213 225 / var(--tw-border-opacity, 1))}.border-sky-200{--tw-border-opacity:1;border-color:rgb(186 230 253 / var(--tw-border-opacity, 1))}.border-sky-300{--tw-border-opacity:1;border-color:rgb(125 211 252 / var(--tw-border-opacity, 1))}.border-zinc-200{--tw-border-opacity:1;border-color:rgb(228 228 231 / var(--tw-border-opacity, 1))}.border-zinc-300{--tw-border-opacity:1;border-color:rgb(212 212 216 / var(--tw-border-opacity, 1))}.bg-accent{--tw-bg-opacity:1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.bg-accent-50{--tw-bg-opacity:1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-slate-400{--tw-bg-opacity:1;background-color:rgb(148 163 184 / var(--tw-bg-opacity, 1))}.bg-slate-50{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-white\/95{background-color:rgb(255 255 255 / 0.95)}.bg-sky-50{--tw-bg-opacity:1;background-color:rgb(240 249 255 / var(--tw-bg-opacity, 1))}.bg-sky-500{--tw-bg-opacity:1;background-color:rgb(14 165 233 / var(--tw-bg-opacity, 1))}.bg-zinc-50{--tw-bg-opacity:1;background-color:rgb(250 250 250 / var(--tw-bg-opacity, 1))}.p-3{padding:0.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-5{padding:1.25rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-0\.5{padding-top:0.125rem;padding-bottom:0.125rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-12{padding-bottom:3rem}.pb-16{padding-bottom:4rem}.pl-3{padding-left:0.75rem}.pl-5{padding-left:1.25rem}.pl-6{padding-left:1.5rem}.pt-3{padding-top:0.75rem}.pt-5{padding-top:1.25rem}.text-left{text-align:left}.font-mono{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xs{font-size:0.75rem;line-height:1rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-medium{font-weight:500}.font-semibold{font-weight:600}.leading-5{line-height:1.25rem}.leading-6{line-height:1.5rem}.leading-7{line-height:1.75rem}.leading-tight{line-height:1.25}.tracking-wide{letter-spacing:0.025em}.tracking-tight{letter-spacing:-0.025em}.text-accent{--tw-text-opacity:1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-slate-300{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity, 1))}.text-slate-500{--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity, 1))}.text-slate-600{--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity, 1))}.text-slate-700{--tw-text-opacity:1;color:rgb(51 65 85 / var(--tw-text-opacity, 1))}.text-slate-800{--tw-text-opacity:1;color:rgb(30 41 59 / var(--tw-text-opacity, 1))}.text-slate-900{--tw-text-opacity:1;color:rgb(15 23 42 / var(--tw-text-opacity, 1))}.text-sky-900{--tw-text-opacity:1;color:rgb(12 74 110 / var(--tw-text-opacity, 1))}.text-sky-900\/90{color:rgb(12 74 110 / 0.9)}.text-zinc-600{--tw-text-opacity:1;color:rgb(82 82 91 / var(--tw-text-opacity, 1))}.text-zinc-700{--tw-text-opacity:1;color:rgb(63 63 70 / var(--tw-text-opacity, 1))}.text-zinc-800{--tw-text-opacity:1;color:rgb(39 39 42 / var(--tw-text-opacity, 1))}.text-zinc-900{--tw-text-opacity:1;color:rgb(24 24 27 / var(--tw-text-opacity, 1))}.underline{-webkit-text-decoration-line:underline;text-decoration-line:underline}.decoration-zinc-400{-webkit-text-decoration-color:#a1a1aa;text-decoration-color:#a1a1aa}.underline-offset-4{text-underline-offset:4px}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.backdrop-blur{--tw-backdrop-blur:blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.hover\:border-slate-300:hover{--tw-border-opacity:1;border-color:rgb(203 213 225 / var(--tw-border-opacity, 1))}.hover\:bg-slate-50:hover{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.hover\:underline:hover{-webkit-text-decoration-line:underline;text-decoration-line:underline}.focus\:not-sr-only:focus{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.focus\:fixed:focus{position:fixed}.focus\:left-4:focus{left:1rem}.focus\:top-4:focus{top:1rem}.focus\:z-50:focus{z-index:50}.focus\:rounded-md:focus{border-radius:0.375rem}.focus\:border:focus{border-width:1px}.focus\:border-accent:focus{--tw-border-opacity:1;border-color:rgb(29 78 216 / var(--tw-border-opacity, 1))}.focus\:border-slate-200:focus{--tw-border-opacity:1;border-color:rgb(226 232 240 / var(--tw-border-opacity, 1))}.focus\:bg-white:focus{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.focus\:px-3:focus{padding-left:0.75rem;padding-right:0.75rem}.focus\:py-2:focus{padding-top:0.5rem;padding-bottom:0.5rem}.focus\:text-sm:focus{font-size:0.875rem;line-height:1.25rem}.focus\:font-medium:focus{font-weight:500}.focus\:font-semibold:focus{font-weight:600}.focus\:text-accent:focus{--tw-text-opacity:1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.focus\:shadow:focus{--tw-shadow:0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-zinc-900\/20:focus{--tw-ring-color:rgb(24 24 27 / 0.2)}@supports ((-webkit-backdrop-filter: var(--tw)) or (backdrop-filter: var(--tw))){.supports-\[backdrop-filter\]\:bg-white\/80{background-color:rgb(255 255 255 / 0.8)}}@media (min-width: 640px){.sm\:inline-flex{display:inline-flex}.sm\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.sm\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.sm\:flex-row{flex-direction:row}.sm\:items-start{align-items:flex-start}.sm\:justify-between{justify-content:space-between}.sm\:p-8{padding:2rem}.sm\:px-6{padding-left:1.5rem;padding-right:1.5rem}.sm\:text-3xl{font-size:1.875rem;line-height:2.25rem}.sm\:text-lg{font-size:1.125rem;line-height:1.75rem}.sm\:text-xl{font-size:1.25rem;line-height:1.75rem}}@media (min-width: 768px){.md\:block{display:block}.md\:grid{display:grid}.md\:hidden{display:none}.md\:scroll-mt-10{scroll-margin-top:2.5rem}.md\:grid-cols-\[320px_1fr\]{grid-template-columns:320px 1fr}.md\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.md\:gap-10{gap:2.5rem}.md\:px-6{padding-left:1.5rem;padding-right:1.5rem}}@media (min-width: 1024px){.lg\:block{display:block}.lg\:hidden{display:none}.lg\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.lg\:grid-cols-\[320px_1fr\]{grid-template-columns:320px 1fr}.lg\:grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}.lg\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.lg\:px-8{padding-left:2rem;padding-right:2rem}.lg\:text-4xl{font-size:2.25rem;line-height:2.5rem}}</style><style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.-left-1\.5{left:-0.375rem}.-left-\[9px\]{left:-9px}.bottom-4{bottom:1rem}.right-4{right:1rem}.top-0{top:0px}.top-1\.5{top:0.375rem}.top-6{top:1.5rem}.z-40{z-index:40}.z-50{z-index:50}.mx-auto{margin-left:auto;margin-right:auto}.my-10{margin-top:2.5rem;margin-bottom:2.5rem}.ml-1{margin-left:0.25rem}.ml-3{margin-left:0.75rem}.mt-1{margin-top:0.25rem}.mt-10{margin-top:2.5rem}.mt-12{margin-top:3rem}.mt-2{margin-top:0.5rem}.mt-3{margin-top:0.75rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.grid{display:grid}.hidden{display:none}.h-1\.5{height:0.375rem}.h-2{height:0.5rem}.h-3{height:0.75rem}.h-4{height:1rem}.h-auto{height:auto}.h-full{height:100%}.w-1\.5{width:0.375rem}.w-2{width:0.5rem}.w-24{width:6rem}.w-3{width:0.75rem}.w-4{width:1rem}.w-full{width:100%}.w-20{width:5rem}.min-w-0{min-width:0px}.min-w-\[820px\]{min-width:820px}.min-w-\[860px\]{min-width:860px}.min-w-\[980px\]{min-width:980px}.min-w-full{min-width:100%}.min-w-\[900px\]{min-width:900px}.max-w-3xl{max-width:48rem}.max-w-\[1360px\]{max-width:1360px}.flex-1{flex:1 1 0%}.shrink-0{flex-shrink:0}.border-separate{border-collapse:separate}.border-spacing-0{--tw-border-spacing-x:0px;--tw-border-spacing-y:0px;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y)}.scroll-mt-24{scroll-margin-top:6rem}.list-decimal{list-style-type:decimal}.list-disc{list-style-type:disc}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-between{justify-content:space-between}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.space-y-1 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.25rem * var(--tw-space-y-reverse))}.space-y-10 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(2.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2.5rem * var(--tw-space-y-reverse))}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.space-y-5 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.25rem * var(--tw-space-y-reverse))}.space-y-6 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.divide-y > :not([hidden]) ~ :not([hidden]){--tw-divide-y-reverse:0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-slate-200 > :not([hidden]) ~ :not([hidden]){--tw-divide-opacity:1;border-color:rgb(226 232 240 / var(--tw-divide-opacity, 1))}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.scroll-smooth{scroll-behavior:smooth}.text-balance{text-wrap:balance}.text-pretty{text-wrap:pretty}.rounded{border-radius:0.25rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-md{border-radius:0.375rem}.rounded-xl{border-radius:0.75rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-l{border-left-width:1px}.border-t{border-top-width:1px}.border-accent-200{--tw-border-opacity:1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.border-slate-200{--tw-border-opacity:1;border-color:rgb(226 232 240 / var(--tw-border-opacity, 1))}.border-slate-300{--tw-border-opacity:1;border-color:rgb(203 213 225 / var(--tw-border-opacity, 1))}.border-sky-200{--tw-border-opacity:1;border-color:rgb(186 230 253 / var(--tw-border-opacity, 1))}.border-sky-300{--tw-border-opacity:1;border-color:rgb(125 211 252 / var(--tw-border-opacity, 1))}.border-zinc-200{--tw-border-opacity:1;border-color:rgb(228 228 231 / var(--tw-border-opacity, 1))}.border-zinc-300{--tw-border-opacity:1;border-color:rgb(212 212 216 / var(--tw-border-opacity, 1))}.bg-accent{--tw-bg-opacity:1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.bg-accent-50{--tw-bg-opacity:1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-slate-400{--tw-bg-opacity:1;background-color:rgb(148 163 184 / var(--tw-bg-opacity, 1))}.bg-slate-50{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-white\/95{background-color:rgb(255 255 255 / 0.95)}.bg-sky-50{--tw-bg-opacity:1;background-color:rgb(240 249 255 / var(--tw-bg-opacity, 1))}.bg-sky-500{--tw-bg-opacity:1;background-color:rgb(14 165 233 / var(--tw-bg-opacity, 1))}.bg-zinc-50{--tw-bg-opacity:1;background-color:rgb(250 250 250 / var(--tw-bg-opacity, 1))}.p-3{padding:0.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-6{padding:1.5rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-0\.5{padding-top:0.125rem;padding-bottom:0.125rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-12{padding-bottom:3rem}.pb-16{padding-bottom:4rem}.pl-3{padding-left:0.75rem}.pl-5{padding-left:1.25rem}.pl-6{padding-left:1.5rem}.pt-3{padding-top:0.75rem}.pt-5{padding-top:1.25rem}.text-left{text-align:left}.font-mono{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xs{font-size:0.75rem;line-height:1rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-medium{font-weight:500}.font-semibold{font-weight:600}.leading-5{line-height:1.25rem}.leading-6{line-height:1.5rem}.leading-7{line-height:1.75rem}.leading-tight{line-height:1.25}.tracking-wide{letter-spacing:0.025em}.tracking-tight{letter-spacing:-0.025em}.text-accent{--tw-text-opacity:1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-slate-300{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity, 1))}.text-slate-500{--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity, 1))}.text-slate-600{--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity, 1))}.text-slate-700{--tw-text-opacity:1;color:rgb(51 65 85 / var(--tw-text-opacity, 1))}.text-slate-800{--tw-text-opacity:1;color:rgb(30 41 59 / var(--tw-text-opacity, 1))}.text-slate-900{--tw-text-opacity:1;color:rgb(15 23 42 / var(--tw-text-opacity, 1))}.text-sky-900{--tw-text-opacity:1;color:rgb(12 74 110 / var(--tw-text-opacity, 1))}.text-sky-900\/90{color:rgb(12 74 110 / 0.9)}.text-zinc-600{--tw-text-opacity:1;color:rgb(82 82 91 / var(--tw-text-opacity, 1))}.text-zinc-700{--tw-text-opacity:1;color:rgb(63 63 70 / var(--tw-text-opacity, 1))}.text-zinc-800{--tw-text-opacity:1;color:rgb(39 39 42 / var(--tw-text-opacity, 1))}.text-zinc-900{--tw-text-opacity:1;color:rgb(24 24 27 / var(--tw-text-opacity, 1))}.underline{-webkit-text-decoration-line:underline;text-decoration-line:underline}.decoration-zinc-400{-webkit-text-decoration-color:#a1a1aa;text-decoration-color:#a1a1aa}.underline-offset-4{text-underline-offset:4px}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.backdrop-blur{--tw-backdrop-blur:blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.hover\:border-slate-300:hover{--tw-border-opacity:1;border-color:rgb(203 213 225 / var(--tw-border-opacity, 1))}.hover\:bg-slate-50:hover{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.hover\:underline:hover{-webkit-text-decoration-line:underline;text-decoration-line:underline}.focus\:not-sr-only:focus{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.focus\:fixed:focus{position:fixed}.focus\:left-4:focus{left:1rem}.focus\:top-4:focus{top:1rem}.focus\:z-50:focus{z-index:50}.focus\:rounded-md:focus{border-radius:0.375rem}.focus\:border:focus{border-width:1px}.focus\:border-accent:focus{--tw-border-opacity:1;border-color:rgb(29 78 216 / var(--tw-border-opacity, 1))}.focus\:border-slate-200:focus{--tw-border-opacity:1;border-color:rgb(226 232 240 / var(--tw-border-opacity, 1))}.focus\:bg-white:focus{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.focus\:px-3:focus{padding-left:0.75rem;padding-right:0.75rem}.focus\:py-2:focus{padding-top:0.5rem;padding-bottom:0.5rem}.focus\:text-sm:focus{font-size:0.875rem;line-height:1.25rem}.focus\:font-medium:focus{font-weight:500}.focus\:font-semibold:focus{font-weight:600}.focus\:text-accent:focus{--tw-text-opacity:1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.focus\:shadow:focus{--tw-shadow:0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-zinc-900\/20:focus{--tw-ring-color:rgb(24 24 27 / 0.2)}@supports ((-webkit-backdrop-filter: var(--tw)) or (backdrop-filter: var(--tw))){.supports-\[backdrop-filter\]\:bg-white\/80{background-color:rgb(255 255 255 / 0.8)}}@media (min-width: 640px){.sm\:inline-flex{display:inline-flex}.sm\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.sm\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.sm\:flex-row{flex-direction:row}.sm\:items-start{align-items:flex-start}.sm\:justify-between{justify-content:space-between}.sm\:p-8{padding:2rem}.sm\:px-6{padding-left:1.5rem;padding-right:1.5rem}.sm\:text-3xl{font-size:1.875rem;line-height:2.25rem}.sm\:text-lg{font-size:1.125rem;line-height:1.75rem}.sm\:text-xl{font-size:1.25rem;line-height:1.75rem}}@media (min-width: 768px){.md\:block{display:block}.md\:grid{display:grid}.md\:hidden{display:none}.md\:scroll-mt-10{scroll-margin-top:2.5rem}.md\:grid-cols-\[320px_1fr\]{grid-template-columns:320px 1fr}.md\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.md\:gap-10{gap:2.5rem}.md\:px-6{padding-left:1.5rem;padding-right:1.5rem}}@media (min-width: 1024px){.lg\:block{display:block}.lg\:hidden{display:none}.lg\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.lg\:grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}.lg\:grid-cols-\[320px_1fr\]{grid-template-columns:320px 1fr}.lg\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.lg\:px-8{padding-left:2rem;padding-right:2rem}.lg\:text-4xl{font-size:2.25rem;line-height:2.5rem}}</style></head>

  <body class="h-full bg-white text-slate-900 antialiased">
    <a href="file:///O:/Dev/portfolio-2026/sklad.html#main" class="sr-only focus:not-sr-only focus:fixed focus:left-4 focus:top-4 focus:z-50 focus:rounded-md focus:bg-white focus:px-3 focus:py-2 focus:text-sm focus:font-semibold focus:text-accent focus:shadow">Перейти к содержанию</a>

    <header class="border-b border-slate-200">
      <div class="mx-auto max-w-[1360px] px-4 py-4 sm:px-6 lg:px-8">
        <div class="flex flex-wrap items-center justify-between gap-3">
          <div class="min-w-0">
            <p class="text-xs font-semibold tracking-wide text-slate-500">Склад‑15 • Кейс / инженерная спецификация</p>
            <p class="mt-1 text-sm font-medium text-slate-900">Складская UX‑архитектура (PWA, ТСД)</p>
          </div>
          <div class="flex items-center gap-2">
            <a href="file:///O:/Dev/portfolio-2026/sklad.html#context" class="inline-flex items-center gap-2 rounded-md border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900 shadow-paper hover:border-slate-300">
              <span class="inline-block h-2 w-2 rounded-full bg-accent" aria-hidden="true"></span>
              Ограничения
            </a>
            <a href="file:///O:/Dev/portfolio-2026/sklad.html#flows" class="inline-flex items-center rounded-md border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900 hover:border-slate-300">Сценарии</a>
          </div>
        </div>
      </div>
    </header>

    <!-- Мобильное оглавление: dropdown -->
    <div class="border-b border-slate-200 lg:hidden">
      <div class="mx-auto max-w-[1360px] px-4 py-4 sm:px-6">
        <label class="block">
          <span class="text-xs font-semibold tracking-wide text-slate-600">Оглавление</span>
          <select id="tocSelect" class="mt-2 w-full rounded-lg border border-slate-300 bg-white px-3 py-3 text-sm font-medium text-slate-900" aria-label="Оглавление"></select>
        </label>
      </div>
    </div>

    <div class="mx-auto max-w-[1360px] px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 gap-8 py-8 lg:grid-cols-[320px_1fr]">
        <!-- Десктоп‑оглавление (липкое) -->
        <aside class="hidden lg:block">
          <div class="sticky top-6">
            <div class="rounded-xl border border-slate-200 bg-white p-4">
              <div class="flex items-center justify-between gap-3">
                <p class="text-xs font-semibold tracking-wide text-slate-600">ОГЛАВЛЕНИЕ</p>
                <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="toc-link text-xs hover:underline text-slate-700" data-toc-link="">Вверх</a>
              </div>
              <nav class="mt-3" aria-label="Оглавление">
                <ul class="space-y-1 text-sm">
                  <li><a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="">1) Вводная</a></li>
                  <li><a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 bg-accent-50 text-accent font-semibold" href="file:///O:/Dev/portfolio-2026/sklad.html#context" data-toc-link="" aria-current="true">2) Контекст и ограничения</a></li>
                  <li><a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#research" data-toc-link="">3) Исследование</a></li>
                  <li><a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#hypotheses" data-toc-link="">4) Ключевые гипотезы</a></li>
                  <li><a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#constitution" data-toc-link="">5) Системный дизайн и UX‑конституция</a></li>
                  <li>
                    <a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flows" data-toc-link="">6) Сценарии</a>
                    <ul class="mt-1 space-y-1 border-l border-slate-200 pl-3">
                      <li><a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-receiving" data-toc-link="">Приёмка</a></li>
                      <li><a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-placement" data-toc-link="">Размещение</a></li>
                      <li><a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-picking" data-toc-link="">Подбор</a></li>
                      <li><a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-shipping" data-toc-link="">Отгрузка</a></li>
                      <li><a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-returns" data-toc-link="">Возврат и списание</a></li>
                      <li><a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-inventory" data-toc-link="">Инвентаризация</a></li>
                      <li><a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-labels" data-toc-link="">Штрихкоды и этикетки</a></li>
                      <li><a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-settings" data-toc-link="">Настройки</a></li>
                    </ul>
                  </li>
                  <li><a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#metrics" data-toc-link="">7) Метрики и план измерений</a></li>
                  <li><a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#iterations" data-toc-link="">8) Итерации</a></li>
                  <li><a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#testing" data-toc-link="">9) Стратегия тестирования</a></li>
                  <li><a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#outcome" data-toc-link="">10) Результат и ценность продукта</a></li>
                  <li><a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#appendix" data-toc-link="">11) Приложение</a></li>
                </ul>
              </nav>
              <div class="mt-4 border-t border-slate-200 pt-3 text-xs text-slate-600">
                <p>Тема: светлая, AA+ контраст. Акцент: <span class="font-semibold text-accent">синий</span>.</p>
              </div>
            </div>
          </div>
        </aside>

        <main id="main" class="min-w-0">
          <!-- 1) Hero -->
          <section id="top">
            <div class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
              <p class="text-xs font-semibold tracking-wide text-slate-500">1) Вводная</p>
              <h1 class="mt-2 text-balance text-2xl font-semibold leading-tight sm:text-3xl lg:text-4xl">
                Складская UX‑архитектура для «Склад‑15»: от экранов данных к сценариям действий
              </h1>
              <p class="mt-3 max-w-3xl text-pretty text-base leading-7 text-slate-700 sm:text-lg">
                Прототип PWA для работы на ТСД: offline‑first, scan‑first, измеримый UX и поддержка двух операторов.
              </p>
              <p class="mt-4 text-sm leading-6 text-slate-600">
                <span class="font-semibold text-slate-700">Роль</span>: продукт / UX‑архитектор
                <span class="text-slate-300" aria-hidden="true">•</span>
                <span class="font-semibold text-slate-700">Объём</span>: сквозные операторские сценарии
                <span class="text-slate-300" aria-hidden="true">•</span>
                <span class="font-semibold text-slate-700">Артефакты</span>: UX‑конституция, сценарии, план метрик, архитектурный план PWA
              </p>

              <div class="mt-6 grid gap-4 sm:grid-cols-3">
                <div class="rounded-lg border border-slate-200 p-4">
                  <p class="text-xs font-semibold tracking-wide text-slate-600">ОСНОВНОЙ ВВОД</p>
                  <p class="mt-2 text-sm font-semibold text-slate-900">Сканер</p>
                  <p class="mt-1 text-xs text-slate-600">Клавиатурный поток; ручной ввод — запасной.</p>
                </div>
                <div class="rounded-lg border border-slate-200 p-4">
                  <p class="text-xs font-semibold tracking-wide text-slate-600">РЕЖИМ</p>
                  <p class="mt-2 text-sm font-semibold text-slate-900">Offline‑first</p>
                  <p class="mt-1 text-xs text-slate-600">Кэш в IndexedDB + очередь синка + видимое состояние.</p>
                </div>
                <div class="rounded-lg border border-slate-200 p-4">
                  <p class="text-xs font-semibold tracking-wide text-slate-600">КОМАНДА</p>
                  <p class="mt-2 text-sm font-semibold text-slate-900">Два оператора</p>
                  <p class="mt-1 text-xs text-slate-600">Атрибуция партнёра для честных KPI и координации.</p>
                </div>
              </div>
            </div>
            <div class="mt-4 flex justify-end">
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="toc-link text-sm hover:underline text-slate-700" data-toc-link="">Наверх</a>
            </div>
          </section>

          <!-- 2) Context & Constraints -->
          <section id="context" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">2) Контекст и ограничения</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="toc-link text-sm hover:underline text-slate-700" data-toc-link="">Наверх</a>
            </div>
            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Условия склада</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-accent"></span>Шум, перчатки, спешка; низкий «бюджет внимания».</li>
                  <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-accent"></span>Нестабильный Wi‑Fi: обрывы — рутина, не исключение.</li>
                  <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-accent"></span>Сканирование — основной ввод; тап — вторичный.</li>
                  <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-accent"></span>Требование offline‑first: продолжать работу без сети и согласовать позже.</li>
                  <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-accent"></span>Высокая цена ошибки: неверный подбор/ячейка/отгрузка → прямые потери.</li>
                </ul>
              </div>
              <div class="rounded-xl border border-slate-200 bg-accent-50 p-6">
                <div class="flex items-start justify-between gap-4">
                  <h3 class="text-sm font-semibold text-slate-900">Необсуждаемые принципы</h3>
                  <span class="rounded-full border border-accent-200 bg-white px-2 py-1 text-xs font-semibold text-accent">Важно</span>
                </div>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-800">
                  <li><span class="font-semibold">Ясность следующего шага</span> &gt; контекст &gt; история</li>
                  <li><span class="font-semibold">Офлайн</span> — нормальный режим</li>
                  <li><span class="font-semibold">Ошибки</span> — сценарии, а не вина</li>
                  <li><span class="font-semibold">Сканирование</span> &gt; тап</li>
                  <li><span class="font-semibold">Один экран</span> = одно решение</li>
                </ul>
              </div>
            </div>
          </section>

          <!-- 3) Research -->
          <section id="research" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">3) Исследование</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="toc-link text-sm hover:underline text-slate-700" data-toc-link="">Наверх</a>
            </div>
            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Входы</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li>- Анализ документации «Склад‑15».</li>
                  <li>- Декомпозиция реальных операторских сценариев по операциям.</li>
                  <li>
                    - Трения:
                    <span class="ml-1 inline-flex flex-wrap gap-2">
                      <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-xs">слишком много переходов по меню</span>
                      <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-xs">непоследовательные паттерны</span>
                      <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-xs">списки без действий</span>
                      <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-xs">неясно «что дальше»</span>
                    </span>
                  </li>
                </ul>
              </div>
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Выходы</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li>- CJM/JTBD‑маппинг (задача оператора → микро‑действия).</li>
                  <li>- Единая модель приоритета информации: <span class="font-semibold">Следующее / Сейчас / Сделано</span>.</li>
                  <li>- Операционные сценарии по модулям: scan‑циклы, исключения, правила завершения.</li>
                </ul>
                <div class="mt-5 rounded-lg border border-slate-200 bg-slate-50 p-4">
                  <h4 class="text-xs font-semibold tracking-wide text-slate-700">Полевые допущения</h4>
                  <ul class="mt-2 space-y-1 text-sm leading-6 text-slate-700">
                    <li>- Подтверждение скана важнее чтения длинных таблиц.</li>
                    <li>- Быстрое восстановление после ошибок важнее идеальной профилактики.</li>
                    <li>- Контекст должен сохраняться между сканами (без лишней навигации).</li>
                    <li>- Видимый статус синка снижает сомнения и дубли.</li>
                    <li>- Режим двух операторов должен атрибутировать вклад без лишних шагов.</li>
                  </ul>
                </div>
              </div>
            </div>
          </section>

          <!-- 4) Key Hypotheses -->
          <section id="hypotheses" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">4) Ключевые гипотезы</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="toc-link text-sm hover:underline text-slate-700" data-toc-link="">Наверх</a>
            </div>
            <div class="mt-4 overflow-hidden rounded-xl border border-slate-200 bg-white">
              <div class="overflow-x-auto">
                <table class="min-w-full text-left text-sm">
                  <thead class="bg-slate-50 text-xs font-semibold tracking-wide text-slate-700">
                    <tr>
                      <th class="px-4 py-3">Гипотеза</th>
                      <th class="px-4 py-3">Ожидаемый эффект</th>
                      <th class="px-4 py-3">Как измеряем</th>
                    </tr>
                  </thead>
                  <tbody class="divide-y divide-slate-200">
                    <tr>
                      <td class="px-4 py-3">UI «сначала следующий шаг» снижает время до первого скана и ошибки.</td>
                      <td class="px-4 py-3 text-slate-700">Быстрее «войти в работу», меньше пауз.</td>
                      <td class="px-4 py-3 text-slate-700">Время «вход в модуль → 1‑й скан», ранние ошибки.</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3">«Одна фокус‑карта» вместо табличности повышает throughput сканирования.</td>
                      <td class="px-4 py-3 text-slate-700">Больше сканов/мин, меньше неверных действий.</td>
                      <td class="px-4 py-3 text-slate-700">Сканы/мин по модулю; время на строку/единицу.</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3">Навигация с сохранением контекста уменьшает возвраты и «блуждание».</td>
                      <td class="px-4 py-3 text-slate-700">Меньше меню‑хоппинга, меньше потерянных состояний.</td>
                      <td class="px-4 py-3 text-slate-700">% событий back; «churn экранов» на документ.</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3">Offline‑first + видимый синк снижает тревожность и дубли действий.</td>
                      <td class="px-4 py-3 text-slate-700">Выше доверие к системе; меньше повторных сканов.</td>
                      <td class="px-4 py-3 text-slate-700">Дубли попыток; ретраи sync_failed; глубина очереди.</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3">Сессии «2 оператора» улучшают справедливость KPI и координацию.</td>
                      <td class="px-4 py-3 text-slate-700">Точная атрибуция; плавнее handoff.</td>
                      <td class="px-4 py-3 text-slate-700">Покрытие partner_id; распределение времени/усилий.</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3">Стандартизированные компоненты ускоряют обучение и снижают вариативность.</td>
                      <td class="px-4 py-3 text-slate-700">Меньше «новых правил» UI; быстрее адаптация.</td>
                      <td class="px-4 py-3 text-slate-700">Время до уверенной работы; использование подсказок.</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3">Явные правила завершения + подтверждение расхождений уменьшают «тихие» несоответствия.</td>
                      <td class="px-4 py-3 text-slate-700">Меньше исправлений вниз по цепочке.</td>
                      <td class="px-4 py-3 text-slate-700">% документов с расхождениями; доля переоткрытий.</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3">Единый UX исключений ускоряет восстановление.</td>
                      <td class="px-4 py-3 text-slate-700">Быстрее «ошибка → решено»; меньше обращений в поддержку.</td>
                      <td class="px-4 py-3 text-slate-700">Время решения; повторяющиеся циклы ошибок.</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </section>

          <!-- 5) System Design & UX Constitution -->
          <section id="constitution" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">5) Системный дизайн и UX‑конституция</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="toc-link text-sm hover:underline text-slate-700" data-toc-link="">Наверх</a>
            </div>
            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">AI‑конституция (короткая спецификация)</h3>
                <ol class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li><span class="font-semibold">1. Следующий шаг сверху:</span> каждый экран формулирует следующее действие.</li>
                  <li><span class="font-semibold">2. Один экран = одно решение:</span> избегаем многовариантных «пультов».</li>
                  <li><span class="font-semibold">3. Непрерывный scan‑цикл:</span> скан → результат → следующий шаг без пауз.</li>
                  <li><span class="font-semibold">4. Контекст липкий:</span> документ/ячейка/маршрут сохраняются, пока не изменены явно.</li>
                  <li><span class="font-semibold">5. Офлайн по умолчанию:</span> каждое действие очередится; статус видим.</li>
                  <li><span class="font-semibold">6. Ошибка = сценарий:</span> что произошло + как исправить; без обвинений.</li>
                  <li><span class="font-semibold">7. Подтверждаем только риск:</span> подтверждения — для необратимого/дорогого.</li>
                  <li><span class="font-semibold">8. Навигация предсказуема:</span> back возвращает в устойчивый контекст.</li>
                  <li><span class="font-semibold">9. Прогресс видим:</span> осталось/сделано + критерии завершения.</li>
                  <li><span class="font-semibold">10. Два оператора без трения:</span> партнёр добавляет атрибуцию, не шаги.</li>
                  <li><span class="font-semibold">11. Телеметрия невидима:</span> логируем, не мешая сканам.</li>
                  <li><span class="font-semibold">12. Компоненты стандартизированы:</span> переиспользование снижает когнитивную нагрузку.</li>
                </ol>
              </div>
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Пирамида приоритета</h3>
                <p class="mt-2 text-sm leading-6 text-slate-700">Скрываем снизу вверх: сначала историю, затем лишний контекст.</p>
                <div class="mt-4 rounded-lg border border-slate-200 bg-slate-50 p-4">
                  <svg viewBox="0 0 760 260" class="h-auto w-full" role="img" aria-label="Пирамида приоритетов">
                    <defs>
                      <style>
                        .box { fill: #fff; stroke: #cbd5e1; stroke-width: 2; rx: 10; }
                        .label { font: 600 16px Inter, system-ui, sans-serif; fill: #0f172a; }
                        .muted { font: 500 12px Inter, system-ui, sans-serif; fill: #475569; }
                        .accent { stroke: #1d4ed8; stroke-width: 2.5; }
                      </style>
                    </defs>
                    <rect class="box accent" x="40" y="20" width="680" height="34"></rect>
                    <text class="label" x="60" y="43">Следующий шаг</text>
                    <text class="muted" x="630" y="43">всегда</text>
                    <rect class="box" x="80" y="62" width="600" height="34"></rect>
                    <text class="label" x="100" y="85">Сейчас</text>
                    <text class="muted" x="600" y="85">для действия</text>
                    <rect class="box" x="120" y="104" width="520" height="34"></rect>
                    <text class="label" x="140" y="127">Сделано</text>
                    <text class="muted" x="540" y="127">прогресс</text>
                    <rect class="box" x="160" y="146" width="440" height="34"></rect>
                    <text class="label" x="180" y="169">Контекст</text>
                    <text class="muted" x="480" y="169">минимум</text>
                    <rect class="box" x="200" y="188" width="360" height="34"></rect>
                    <text class="label" x="220" y="211">История</text>
                    <text class="muted" x="440" y="211">скрыть первой</text>
                    <text class="muted" x="40" y="246">Правило: если оператор «завис» — уменьшай контекст прежде чем добавлять объяснения.</text>
                  </svg>
                </div>
                <div class="mt-5 rounded-lg border border-slate-200 bg-white p-4">
                  <h4 class="text-xs font-semibold tracking-wide text-slate-700">Библиотека паттернов (переиспользуемые блоки)</h4>
                  <div class="mt-3 flex flex-wrap gap-2 text-xs">
                    <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-1">ActionHeader</span>
                    <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-1">ContextBar</span>
                    <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-1">ProgressChip</span>
                    <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-1">ScanZone</span>
                    <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-1">ErrorHint</span>
                    <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-1">ConfirmSheet</span>
                    <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-1">OfflineBadge</span>
                    <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-1">PartnerBadge</span>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <!-- 6) User Flows -->
          <section id="flows" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">6) Сценарии</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="toc-link text-sm hover:underline text-slate-700" data-toc-link="">Наверх</a>
            </div>
            <p class="mt-2 text-sm leading-6 text-slate-700">
              Каждый модуль — action‑driven scan‑цикл: запуск → список → документ → scan‑цикл → исключения → завершение.
              UX‑контракт один; меняются правила предметной области.
            </p>

            <div class="mt-4 rounded-xl border border-slate-200 bg-white p-6">
              <div class="grid gap-4 sm:grid-cols-3">
                <div>
                  <p class="text-xs font-semibold tracking-wide text-slate-600">СЛЕДУЮЩЕЕ / СЕЙЧАС / СДЕЛАНО</p>
                  <p class="mt-2 text-sm text-slate-700">Единый порядок информации: сверху «что делать», затем условия, затем прогресс.</p>
                </div>
                <div>
                  <p class="text-xs font-semibold tracking-wide text-slate-600">ИСКЛЮЧЕНИЯ</p>
                  <p class="mt-2 text-sm text-slate-700">Сценарии ошибок: обнаружить → объяснить → дать путь восстановления.</p>
                </div>
                <div>
                  <p class="text-xs font-semibold tracking-wide text-slate-600">OFFLINE‑FIRST</p>
                  <p class="mt-2 text-sm text-slate-700">Сканы и решения очередятся; статус офлайна и очереди видим.</p>
                </div>
              </div>
            </div>

            <div class="mt-8 space-y-10">
              <!-- Receiving -->
              <section id="flow-receiving" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
                <div class="flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between">
                  <div>
                    <h3 class="text-base font-semibold text-slate-900">Приёмка</h3>
                    <p class="mt-1 text-sm leading-6 text-slate-700">Скан товара → факт +1 → прогресс → завершение с подтверждением расхождений.</p>
                  </div>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#flows" class="toc-link text-sm hover:underline text-slate-700" data-toc-link="">К сценариям</a>
                </div>
                <div class="mt-5 grid gap-6 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">A) Приоритет «Следующее / Сейчас / Сделано»</h4>
                    <dl class="mt-3 space-y-2 text-sm text-slate-700">
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Следующее</dt><dd>Сканировать штрихкод товара</dd></div>
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Сейчас</dt><dd>Документ поставки; ожидаемая позиция; офлайн/синк</dd></div>
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Сделано</dt><dd>Обработано; расхождения (ожидание vs факт)</dd></div>
                    </dl>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">B) Путь оператора</h4>
                    <ol class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li><span class="font-semibold">Запуск</span> → «Приёмка».</li>
                      <li><span class="font-semibold">Список</span> → выбрать документ (поиск/фильтры).</li>
                      <li><span class="font-semibold">Документ</span> → `ActionHeader`: «Сканируйте товар».</li>
                      <li><span class="font-semibold">Scan‑цикл</span> → скан → матч строки → факт +1 → следующий шаг.</li>
                      <li><span class="font-semibold">Исключения</span> → неизвестный ШК/перебор/не та строка → действие восстановления.</li>
                      <li><span class="font-semibold">Завершение</span> → подтверждение расхождений → завершить → очередь синка.</li>
                    </ol>
                  </div>
                </div>
                <div class="mt-6 grid gap-6 lg:grid-cols-2">
                  <div class="overflow-hidden rounded-lg border border-slate-200">
                    <div class="bg-slate-50 px-4 py-3"><h4 class="text-xs font-semibold tracking-wide text-slate-700">C) Ошибки и реакция системы</h4></div>
                    <div class="overflow-x-auto">
                      <table class="min-w-full text-left text-sm">
                        <thead class="bg-white text-xs font-semibold text-slate-700"><tr><th class="px-4 py-3">Сценарий</th><th class="px-4 py-3">Реакция</th></tr></thead>
                        <tbody class="divide-y divide-slate-200">
                          <tr><td class="px-4 py-3">ШК не найден в документе</td><td class="px-4 py-3 text-slate-700">`ErrorHint`: «Нет в поставке» + поиск в других документах / ручное добавление (если разрешено).</td></tr>
                          <tr><td class="px-4 py-3">Перебор (факт &gt; ожидание)</td><td class="px-4 py-3 text-slate-700">Предупреждение + подтверждение для продолжения; фиксация расхождения.</td></tr>
                          <tr><td class="px-4 py-3">Дубли сканов</td><td class="px-4 py-3 text-slate-700">Debounce‑окно; чип «Уже учтено»; без дополнительного +1.</td></tr>
                          <tr><td class="px-4 py-3">Офлайн во время работы</td><td class="px-4 py-3 text-slate-700">`OfflineBadge` + счётчик очереди; продолжать; синк позже.</td></tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">D) Правила завершения</h4>
                    <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li>- Завершение только по явному действию «Завершить».</li>
                      <li>- При недоборе/переборе показываем сводку и просим подтверждение.</li>
                      <li>- После завершения документ read‑only; изменение — отдельная политика (вне объёма).</li>
                      <li>- Статус синка видим: synced / queued / failed (retry).</li>
                    </ul>
                    <div class="mt-4 rounded-md border border-accent-200 bg-white p-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">E) Критично для offline‑first</h4>
                      <p class="mt-2 text-sm leading-6 text-slate-700">Сканы и факт‑инкременты сохраняются локально и очередятся; подтверждение завершения тоже очередится и помечается как «в очереди» до синка.</p>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Placement -->
              <section id="flow-placement" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
                <div class="flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between">
                  <div>
                    <h3 class="text-base font-semibold text-slate-900">Размещение</h3>
                    <p class="mt-1 text-sm leading-6 text-slate-700">Скан ячейки → скан товара → размещение; текущая ячейка сохраняется до скана новой.</p>
                  </div>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#flows" class="toc-link text-sm hover:underline text-slate-700" data-toc-link="">К сценариям</a>
                </div>
                <div class="mt-5 grid gap-6 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">A) Приоритет</h4>
                    <dl class="mt-3 space-y-2 text-sm text-slate-700">
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Следующее</dt><dd>Скан ячейки (если не выбрана) или скан товара</dd></div>
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Сейчас</dt><dd>Текущая ячейка (липкая); документ/задача; офлайн/синк</dd></div>
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Сделано</dt><dd>Размещено; осталось (если есть план)</dd></div>
                    </dl>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">B) Путь оператора</h4>
                    <ol class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li><span class="font-semibold">Запуск</span> → «Размещение».</li>
                      <li><span class="font-semibold">Список</span> → выбрать задачу/документ (если применимо).</li>
                      <li><span class="font-semibold">Контекст</span> → `ContextBar` показывает текущую ячейку (пусто сначала).</li>
                      <li><span class="font-semibold">Scan‑цикл</span> → скан ячейки → скан товара → запись размещения → повтор.</li>
                      <li><span class="font-semibold">Смена ячейки</span> → скан новой ячейки в любой момент, без меню.</li>
                      <li><span class="font-semibold">Завершение</span> → закрыть задачу; подтвердить расхождения (если нужно).</li>
                    </ol>
                  </div>
                </div>
                <div class="mt-6 grid gap-6 lg:grid-cols-2">
                  <div class="overflow-hidden rounded-lg border border-slate-200">
                    <div class="bg-slate-50 px-4 py-3"><h4 class="text-xs font-semibold tracking-wide text-slate-700">C) Ошибки и реакция</h4></div>
                    <div class="overflow-x-auto">
                      <table class="min-w-full text-left text-sm">
                        <thead class="bg-white text-xs font-semibold text-slate-700"><tr><th class="px-4 py-3">Сценарий</th><th class="px-4 py-3">Реакция</th></tr></thead>
                        <tbody class="divide-y divide-slate-200">
                          <tr><td class="px-4 py-3">Товар до выбора ячейки</td><td class="px-4 py-3 text-slate-700">Блок: «Сначала ячейка»; фокус остаётся в `ScanZone`.</td></tr>
                          <tr><td class="px-4 py-3">Неверный ШК ячейки</td><td class="px-4 py-3 text-slate-700">`ErrorHint` + быстрый повтор; ручной ввод (если разрешено).</td></tr>
                          <tr><td class="px-4 py-3">Товар не в задаче</td><td class="px-4 py-3 text-slate-700">Предупреждение; «сменить задачу»/«исключение» (по политике).</td></tr>
                          <tr><td class="px-4 py-3">Офлайн, очередь растёт</td><td class="px-4 py-3 text-slate-700">Показать размер очереди; продолжать.</td></tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">D) Правила завершения</h4>
                    <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li>- Завершение только из устойчивого состояния (без незакрытых подтверждений).</li>
                      <li>- При ожидаемых количествах — подтверждение расхождений.</li>
                      <li>- Очистка текущей ячейки — отдельное явное действие.</li>
                    </ul>
                    <div class="mt-4 rounded-md border border-accent-200 bg-white p-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">E) Критично для offline‑first</h4>
                      <p class="mt-2 text-sm leading-6 text-slate-700">События размещения пишутся локально вместе с `cell_id` и временем; смена текущей ячейки тоже логируется для аудита при синке.</p>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Picking -->
              <section id="flow-picking" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
                <div class="flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between">
                  <div>
                    <h3 class="text-base font-semibold text-slate-900">Подбор</h3>
                    <p class="mt-1 text-sm leading-6 text-slate-700">Маршрут‑чувствительный подбор: скан ячейки → скан товара; предупреждение при out‑of‑order.</p>
                  </div>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#flows" class="toc-link text-sm hover:underline text-slate-700" data-toc-link="">К сценариям</a>
                </div>
                <div class="mt-5 grid gap-6 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">A) Приоритет</h4>
                    <dl class="mt-3 space-y-2 text-sm text-slate-700">
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Следующее</dt><dd>Скан ожидаемой ячейки → скан товара</dd></div>
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Сейчас</dt><dd>Шаг маршрута; ожидаемый SKU; текущая ячейка</dd></div>
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Сделано</dt><dd>Собрано строк; осталось; расхождения</dd></div>
                    </dl>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">B) Путь оператора</h4>
                    <ol class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li><span class="font-semibold">Запуск</span> → «Подбор».</li>
                      <li><span class="font-semibold">Список</span> → выбрать заказ/пакет.</li>
                      <li><span class="font-semibold">Документ</span> → `ActionHeader`: «Сканируйте ячейку».</li>
                      <li><span class="font-semibold">Scan‑цикл</span> → ячейка → проверка шага → товар → закрытие строки.</li>
                      <li><span class="font-semibold">Исключения</span> → не та ячейка/SKU/out‑of‑order → предупреждение + восстановление.</li>
                      <li><span class="font-semibold">Завершение</span> → подтверждение расхождений → завершить → синк.</li>
                    </ol>
                  </div>
                </div>
                <div class="mt-6 grid gap-6 lg:grid-cols-2">
                  <div class="overflow-hidden rounded-lg border border-slate-200">
                    <div class="bg-slate-50 px-4 py-3"><h4 class="text-xs font-semibold tracking-wide text-slate-700">C) Ошибки и реакция</h4></div>
                    <div class="overflow-x-auto">
                      <table class="min-w-full text-left text-sm">
                        <thead class="bg-white text-xs font-semibold text-slate-700"><tr><th class="px-4 py-3">Сценарий</th><th class="px-4 py-3">Реакция</th></tr></thead>
                        <tbody class="divide-y divide-slate-200">
                          <tr><td class="px-4 py-3">Ячейка ≠ ожидаемой</td><td class="px-4 py-3 text-slate-700">Предупреждение «Вне маршрута» + override (если разрешено политикой).</td></tr>
                          <tr><td class="px-4 py-3">Товар не соответствует строке</td><td class="px-4 py-3 text-slate-700">Блок + показать ожидаемый SKU; действие «найти правильную строку».</td></tr>
                          <tr><td class="px-4 py-3">Недобор (нет остатка)</td><td class="px-4 py-3 text-slate-700">Путь исключения: причина; прогресс документа остаётся корректным.</td></tr>
                          <tr><td class="px-4 py-3">Офлайн посреди маршрута</td><td class="px-4 py-3 text-slate-700">Продолжать; очередь событий; синк шагов — позже.</td></tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">D) Правила завершения</h4>
                    <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li>- Все строки закрыты: подобрано или отмечено исключением.</li>
                      <li>- Отличие количества → сводка + подтверждение.</li>
                      <li>- Out‑of‑order логируется (телеметрия) даже при override.</li>
                    </ul>
                    <div class="mt-4 rounded-md border border-accent-200 bg-white p-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">E) Критично для offline‑first</h4>
                      <p class="mt-2 text-sm leading-6 text-slate-700">Локально реконструируем шаги маршрута; при конфликте синка сервер валидирует события (replay).</p>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Shipping -->
              <section id="flow-shipping" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
                <div class="flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between">
                  <div>
                    <h3 class="text-base font-semibold text-slate-900">Отгрузка</h3>
                    <p class="mt-1 text-sm leading-6 text-slate-700">Финальный контроль: строгие проверки. Скан товара/короба; подтверждение расхождений обязательно.</p>
                  </div>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#flows" class="toc-link text-sm hover:underline text-slate-700" data-toc-link="">К сценариям</a>
                </div>
                <div class="mt-5 grid gap-6 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">A) Приоритет</h4>
                    <dl class="mt-3 space-y-2 text-sm text-slate-700">
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Следующее</dt><dd>Сканировать короб/товар для контроля</dd></div>
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Сейчас</dt><dd>Документ отгрузки; ожидаемое содержимое; строгая валидация</dd></div>
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Сделано</dt><dd>Проверено; расхождения; готовность закрыть</dd></div>
                    </dl>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">B) Путь оператора</h4>
                    <ol class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li><span class="font-semibold">Запуск</span> → «Отгрузка».</li>
                      <li><span class="font-semibold">Список</span> → выбрать документ.</li>
                      <li><span class="font-semibold">Документ</span> → `ActionHeader`: «Сканируйте товар/короб».</li>
                      <li><span class="font-semibold">Scan‑цикл</span> → короб id (опц.) → товар → проверка по списку.</li>
                      <li><span class="font-semibold">Исключения</span> → неожиданный/недостача/дубли.</li>
                      <li><span class="font-semibold">Завершение</span> → подтверждение расхождений → закрыть → синк.</li>
                    </ol>
                  </div>
                </div>
                <div class="mt-6 grid gap-6 lg:grid-cols-2">
                  <div class="overflow-hidden rounded-lg border border-slate-200">
                    <div class="bg-slate-50 px-4 py-3"><h4 class="text-xs font-semibold tracking-wide text-slate-700">C) Ошибки и реакция</h4></div>
                    <div class="overflow-x-auto">
                      <table class="min-w-full text-left text-sm">
                        <thead class="bg-white text-xs font-semibold text-slate-700"><tr><th class="px-4 py-3">Сценарий</th><th class="px-4 py-3">Реакция</th></tr></thead>
                        <tbody class="divide-y divide-slate-200">
                          <tr><td class="px-4 py-3">Неожиданный товар</td><td class="px-4 py-3 text-slate-700">Блок + объяснение; manager/override (по политике).</td></tr>
                          <tr><td class="px-4 py-3">Недостача</td><td class="px-4 py-3 text-slate-700">Завершение только с подтверждением; явный список недостачи.</td></tr>
                          <tr><td class="px-4 py-3">Неверный id короба</td><td class="px-4 py-3 text-slate-700">`ErrorHint`: привязать/сменить/продолжить без короба.</td></tr>
                          <tr><td class="px-4 py-3">Офлайн при закрытии</td><td class="px-4 py-3 text-slate-700">«Закрытие в очереди» со статусом; защита от двойного закрытия.</td></tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">D) Правила завершения</h4>
                    <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li>- Документ не закрывается «тихо» при несоответствиях.</li>
                      <li>- Ожидание ≠ факт → подтверждение обязательно.</li>
                      <li>- После закрытия документ блокируется; синк‑результат виден.</li>
                    </ul>
                    <div class="mt-4 rounded-md border border-accent-200 bg-white p-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">E) Критично для offline‑first</h4>
                      <p class="mt-2 text-sm leading-6 text-slate-700">Закрытие идемпотентно: очередь «close shipment» с уникальным operation id, чтобы избежать дублей на ретрае.</p>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Returns & Write-off -->
              <section id="flow-returns" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
                <div class="flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between">
                  <div>
                    <h3 class="text-base font-semibold text-slate-900">Возврат и списание</h3>
                    <p class="mt-1 text-sm leading-6 text-slate-700">Причина обязательна; критичные действия подтверждаются явно.</p>
                  </div>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#flows" class="toc-link text-sm hover:underline text-slate-700" data-toc-link="">К сценариям</a>
                </div>
                <div class="mt-5 grid gap-6 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">A) Приоритет</h4>
                    <dl class="mt-3 space-y-2 text-sm text-slate-700">
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Следующее</dt><dd>Скан товара → выбор причины → подтверждение</dd></div>
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Сейчас</dt><dd>Тип операции; причина; офлайн/синк</dd></div>
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Сделано</dt><dd>Записано; разбивка по причинам</dd></div>
                    </dl>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">B) Путь оператора</h4>
                    <ol class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li><span class="font-semibold">Запуск</span> → «Возврат/Списание».</li>
                      <li><span class="font-semibold">Список</span> → документ/задача или сессия.</li>
                      <li><span class="font-semibold">Scan‑цикл</span> → ШК → идентификация → причина → подтверждение.</li>
                      <li><span class="font-semibold">Исключения</span> → неизвестный товар/запрет → блок + подсказка.</li>
                      <li><span class="font-semibold">Завершение</span> → подтверждение итогов списания → синк.</li>
                    </ol>
                  </div>
                </div>
                <div class="mt-6 grid gap-6 lg:grid-cols-2">
                  <div class="overflow-hidden rounded-lg border border-slate-200">
                    <div class="bg-slate-50 px-4 py-3"><h4 class="text-xs font-semibold tracking-wide text-slate-700">C) Ошибки и реакция</h4></div>
                    <div class="overflow-x-auto">
                      <table class="min-w-full text-left text-sm">
                        <thead class="bg-white text-xs font-semibold text-slate-700"><tr><th class="px-4 py-3">Сценарий</th><th class="px-4 py-3">Реакция</th></tr></thead>
                        <tbody class="divide-y divide-slate-200">
                          <tr><td class="px-4 py-3">Причина не выбрана</td><td class="px-4 py-3 text-slate-700">Блок; обязательный селектор причины (крупные цели).</td></tr>
                          <tr><td class="px-4 py-3">Ограниченное списание</td><td class="px-4 py-3 text-slate-700">`ConfirmSheet` с ролью/override (по политике).</td></tr>
                          <tr><td class="px-4 py-3">Офлайн, причины не закэшированы</td><td class="px-4 py-3 text-slate-700">Кэш/ограниченный набор + очередь с флагом.</td></tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">D) Правила завершения</h4>
                    <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li>- Причина обязательна (на позицию или пакет — по политике).</li>
                      <li>- Списание подтверждается: итоги и распределение по причинам.</li>
                      <li>- Запись аудируема: operator_id + partner_id.</li>
                    </ul>
                    <div class="mt-4 rounded-md border border-accent-200 bg-white p-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">E) Критично для offline‑first</h4>
                      <p class="mt-2 text-sm leading-6 text-slate-700">Очередь сохраняет пары товар+причина; ретраи идемпотентны (без дублей).</p>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Inventory -->
              <section id="flow-inventory" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
                <div class="flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between">
                  <div>
                    <h3 class="text-base font-semibold text-slate-900">Инвентаризация</h3>
                    <p class="mt-1 text-sm leading-6 text-slate-700">Cell‑first: скан ячейки; слепой режим (опц.); быстрые действия счёта; пересчёт.</p>
                  </div>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#flows" class="toc-link text-sm hover:underline text-slate-700" data-toc-link="">К сценариям</a>
                </div>
                <div class="mt-5 grid gap-6 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">A) Приоритет</h4>
                    <dl class="mt-3 space-y-2 text-sm text-slate-700">
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Следующее</dt><dd>Скан ячейки → скан позиций / ввод количества</dd></div>
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Сейчас</dt><dd>Текущая ячейка; режим; результат последнего ввода</dd></div>
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Сделано</dt><dd>Посчитано; статус ячейки; флаги расхождений</dd></div>
                    </dl>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">B) Путь оператора</h4>
                    <ol class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li><span class="font-semibold">Запуск</span> → «Инвентаризация».</li>
                      <li><span class="font-semibold">Сессия</span> → выбрать план/сессию.</li>
                      <li><span class="font-semibold">Ячейка</span> → скан ячейки; контекст закреплён.</li>
                      <li><span class="font-semibold">Scan‑цикл</span> → сканы + счёт; быстрые +1/+5.</li>
                      <li><span class="font-semibold">Расхождения</span> → сравнение (если подсказочный режим) → флаг.</li>
                      <li><span class="font-semibold">Пересчёт</span> → явное действие пересчёта.</li>
                      <li><span class="font-semibold">Завершение</span> → закрыть ячейку/сессию с подтверждением расхождений.</li>
                    </ol>
                  </div>
                </div>
                <div class="mt-6 grid gap-6 lg:grid-cols-2">
                  <div class="overflow-hidden rounded-lg border border-slate-200">
                    <div class="bg-slate-50 px-4 py-3"><h4 class="text-xs font-semibold tracking-wide text-slate-700">C) Ошибки и реакция</h4></div>
                    <div class="overflow-x-auto">
                      <table class="min-w-full text-left text-sm">
                        <thead class="bg-white text-xs font-semibold text-slate-700"><tr><th class="px-4 py-3">Сценарий</th><th class="px-4 py-3">Реакция</th></tr></thead>
                        <tbody class="divide-y divide-slate-200">
                          <tr><td class="px-4 py-3">Позиция без ячейки</td><td class="px-4 py-3 text-slate-700">Блок: «Сканируйте ячейку».</td></tr>
                          <tr><td class="px-4 py-3">Слепой режим: ожидание подсказок</td><td class="px-4 py-3 text-slate-700">Ожидаемого списка нет; показываем только посчитанное.</td></tr>
                          <tr><td class="px-4 py-3">Большое расхождение</td><td class="px-4 py-3 text-slate-700">Флаг; предложить пересчёт; подтверждение на закрытии.</td></tr>
                          <tr><td class="px-4 py-3">Офлайн при счёте</td><td class="px-4 py-3 text-slate-700">Продолжать; события в очередь; офлайн‑статус видим.</td></tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">D) Правила завершения</h4>
                    <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li>- Ячейка закрывается только по «Завершить ячейку».</li>
                      <li>- Расхождения подтверждаются при закрытии ячейки/сессии.</li>
                      <li>- Пересчёт создаёт новую попытку (аудит).</li>
                    </ul>
                    <div class="mt-4 rounded-md border border-accent-200 bg-white p-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">E) Критично для offline‑first</h4>
                      <p class="mt-2 text-sm leading-6 text-slate-700">Инвентаризация не останавливается офлайн: каждое событие счёта хранится локально с `cell_id`, синк проигрывает события детерминированно.</p>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Labels -->
              <section id="flow-labels" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
                <div class="flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between">
                  <div>
                    <h3 class="text-base font-semibold text-slate-900">Штрихкоды и этикетки</h3>
                    <p class="mt-1 text-sm leading-6 text-slate-700">Привязка ШК (уникальность) и печать (шаблон). Опционально — офлайн‑очередь печати.</p>
                  </div>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#flows" class="toc-link text-sm hover:underline text-slate-700" data-toc-link="">К сценариям</a>
                </div>
                <div class="mt-5 grid gap-6 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">A) Приоритет</h4>
                    <dl class="mt-3 space-y-2 text-sm text-slate-700">
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Следующее</dt><dd>Скан товара → привязка ШК / выбор шаблона → печать</dd></div>
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Сейчас</dt><dd>SKU; текущий ШК; статус принтера; офлайн/синк</dd></div>
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Сделано</dt><dd>Привязано; задания печати queued/sent</dd></div>
                    </dl>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">B) Путь оператора</h4>
                    <ol class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li><span class="font-semibold">Запуск</span> → «Штрихкоды и этикетки».</li>
                      <li><span class="font-semibold">Поиск</span> → опционально по SKU/названию.</li>
                      <li><span class="font-semibold">Привязка</span> → скан ШК → уникальность → bind.</li>
                      <li><span class="font-semibold">Печать</span> → шаблон → количество → печать/очередь.</li>
                    </ol>
                  </div>
                </div>
                <div class="mt-6 grid gap-6 lg:grid-cols-2">
                  <div class="overflow-hidden rounded-lg border border-slate-200">
                    <div class="bg-slate-50 px-4 py-3"><h4 class="text-xs font-semibold tracking-wide text-slate-700">C) Ошибки и реакция</h4></div>
                    <div class="overflow-x-auto">
                      <table class="min-w-full text-left text-sm">
                        <thead class="bg-white text-xs font-semibold text-slate-700"><tr><th class="px-4 py-3">Сценарий</th><th class="px-4 py-3">Реакция</th></tr></thead>
                        <tbody class="divide-y divide-slate-200">
                          <tr><td class="px-4 py-3">ШК уже привязан</td><td class="px-4 py-3 text-slate-700">Блок + показать куда; «запросить отвязку» (по политике).</td></tr>
                          <tr><td class="px-4 py-3">Принтер недоступен</td><td class="px-4 py-3 text-slate-700">Статус + очередь печати + ретрай при доступности.</td></tr>
                          <tr><td class="px-4 py-3">Офлайн при привязке</td><td class="px-4 py-3 text-slate-700">Очередь bind; пометка pending validation до синка.</td></tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">D) Правила завершения</h4>
                    <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li>- Привязка требует проверки уникальности (сразу/отложенно).</li>
                      <li>- Печать требует явного шаблона и подтверждения количества.</li>
                      <li>- Офлайн‑печать: очередь или блок (зависит от модели принтера).</li>
                    </ul>
                    <div class="mt-4 rounded-md border border-accent-200 bg-white p-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">E) Критично для offline‑first</h4>
                      <p class="mt-2 text-sm leading-6 text-slate-700">Конфликты уникальности решаются при синке: фиксируем pending, а разбор — отдельной задачей позже (не ломать цикл сейчас).</p>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Settings -->
              <section id="flow-settings" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
                <div class="flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between">
                  <div>
                    <h3 class="text-base font-semibold text-slate-900">Настройки</h3>
                    <p class="mt-1 text-sm leading-6 text-slate-700">Соединение, режим сканера, обратная связь, синк, партнёр‑режим, диагностика.</p>
                  </div>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#flows" class="toc-link text-sm hover:underline text-slate-700" data-toc-link="">К сценариям</a>
                </div>
                <div class="mt-5 grid gap-6 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">A) Приоритет</h4>
                    <dl class="mt-3 space-y-2 text-sm text-slate-700">
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Следующее</dt><dd>Выбрать раздел → применить</dd></div>
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Сейчас</dt><dd>Соединение; режим сканера; очередь синка</dd></div>
                      <div class="flex gap-2"><dt class="w-24 font-semibold text-slate-900">Сделано</dt><dd>Сохранено + снимок диагностики</dd></div>
                    </dl>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">B) Путь оператора</h4>
                    <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li>- Соединение: endpoint/учётные данные; ping; last sync.</li>
                      <li>- Сканер: keyboard wedge vs ручной ввод; debounce.</li>
                      <li>- Обратная связь: звук/вибрация.</li>
                      <li>- Синк: очередь, ретраи, диагностика.</li>
                      <li>- Партнёр‑режим: включение/привязка/превью атрибуции.</li>
                    </ul>
                  </div>
                </div>
                <div class="mt-6 grid gap-6 lg:grid-cols-2">
                  <div class="overflow-hidden rounded-lg border border-slate-200">
                    <div class="bg-slate-50 px-4 py-3"><h4 class="text-xs font-semibold tracking-wide text-slate-700">C) Ошибки и реакция</h4></div>
                    <div class="overflow-x-auto">
                      <table class="min-w-full text-left text-sm">
                        <thead class="bg-white text-xs font-semibold text-slate-700"><tr><th class="px-4 py-3">Сценарий</th><th class="px-4 py-3">Реакция</th></tr></thead>
                        <tbody class="divide-y divide-slate-200">
                          <tr><td class="px-4 py-3">Auth/endpoint ошибка</td><td class="px-4 py-3 text-slate-700">Пояснить + безопасный ретрай; офлайн доступен.</td></tr>
                          <tr><td class="px-4 py-3">Очередь stuck (sync_failed)</td><td class="px-4 py-3 text-slate-700">Список failed; ретрай с backoff; экспорт диагностики.</td></tr>
                          <tr><td class="px-4 py-3">Неверный режим сканера</td><td class="px-4 py-3 text-slate-700">Тест‑поле ввода для проверки поведения.</td></tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">D) Правила завершения</h4>
                    <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li>- Изменения применяются сразу и обратимы.</li>
                      <li>- Рисковые действия (очистка/сброс) требуют `ConfirmSheet`.</li>
                      <li>- Диагностика не раскрывает телеметрию оператору по умолчанию.</li>
                    </ul>
                    <div class="mt-4 rounded-md border border-accent-200 bg-white p-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">E) Критично для offline‑first</h4>
                      <p class="mt-2 text-sm leading-6 text-slate-700">В офлайне пользователю всегда видно: система записывает действия и синхронизирует позже (очередь/статусы).</p>
                    </div>
                  </div>
                </div>
              </section>
            </div>
          </section>

          <!-- 7) Metrics -->
          <section id="metrics" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">7) Метрики и план измерений</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="toc-link text-sm hover:underline text-slate-700" data-toc-link="">Наверх</a>
            </div>
            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Список метрик (как идентификаторы)</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li>- <span class="font-mono text-xs">Avg receiving time per delivery</span></li>
                  <li>- <span class="font-mono text-xs">Avg picking time per order</span></li>
                  <li>- <span class="font-mono text-xs">% picking errors</span></li>
                  <li>- <span class="font-mono text-xs">% inventory discrepancies</span></li>
                  <li>- <span class="font-mono text-xs">receiving x minutes per y items</span></li>
                  <li>- <span class="font-mono text-xs">picking x minutes per y lines</span></li>
                  <li>- <span class="font-mono text-xs">inventory x minutes per y cells</span></li>
                </ul>
                <div class="mt-5 rounded-lg border border-slate-200 bg-slate-50 p-4">
                  <h4 class="text-xs font-semibold tracking-wide text-slate-700">Требование «невидимой» телеметрии</h4>
                  <p class="mt-2 text-sm leading-6 text-slate-700">Телеметрия обязательна и пассивна: оператор её не видит, scan‑цикл не прерывается.</p>
                </div>
              </div>
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Критерии проверки</h3>
                <div class="mt-3 rounded-lg border border-accent-200 bg-accent-50 p-4 text-sm leading-6 text-slate-800">
                  <ul class="space-y-2">
                    <li>- Время на строку: сравнение по протоколу между версиями.</li>
                    <li>- Время на поставку: сравнение по протоколу между версиями.</li>
                    <li>- Ошибки подбора: сравнение по протоколу между версиями.</li>
                    <li>- Расхождения инвентаризации: сравнение по протоколу между версиями.</li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="mt-6 overflow-hidden rounded-xl border border-slate-200 bg-white">
              <div class="border-b border-slate-200 bg-slate-50 px-6 py-4">
                <h3 class="text-sm font-semibold text-slate-900">События: что логируем и с какими свойствами</h3>
              </div>
              <div class="overflow-x-auto">
                <table class="min-w-full text-left text-sm">
                  <thead class="bg-white text-xs font-semibold tracking-wide text-slate-700">
                    <tr><th class="px-4 py-3">Event</th><th class="px-4 py-3">Когда</th><th class="px-4 py-3">Properties</th></tr>
                  </thead>
                  <tbody class="divide-y divide-slate-200">
                    <tr><td class="px-4 py-3">module_open</td><td class="px-4 py-3 text-slate-700">Вход в модуль</td><td class="px-4 py-3 font-mono text-xs text-slate-700">operator_id, partner_id, module, timestamp, offline_state</td></tr>
                    <tr><td class="px-4 py-3">doc_open</td><td class="px-4 py-3 text-slate-700">Открытие документа/задачи</td><td class="px-4 py-3 font-mono text-xs text-slate-700">operator_id, partner_id, doc_id, module, timestamp, offline_state</td></tr>
                    <tr><td class="px-4 py-3">scan_attempt</td><td class="px-4 py-3 text-slate-700">Каждая попытка скана</td><td class="px-4 py-3 font-mono text-xs text-slate-700">operator_id, partner_id, doc_id, module, timestamp, offline_state</td></tr>
                    <tr><td class="px-4 py-3">scan_accepted</td><td class="px-4 py-3 text-slate-700">Скан принят</td><td class="px-4 py-3 font-mono text-xs text-slate-700">operator_id, partner_id, doc_id, module, timestamp, offline_state</td></tr>
                    <tr><td class="px-4 py-3">exception_triggered</td><td class="px-4 py-3 text-slate-700">Исключение/блок</td><td class="px-4 py-3 font-mono text-xs text-slate-700">operator_id, partner_id, doc_id, module, timestamp, offline_state</td></tr>
                    <tr><td class="px-4 py-3">doc_complete</td><td class="px-4 py-3 text-slate-700">Завершение документа</td><td class="px-4 py-3 font-mono text-xs text-slate-700">operator_id, partner_id, doc_id, module, timestamp, offline_state</td></tr>
                    <tr><td class="px-4 py-3">sync_state_change</td><td class="px-4 py-3 text-slate-700">Очередь → synced/failed</td><td class="px-4 py-3 font-mono text-xs text-slate-700">operator_id, partner_id, doc_id, module, timestamp, offline_state</td></tr>
                  </tbody>
                </table>
              </div>
            </div>
          </section>

          <!-- 8) Iterations -->
          <section id="iterations" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">8) Итерации</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="toc-link text-sm hover:underline text-slate-700" data-toc-link="">Наверх</a>
            </div>
            <div class="mt-4 rounded-xl border border-slate-200 bg-white p-6">
              <ol class="relative ml-3 space-y-6 border-l border-slate-200 pl-6">
                <li class="relative"><span class="absolute -left-[9px] top-1.5 h-4 w-4 rounded-full border border-slate-300 bg-white"></span><p class="text-sm font-semibold">v0 — только списки документов</p><p class="mt-1 text-sm text-slate-700">Проблема: нет действий; оператор не понимает «что дальше».</p></li>
                <li class="relative"><span class="absolute -left-[9px] top-1.5 h-4 w-4 rounded-full border border-slate-300 bg-white"></span><p class="text-sm font-semibold">v1 — action‑driven scan‑экраны</p><p class="mt-1 text-sm text-slate-700">`ActionHeader` + `ScanZone`; одно решение на экран.</p></li>
                <li class="relative"><span class="absolute -left-[9px] top-1.5 h-4 w-4 rounded-full border border-slate-300 bg-white"></span><p class="text-sm font-semibold">v2 — стандартизация компонентов и навигации</p><p class="mt-1 text-sm text-slate-700">Единые паттерны и сохранение контекста.</p></li>
                <li class="relative"><span class="absolute -left-[9px] top-1.5 h-4 w-4 rounded-full border border-slate-300 bg-white"></span><p class="text-sm font-semibold">v3 — индикаторы синка и очередь</p><p class="mt-1 text-sm text-slate-700">`OfflineBadge`, глубина очереди, retry‑правила, идемпотентность.</p></li>
                <li class="relative"><span class="absolute -left-[9px] top-1.5 h-4 w-4 rounded-full border border-slate-300 bg-white"></span><p class="text-sm font-semibold">v4 — режим двух операторов</p><p class="mt-1 text-sm text-slate-700">`PartnerBadge` и атрибуция; меньше конфликтов KPI.</p></li>
                <li class="relative"><span class="absolute -left-[9px] top-1.5 h-4 w-4 rounded-full border border-slate-300 bg-white"></span><p class="text-sm font-semibold">v5 — прод‑харденинг</p><p class="mt-1 text-sm text-slate-700">Производительность, диагностика, таксономия ошибок.</p></li>
              </ol>
            </div>
          </section>

          <!-- 9) Testing Strategy -->
          <section id="testing" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">9) Стратегия тестирования</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="toc-link text-sm hover:underline text-slate-700" data-toc-link="">Наверх</a>
            </div>
            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Сценарии по модулям (чек‑листы)</h3>
                <div class="mt-3 space-y-5 text-sm text-slate-700">
                  <div>
                    <p class="text-xs font-semibold tracking-wide text-slate-600">Приёмка</p>
                    <ul class="mt-2 space-y-2">
                      <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Smoke: скан → факт +1 → завершение.</li>
                      <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Edge: неизвестный ШК; перебор; дубли сканов.</li>
                    </ul>
                  </div>
                  <div>
                    <p class="text-xs font-semibold tracking-wide text-slate-600">Размещение</p>
                    <ul class="mt-2 space-y-2">
                      <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Товар до ячейки блокируется.</li>
                      <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Смена ячейки сканом; контекст сохраняется.</li>
                    </ul>
                  </div>
                  <div>
                    <p class="text-xs font-semibold tracking-wide text-slate-600">Подбор / Отгрузка</p>
                    <ul class="mt-2 space-y-2">
                      <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Маршрут: предупреждение при несоответствии ячейки.</li>
                      <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Строгий контроль: неожиданный товар блокируется.</li>
                    </ul>
                  </div>
                  <div>
                    <p class="text-xs font-semibold tracking-wide text-slate-600">Возврат / Инвентаризация / Этикетки</p>
                    <ul class="mt-2 space-y-2">
                      <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Причина обязательна; критичные подтверждения.</li>
                      <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Слепой режим; пересчёт; большие расхождения.</li>
                      <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Уникальность ШК; очередь печати; конфликты.</li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Матрица offline‑first</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-accent"></span>Online → Offline в середине scan‑цикла: без потерь.</li>
                  <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-accent"></span>Offline → Online: replay очереди; идемпотентность.</li>
                  <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-accent"></span>Конфликт синка: переход в sync_failed → путь retry.</li>
                  <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-accent"></span>Повтор очереди: backoff, ручной retry, диагностика.</li>
                </ul>
                <div class="mt-6 border-t border-slate-200 pt-5">
                  <h3 class="text-sm font-semibold text-slate-900">Тесты ввода сканера</h3>
                  <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                    <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Keyboard wedge: поток символов + Enter.</li>
                    <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Ручной ввод: валидация, понятные ошибки.</li>
                    <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Debounce: защита от двойного триггера.</li>
                  </ul>
                </div>
                <div class="mt-6 border-t border-slate-200 pt-5">
                  <h3 class="text-sm font-semibold text-slate-900">Корректность KPI‑телеметрии</h3>
                  <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                    <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Идемпотентность событий.</li>
                    <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Единая привязка operator_id/partner_id.</li>
                    <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>offline_state на каждом событии.</li>
                  </ul>
                </div>
              </div>
            </div>
          </section>

          <!-- 10) Outcome & Product Value -->
          <section id="outcome" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">10) Результат и ценность продукта</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="toc-link text-sm hover:underline text-slate-700" data-toc-link="">Наверх</a>
            </div>
            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Что улучшилось (качественно)</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li>- Следующий шаг виден всегда → меньше пауз и «где я?».</li>
                  <li>- Исключения решаются через предсказуемые действия.</li>
                  <li>- Контекст сохраняется → меньше переходов по меню.</li>
                  <li>- Офлайн — устойчивый режим, а не авария.</li>
                </ul>
              </div>
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Что измеримо</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li>- Метрики из раздела <a class="toc-link hover:underline text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#metrics" data-toc-link="">7) Метрики</a>.</li>
                  <li>- Пассивная телеметрия без вмешательства в scan‑цикл.</li>
                  <li>- Эффект офлайна отделим через <span class="font-mono text-xs">offline_state</span>.</li>
                </ul>
              </div>
            </div>
            <div class="mt-6 rounded-xl border border-slate-200 bg-white p-6">
              <h3 class="text-sm font-semibold text-slate-900">Инженерное обоснование</h3>
              <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                <li>- Меньше обучения: стандартизированные паттерны и понятный «следующий шаг».</li>
                <li>- Меньше дорогих ошибок: строгие проверки и подтверждение расхождений.</li>
                <li>- Готовность для enterprise: предсказуемая работа офлайн при плохом Wi‑Fi.</li>
                <li>- Дифференциация: режим двух операторов + измеримый UX.</li>
              </ul>
            </div>
          </section>

          <!-- 11) Appendix -->
          <section id="appendix" class="mt-12 pb-16">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">11) Приложение: снимок архитектуры</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="toc-link text-sm hover:underline text-slate-700" data-toc-link="">Наверх</a>
            </div>
            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Схема высокого уровня</h3>
                <div class="mt-4 overflow-hidden rounded-lg border border-slate-200 bg-slate-50 p-4">
                  <svg viewBox="0 0 920 210" class="h-auto w-full" role="img" aria-label="Оператор — PWA — ERP">
                    <defs>
                      <style>
                        .n { fill: #fff; stroke: #cbd5e1; stroke-width: 2; rx: 12; }
                        .t { font: 600 14px Inter, system-ui, sans-serif; fill: #0f172a; }
                        .s { font: 500 12px Inter, system-ui, sans-serif; fill: #475569; }
                        .a { stroke: #1d4ed8; stroke-width: 2.5; fill: none; marker-end: url(#arrow); }
                      </style>
                      <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
                        <path d="M0,0 L8,3 L0,6 Z" fill="#1D4ED8"></path>
                      </marker>
                    </defs>
                    <rect class="n" x="20" y="70" width="150" height="70"></rect>
                    <text class="t" x="95" y="102" text-anchor="middle">Оператор</text>
                    <text class="s" x="95" y="122" text-anchor="middle">ТСД / сканер</text>
                    <rect class="n" x="210" y="40" width="160" height="130"></rect>
                    <text class="t" x="290" y="92" text-anchor="middle">PWA</text>
                    <text class="s" x="290" y="112" text-anchor="middle">scan‑цикл</text>
                    <text class="s" x="290" y="132" text-anchor="middle">offline‑статус</text>
                    <rect class="n" x="410" y="40" width="160" height="60"></rect>
                    <text class="t" x="490" y="74" text-anchor="middle">IndexedDB</text>
                    <text class="s" x="490" y="92" text-anchor="middle">локальный кэш</text>
                    <rect class="n" x="410" y="110" width="160" height="60"></rect>
                    <text class="t" x="490" y="144" text-anchor="middle">Sync Queue</text>
                    <text class="s" x="490" y="162" text-anchor="middle">retry / idempotency</text>
                    <rect class="n" x="610" y="70" width="120" height="70"></rect>
                    <text class="t" x="670" y="102" text-anchor="middle">API</text>
                    <text class="s" x="670" y="122" text-anchor="middle">события</text>
                    <rect class="n" x="770" y="70" width="130" height="70"></rect>
                    <text class="t" x="835" y="102" text-anchor="middle">ERP</text>
                    <text class="s" x="835" y="122" text-anchor="middle">Склад‑15</text>
                    <path class="a" d="M170 105 L210 105"></path>
                    <path class="a" d="M370 75 L410 75"></path>
                    <path class="a" d="M370 135 L410 135"></path>
                    <path class="a" d="M570 105 L610 105"></path>
                    <path class="a" d="M730 105 L770 105"></path>
                  </svg>
                </div>
              </div>
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Машина состояний документа</h3>
                <pre class="mt-4 overflow-x-auto rounded-lg border border-slate-200 bg-slate-50 p-4 text-xs leading-5 text-slate-800"><code>new → in_progress → completed → synced
                 ↘
              sync_failed → retry</code></pre>
                <h3 class="mt-6 text-sm font-semibold text-slate-900">Токены дизайн‑системы (минимум)</h3>
                <div class="mt-3 overflow-hidden rounded-lg border border-slate-200">
                  <table class="min-w-full text-left text-sm">
                    <thead class="bg-slate-50 text-xs font-semibold tracking-wide text-slate-700"><tr><th class="px-4 py-3">Токен</th><th class="px-4 py-3">Значение</th></tr></thead>
                    <tbody class="divide-y divide-slate-200">
                      <tr><td class="px-4 py-3">Spacing</td><td class="px-4 py-3 font-mono text-xs text-slate-700">4 / 6 / 8 / 12 / 16 / 24</td></tr>
                      <tr><td class="px-4 py-3">Font sizes</td><td class="px-4 py-3 font-mono text-xs text-slate-700">12 / 14 / 16 / 18 / 20 / 24 / 32</td></tr>
                      <tr><td class="px-4 py-3">Radii</td><td class="px-4 py-3 font-mono text-xs text-slate-700">8 / 12</td></tr>
                      <tr><td class="px-4 py-3">Borders</td><td class="px-4 py-3 font-mono text-xs text-slate-700">1px slate-200</td></tr>
                      <tr><td class="px-4 py-3">Accent</td><td class="px-4 py-3 font-mono text-xs text-slate-700">#1D4ED8</td></tr>
                      <tr><td class="px-4 py-3">Neutrals</td><td class="px-4 py-3 font-mono text-xs text-slate-700">slate-50…900</td></tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </section>
        </main>
      </div>
    </div>

    <footer class="border-t border-slate-200">
      <div class="mx-auto max-w-[1360px] px-4 py-6 text-xs text-slate-600 sm:px-6 lg:px-8">
        <p>Один файл. HTML + Tailwind CDN. Минимальный JS: подсветка активного раздела в оглавлении и навигация по якорям.</p>
      </div>
    </footer>

    <script>
      // Подсветка активного раздела в TOC + навигация select на мобильных.
      (function () {
        const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        const links = Array.from(document.querySelectorAll('a[data-toc-link].toc-link'));
        const select = document.getElementById('tocSelect');

        const ids = Array.from(
          new Set(
            links
              .map((a) => (a.getAttribute('href') || '').trim())
              .filter((h) => h.startsWith('#') && h.length > 1)
              .map((h) => h.slice(1))
          )
        );
        const targets = ids.map((id) => document.getElementById(id)).filter(Boolean);

        function setActive(id) {
          links.forEach((a) => {
            const isActive = a.getAttribute('href') === '#' + id;
            a.classList.toggle('bg-accent-50', isActive);
            a.classList.toggle('text-accent', isActive);
            a.classList.toggle('font-semibold', isActive);
            a.classList.toggle('text-slate-700', !isActive);
            if (isActive) a.setAttribute('aria-current', 'true');
            else a.removeAttribute('aria-current');
          });
          if (select) select.value = id;
        }

        function scrollToId(id) {
          const el = document.getElementById(id);
          if (!el) return;
          if (prefersReduced) el.scrollIntoView({ block: 'start' });
          else el.scrollIntoView({ behavior: 'smooth', block: 'start' });
          history.replaceState(null, '', '#' + id);
        }

        // Select navigation (mobile)
        if (select) {
          select.addEventListener('change', () => scrollToId(select.value));
        }

        // Smooth scroll on TOC links
        document.addEventListener('click', (e) => {
          const a = e.target && e.target.closest && e.target.closest('a[data-toc-link]');
          if (!a) return;
          const href = a.getAttribute('href') || '';
          if (!href.startsWith('#')) return;
          const id = href.slice(1);
          if (!id) return;
          const el = document.getElementById(id);
          if (!el) return;
          e.preventDefault();
          scrollToId(id);
        });

        if (!('IntersectionObserver' in window) || targets.length === 0) return;

        let current = null;
        const obs = new IntersectionObserver(
          (entries) => {
            const visible = entries
              .filter((en) => en.isIntersecting)
              .sort((a, b) => Math.abs(a.boundingClientRect.top) - Math.abs(b.boundingClientRect.top));
            if (visible.length === 0) return;
            const id = visible[0].target.id;
            if (id && id !== current) {
              current = id;
              setActive(id);
            }
          },
          { root: null, rootMargin: '-25% 0px -65% 0px', threshold: [0.01, 0.1, 0.25] }
        );

        targets.forEach((t) => obs.observe(t));

        const initial = location.hash && document.getElementById(location.hash.slice(1)) ? location.hash.slice(1) : 'top';
        setActive(initial);
      })();
    </script>
  


  
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light">
    <title>Warehouse-first UX architecture for ‘Склад-15’ — case study spec</title>
    <meta name="description" content="Warehouse-first UX architecture for ‘Склад-15’: action-driven operator flows for TSD, offline-first PWA, scan-first UI, metrics plan, and two-operator support.">

    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
    <link href="./Склад-15 — складская UX‑архитектура (кейс‑спецификация)_files/css2" rel="stylesheet">

    <script src="./Склад-15 — складская UX‑архитектура (кейс‑спецификация)_files/saved_resource"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              accent: {
                DEFAULT: "#1D4ED8",
                50: "#EFF6FF",
                100: "#DBEAFE",
                200: "#BFDBFE",
                700: "#1D4ED8",
                800: "#1E40AF",
              },
            },
            fontFamily: {
              sans: ["Inter", "system-ui", "-apple-system", "Segoe UI", "Roboto", "Arial", "sans-serif"],
              mono: ["ui-monospace", "SFMono-Regular", "Menlo", "Monaco", "Consolas", "Liberation Mono", "monospace"],
            },
          },
        },
      };
    </script>

    <style>
      :focus-visible {
        outline: 2px solid #1d4ed8;
        outline-offset: 3px;
      }
      @media (prefers-reduced-motion: reduce) {
        html {
          scroll-behavior: auto !important;
        }
      }
      [id] {
        scroll-margin-top: 96px;
      }
    </style>
  

  
    <a href="file:///O:/Dev/portfolio-2026/sklad.html#main" class="sr-only focus:not-sr-only focus:fixed focus:left-4 focus:top-4 focus:z-50 focus:rounded-md focus:border focus:border-slate-200 focus:bg-white focus:px-3 focus:py-2 focus:text-sm focus:font-medium focus:text-accent">Перейти к содержанию</a>

    <div class="md:hidden sticky top-0 z-40 border-b border-slate-200 bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/80">
      <div class="mx-auto max-w-[1360px] px-4 py-3">
        <div class="flex items-center gap-3">
          <div class="min-w-0 flex-1">
            <label for="tocSelect" class="block text-xs font-semibold tracking-wide text-slate-600">СОДЕРЖАНИЕ</label>
            <select id="tocSelect" class="mt-1 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 focus:border-accent focus:outline-none" aria-label="Перейти к разделу">
              <option value="top">1) Hero</option>
              <option value="context">2) Context &amp; Constraints</option>
              <option value="research">3) Research</option>
              <option value="hypotheses">4) Key Hypotheses</option>
              <option value="constitution">5) System Design &amp; UX Constitution</option>
              <option value="flows">6) User Flows</option>
              <option value="flow-receiving">— Receiving / Приёмка</option>
              <option value="flow-placement">— Placement / Размещение</option>
              <option value="flow-picking">— Picking / Подбор</option>
              <option value="flow-shipping">— Shipping / Отгрузка</option>
              <option value="flow-returns">— Returns &amp; Write-off / Возврат-Списание</option>
              <option value="flow-inventory">— Inventory / Инвентаризация</option>
              <option value="flow-labels">— Barcode Collection &amp; Label Printing / Сбор ШК и Этикетки</option>
              <option value="flow-settings">— Settings / Настройки</option>
              <option value="metrics">7) Metrics &amp; Measurement Plan</option>
              <option value="iterations">8) Iterations</option>
              <option value="testing">9) Testing Strategy</option>
              <option value="outcome">10) Outcome &amp; Product Value</option>
              <option value="appendix">11) Appendix: Architecture Snapshot</option>
            </select>
          </div>
          <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="inline-flex shrink-0 items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-accent hover:underline">Наверх</a>
        </div>
      </div>
    </div>

    <header class="border-b border-slate-200">
      <div class="mx-auto max-w-[1360px] px-4 py-4 md:px-6 lg:px-8">
        <div class="flex flex-wrap items-center justify-between gap-3">
          <div class="min-w-0">
            <p class="text-xs font-semibold tracking-wide text-slate-500">Склад-15 • Case study / спецификация</p>
            <p class="mt-1 text-sm font-medium text-slate-900">Warehouse-first UX architecture (PWA, ТСД)</p>
          </div>
          <div class="flex items-center gap-2">
            <a href="file:///O:/Dev/portfolio-2026/sklad.html#flows" data-toc-link="" class="inline-flex items-center rounded-md border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900 hover:border-slate-300">Сценарии</a>
            <a href="file:///O:/Dev/portfolio-2026/sklad.html#metrics" data-toc-link="" class="inline-flex items-center rounded-md border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900 hover:border-slate-300">Метрики</a>
          </div>
        </div>
      </div>
    </header>

    <div class="mx-auto max-w-[1360px] px-4 py-8 md:px-6 lg:px-8">
      <div class="md:grid md:grid-cols-[320px_1fr] md:gap-10">
        <aside class="hidden md:block">
          <div class="sticky top-6">
            <div class="rounded-xl border border-slate-200 bg-white p-4">
              <div class="flex items-center justify-between gap-3">
                <p class="text-xs font-semibold tracking-wide text-slate-600">ОГЛАВЛЕНИЕ</p>
                <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-xs font-medium text-accent hover:underline">Вверх</a>
              </div>
              <nav aria-label="Оглавление" class="mt-3">
                <ul class="space-y-1 text-sm">
                  <li><a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="">1) Hero</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 bg-accent-50 text-accent font-semibold" href="file:///O:/Dev/portfolio-2026/sklad.html#context" data-toc-link="" aria-current="true">2) Context &amp; Constraints</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#research" data-toc-link="">3) Research</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#hypotheses" data-toc-link="">4) Key Hypotheses</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#constitution" data-toc-link="">5) System Design &amp; UX Constitution</a></li>
                  <li>
                    <a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flows" data-toc-link="">6) User Flows</a>
                    <ul class="mt-1 space-y-1 border-l border-slate-200 pl-3">
                      <li><a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-receiving" data-toc-link="">— Receiving / Приёмка</a></li>
                      <li><a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-placement" data-toc-link="">— Placement / Размещение</a></li>
                      <li><a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-picking" data-toc-link="">— Picking / Подбор</a></li>
                      <li><a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-shipping" data-toc-link="">— Shipping / Отгрузка</a></li>
                      <li><a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-returns" data-toc-link="">— Returns &amp; Write-off / Возврат‑Списание</a></li>
                      <li><a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-inventory" data-toc-link="">— Inventory / Инвентаризация</a></li>
                      <li><a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-labels" data-toc-link="">— Barcode &amp; Labels / Сбор ШК и Этикетки</a></li>
                      <li><a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-settings" data-toc-link="">— Settings / Настройки</a></li>
                    </ul>
                  </li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#metrics" data-toc-link="">7) Metrics &amp; Measurement Plan</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#iterations" data-toc-link="">8) Iterations</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#testing" data-toc-link="">9) Testing Strategy</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#outcome" data-toc-link="">10) Outcome &amp; Product Value</a></li>
                  <li><a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#appendix" data-toc-link="">11) Appendix: Architecture Snapshot</a></li>
                </ul>
              </nav>
            </div>
          </div>
        </aside>

        <main id="main" class="min-w-0">
          <section id="top" aria-label="Hero">
            <div class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
              <p class="text-xs font-semibold tracking-wide text-slate-500">1) Hero</p>
              <h1 class="mt-2 text-balance text-2xl font-semibold leading-tight sm:text-3xl lg:text-4xl">
                Warehouse-first UX architecture for ‘Склад-15’: from data screens to action-driven flows
              </h1>
              <p class="mt-3 max-w-3xl text-pretty text-base leading-7 text-slate-700 sm:text-lg">
                PWA prototype for TSD usage: offline-first, scan-first, measurable UX, and two-operator support.
              </p>
              <p class="mt-4 text-sm leading-6 text-slate-600">
                <span class="font-semibold text-slate-700">Role</span>: Product / UX Architect
                <span class="text-slate-300" aria-hidden="true">•</span>
                <span class="font-semibold text-slate-700">Scope</span>: end-to-end operator flows
                <span class="text-slate-300" aria-hidden="true">•</span>
                <span class="font-semibold text-slate-700">Deliverables</span>: UX constitution, flows, metrics plan, PWA architecture blueprint
              </p>
            </div>
            <div class="mt-3 flex justify-end">
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>
          </section>

          <section id="context" class="mt-10">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">2) Context &amp; Constraints</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>
            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Constraints</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li>Warehouse conditions (noise, gloves, haste)</li>
                  <li>Unstable Wi‑Fi</li>
                  <li>Scanning as primary input</li>
                  <li>Offline-first requirement</li>
                  <li>High cost of errors</li>
                </ul>
              </div>
              <div class="rounded-xl border border-accent-200 bg-accent-50 p-6">
                <h3 class="text-sm font-semibold text-slate-900">Non-negotiables</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-800">
                  <li>Next action clarity &gt; context &gt; history</li>
                  <li>Offline is normal</li>
                  <li>Errors are scenarios, not blame</li>
                  <li>Scanning &gt; tapping</li>
                  <li>One screen = one decision</li>
                </ul>
              </div>
            </div>
          </section>

          <section id="research" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">3) Исследование</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>
            <div class="mt-4 rounded-xl border border-slate-200 bg-white p-6 text-sm leading-6 text-slate-700">
              Входные данные: анализ документации «Склад‑15», декомпозиция потоков оператора по операциям, фиксация трений (лишние переходы по меню;
              непоследовательные паттерны; списки без действий; неясно «что дальше»).
              <div class="mt-3">Артефакты: CJM/JTBD‑маппинг; модель приоритета информации «Следующее/Сейчас/Сделано»; сценарии по модулям.</div>
              <div class="mt-3 font-medium text-slate-900">Условия среды</div>
              <ul class="mt-2 list-disc pl-5">
                <li>Офлайн возникает внутри цикла выполнения.</li>
                <li>Скан — первичный ввод; тап — вторичный.</li>
              </ul>
            </div>
          </section>

          <section id="hypotheses" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">4) Ключевые гипотезы</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>
            <div class="mt-4 rounded-xl border border-slate-200 bg-white p-6 text-sm text-slate-700">
              Формат фиксации: «Гипотеза → Что наблюдаем → Как проверить → Что логировать».
            </div>
          </section>

          <section id="constitution" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">5) System Design &amp; UX Constitution</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>
            <div class="mt-4 rounded-xl border border-slate-200 bg-white p-6 text-sm text-slate-700">
              Constitution principles + pyramid + reusable patterns list.
            </div>
          </section>

          <section id="flows" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">6) Сценарии</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>
            <div class="mt-4 rounded-xl border border-slate-200 bg-white p-6 text-sm text-slate-700">
              Подразделы сценариев: приёмка, размещение, подбор, отгрузка, возврат‑списание, инвентаризация, этикетки, настройки.
            </div>
            <section id="flow-receiving" class="mt-4 rounded-xl border border-slate-200 bg-white p-6 text-sm text-slate-700">Receiving flow spec.</section>
            <section id="flow-placement" class="mt-4 rounded-xl border border-slate-200 bg-white p-6 text-sm text-slate-700">Placement flow spec.</section>
            <section id="flow-picking" class="mt-4 rounded-xl border border-slate-200 bg-white p-6 text-sm text-slate-700">Picking flow spec.</section>
            <section id="flow-shipping" class="mt-4 rounded-xl border border-slate-200 bg-white p-6 text-sm text-slate-700">Shipping flow spec.</section>
            <section id="flow-returns" class="mt-4 rounded-xl border border-slate-200 bg-white p-6 text-sm text-slate-700">Returns/Write-off flow spec.</section>
            <section id="flow-inventory" class="mt-4 rounded-xl border border-slate-200 bg-white p-6 text-sm text-slate-700">Inventory flow spec.</section>
            <section id="flow-labels" class="mt-4 rounded-xl border border-slate-200 bg-white p-6 text-sm text-slate-700">Barcode/Labels flow spec.</section>
            <section id="flow-settings" class="mt-4 rounded-xl border border-slate-200 bg-white p-6 text-sm text-slate-700">Settings flow spec.</section>
          </section>

          <section id="metrics" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">7) Metrics &amp; Measurement Plan</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>
            <div class="mt-4 rounded-xl border border-slate-200 bg-white p-6 text-sm text-slate-700">
              Список метрик, требования к телеметрии и событиям, а также критерии проверки.
            </div>
          </section>

          <section id="iterations" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">8) Iterations</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>
            <div class="mt-4 rounded-xl border border-slate-200 bg-white p-6 text-sm text-slate-700">
              Итерации фиксируются как версии с кратким описанием изменений.
            </div>
          </section>

          <section id="testing" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">9) Testing Strategy</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>
            <div class="mt-4 rounded-xl border border-slate-200 bg-white p-6 text-sm text-slate-700">
              Чек‑листы: сценарии модулей, матрица офлайна, тесты сканера, корректность телеметрии.
            </div>
          </section>

          <section id="outcome" class="mt-12 pb-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">10) Outcome &amp; Product Value</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>
            <div class="mt-4 rounded-xl border border-slate-200 bg-white p-6 text-sm text-slate-700">
              Качественные улучшения, измеримые показатели и инженерное обоснование.
            </div>
          </section>

          <section id="appendix" class="mt-12 pb-16">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">11) Appendix: Architecture Snapshot</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>
            <div class="mt-4 rounded-xl border border-slate-200 bg-white p-6 text-sm text-slate-700">
              Operator → PWA → IndexedDB → Sync Queue → API → ERP; document state machine; tokens mini-table.
            </div>
          </section>
        </main>
      </div>
    </div>

    <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="fixed bottom-4 right-4 z-50 hidden sm:inline-flex items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-accent hover:underline" aria-label="Назад к началу">Вверх</a>

    <script>
      (function () {
        const prefersReduced = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
        const tocLinks = Array.from(document.querySelectorAll("a.toc-link"));
        const allTocLinks = Array.from(document.querySelectorAll("a[data-toc-link]"));
        const tocSelect = document.getElementById("tocSelect");
        const sections = Array.from(document.querySelectorAll("main section[id]"));

        function setActive(id) {
          if (tocSelect) tocSelect.value = id;
          for (const a of tocLinks) {
            const isActive = a.getAttribute("href") === "#" + id;
            a.classList.toggle("bg-zinc-100", isActive);
            a.classList.toggle("text-zinc-900", isActive);
            a.classList.toggle("font-semibold", isActive);
            a.classList.toggle("text-slate-700", !isActive);
            if (isActive) a.setAttribute("aria-current", "true");
            else a.removeAttribute("aria-current");
          }
        }

        function scrollToId(id) {
          const el = document.getElementById(id);
          if (!el) return;
          el.focus({ preventScroll: true });
          el.scrollIntoView({ behavior: prefersReduced ? "auto" : "smooth", block: "start" });
          history.replaceState(null, "", "#" + id);
        }

        if (tocSelect) tocSelect.addEventListener("change", () => scrollToId(tocSelect.value));

        for (const a of allTocLinks) {
          a.addEventListener("click", (e) => {
            const href = a.getAttribute("href") || "";
            if (!href.startsWith("#")) return;
            const id = href.slice(1);
            const target = document.getElementById(id);
            if (!target) return;
            e.preventDefault();
            scrollToId(id);
          });
        }

        if (!("IntersectionObserver" in window)) {
          setActive((location.hash || "#top").slice(1) || "top");
          return;
        }

        const observer = new IntersectionObserver(
          (entries) => {
            const visible = entries
              .filter((e) => e.isIntersecting)
              .sort((a, b) => Math.abs(a.boundingClientRect.top) - Math.abs(b.boundingClientRect.top))[0];
            if (visible && visible.target && visible.target.id) setActive(visible.target.id);
          },
          { root: null, threshold: [0.1, 0.2, 0.35], rootMargin: "-20% 0px -65% 0px" }
        );

        for (const s of sections) observer.observe(s);
        setActive((location.hash || "#top").slice(1) || "top");
      })();
    </script>
  



  
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light">
    <title>Warehouse-first UX architecture for «Склад-15» — case study spec</title>
    <meta name="description" content="Warehouse-first UX architecture for «Склад-15»: action-driven operator flows for TSD, offline-first PWA, scan-first UI, metrics plan, and two-operator support.">

    <!-- Typography (allowed external font) -->
    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
    <link href="./Склад-15 — складская UX‑архитектура (кейс‑спецификация)_files/css2" rel="stylesheet">

    <!-- Tailwind CSS via CDN (no build step) -->
    <script src="./Склад-15 — складская UX‑архитектура (кейс‑спецификация)_files/saved_resource"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              accent: {
                DEFAULT: "#1D4ED8", // blue-700
                50: "#EFF6FF",
                100: "#DBEAFE",
                200: "#BFDBFE",
                700: "#1D4ED8",
                800: "#1E40AF",
              },
            },
            fontFamily: {
              sans: ["Inter", "system-ui", "-apple-system", "Segoe UI", "Roboto", "Arial", "sans-serif"],
              mono: ["ui-monospace", "SFMono-Regular", "Menlo", "Monaco", "Consolas", "Liberation Mono", "monospace"],
            },
          },
        },
      };
    </script>

    <style>
      :focus-visible {
        outline: 2px solid #1d4ed8;
        outline-offset: 3px;
      }
      @media (prefers-reduced-motion: reduce) {
        html {
          scroll-behavior: auto !important;
        }
      }
      /* Better anchor positioning under sticky bars. */
      [id] {
        scroll-margin-top: 96px;
      }
    </style>
  

  
    <a href="file:///O:/Dev/portfolio-2026/sklad.html#main" class="sr-only focus:not-sr-only focus:fixed focus:left-4 focus:top-4 focus:z-50 focus:rounded-md focus:border focus:border-slate-200 focus:bg-white focus:px-3 focus:py-2 focus:text-sm focus:font-medium focus:text-accent">Перейти к содержанию</a>

    <!-- Mobile: top sticky dropdown TOC -->
    <div class="md:hidden sticky top-0 z-40 border-b border-slate-200 bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/80">
      <div class="mx-auto max-w-[1360px] px-4 py-3">
        <div class="flex items-center gap-3">
          <div class="min-w-0 flex-1">
            <label for="tocSelect" class="block text-xs font-semibold tracking-wide text-slate-600">СОДЕРЖАНИЕ</label>
            <select id="tocSelect" class="mt-1 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 focus:border-accent focus:outline-none" aria-label="Перейти к разделу">
              <option value="top">1) Hero</option>
              <option value="context">2) Context &amp; Constraints</option>
              <option value="research">3) Research</option>
              <option value="hypotheses">4) Key Hypotheses</option>
              <option value="constitution">5) System Design &amp; UX Constitution</option>
              <option value="flows">6) User Flows</option>
              <option value="flow-receiving">— Receiving / Приёмка</option>
              <option value="flow-placement">— Placement / Размещение</option>
              <option value="flow-picking">— Picking / Подбор</option>
              <option value="flow-shipping">— Shipping / Отгрузка</option>
              <option value="flow-returns">— Returns &amp; Write-off / Возврат-Списание</option>
              <option value="flow-inventory">— Inventory / Инвентаризация</option>
              <option value="flow-labels">— Barcode Collection &amp; Label Printing / Сбор ШК и Этикетки</option>
              <option value="flow-settings">— Settings / Настройки</option>
              <option value="metrics">7) Metrics &amp; Measurement Plan</option>
              <option value="iterations">8) Iterations</option>
              <option value="testing">9) Testing Strategy</option>
              <option value="outcome">10) Outcome &amp; Product Value</option>
              <option value="appendix">11) Appendix: Architecture Snapshot</option>
            </select>
          </div>
          <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="inline-flex shrink-0 items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-accent hover:underline">Наверх</a>
        </div>
      </div>
    </div>

    <header class="border-b border-slate-200">
      <div class="mx-auto max-w-[1360px] px-4 py-4 md:px-6 lg:px-8">
        <div class="flex flex-wrap items-center justify-between gap-3">
          <div class="min-w-0">
            <p class="text-xs font-semibold tracking-wide text-slate-500">Склад-15 • Case study / спецификация</p>
            <p class="mt-1 text-sm font-medium text-slate-900">Warehouse-first UX architecture (PWA, ТСД)</p>
          </div>
          <div class="flex items-center gap-2">
            <a href="file:///O:/Dev/portfolio-2026/sklad.html#flows" data-toc-link="" class="inline-flex items-center rounded-md border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900 hover:border-slate-300">Сценарии</a>
            <a href="file:///O:/Dev/portfolio-2026/sklad.html#metrics" data-toc-link="" class="inline-flex items-center rounded-md border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900 hover:border-slate-300">Метрики</a>
          </div>
        </div>
      </div>
    </header>

    <div class="mx-auto max-w-[1360px] px-4 py-8 md:px-6 lg:px-8">
      <div class="md:grid md:grid-cols-[320px_1fr] md:gap-10">
        <!-- Desktop TOC -->
        <aside class="hidden md:block">
          <div class="sticky top-6">
            <div class="rounded-xl border border-slate-200 bg-white p-4">
              <div class="flex items-center justify-between gap-3">
                <p class="text-xs font-semibold tracking-wide text-slate-600">ОГЛАВЛЕНИЕ</p>
                <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-xs font-medium text-accent hover:underline">Вверх</a>
              </div>

              <nav aria-label="Оглавление" class="mt-3">
                <ul class="space-y-1 text-sm">
                  <li>
                    <a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="">1) Hero</a>
                  </li>
                  <li>
                    <a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 bg-accent-50 text-accent font-semibold" href="file:///O:/Dev/portfolio-2026/sklad.html#context" data-toc-link="" aria-current="true">2) Context &amp; Constraints</a>
                  </li>
                  <li>
                    <a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#research" data-toc-link="">3) Research</a>
                  </li>
                  <li>
                    <a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#hypotheses" data-toc-link="">4) Key Hypotheses</a>
                  </li>
                  <li>
                    <a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#constitution" data-toc-link="">5) System Design &amp; UX Constitution</a>
                  </li>
                  <li>
                    <a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flows" data-toc-link="">6) User Flows</a>
                    <ul class="mt-1 space-y-1 border-l border-slate-200 pl-3">
                      <li>
                        <a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-receiving" data-toc-link="">— Receiving / Приёмка</a>
                      </li>
                      <li>
                        <a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-placement" data-toc-link="">— Placement / Размещение</a>
                      </li>
                      <li>
                        <a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-picking" data-toc-link="">— Picking / Подбор</a>
                      </li>
                      <li>
                        <a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-shipping" data-toc-link="">— Shipping / Отгрузка</a>
                      </li>
                      <li>
                        <a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-returns" data-toc-link="">— Returns &amp; Write-off / Возврат‑Списание</a>
                      </li>
                      <li>
                        <a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-inventory" data-toc-link="">— Inventory / Инвентаризация</a>
                      </li>
                      <li>
                        <a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-labels" data-toc-link="">— Barcode &amp; Labels / Сбор ШК и Этикетки</a>
                      </li>
                      <li>
                        <a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-settings" data-toc-link="">— Settings / Настройки</a>
                      </li>
                    </ul>
                  </li>
                  <li>
                    <a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#metrics" data-toc-link="">7) Metrics &amp; Measurement Plan</a>
                  </li>
                  <li>
                    <a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#iterations" data-toc-link="">8) Iterations</a>
                  </li>
                  <li>
                    <a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#testing" data-toc-link="">9) Testing Strategy</a>
                  </li>
                  <li>
                    <a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#outcome" data-toc-link="">10) Outcome &amp; Product Value</a>
                  </li>
                  <li>
                    <a class="toc-link block rounded-lg px-3 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#appendix" data-toc-link="">11) Appendix: Architecture Snapshot</a>
                  </li>
                </ul>
              </nav>
            </div>

            <div class="mt-4 rounded-xl border border-slate-200 bg-white p-4">
              <p class="text-xs font-semibold tracking-wide text-slate-600">СИГНАЛЫ СТРАНИЦЫ</p>
              <ul class="mt-2 space-y-2 text-sm text-slate-700">
                <li><span class="font-medium text-slate-900">Акцент</span>: ссылки, маркеры, ключевые подсветки</li>
                <li><span class="font-medium text-slate-900">Стили</span>: монохром, границы, без декоративных эффектов</li>
                <li><span class="font-medium text-slate-900">Диаграммы</span>: SVG / ASCII</li>
              </ul>
            </div>
          </div>
        </aside>

        <main id="main" class="min-w-0">
          <!-- 1) Hero (id="top") -->
          <section id="top" aria-label="Hero">
            <div class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
              <p class="text-xs font-semibold tracking-wide text-slate-500">1) Hero</p>
              <h1 class="mt-2 text-balance text-2xl font-semibold leading-tight sm:text-3xl lg:text-4xl">
                Warehouse-first UX architecture for ‘Склад-15’: from data screens to action-driven flows
              </h1>
              <p class="mt-3 max-w-3xl text-pretty text-base leading-7 text-slate-700 sm:text-lg">
                PWA prototype for TSD usage: offline-first, scan-first, measurable UX, and two-operator support.
              </p>
              <p class="mt-4 text-sm leading-6 text-slate-600">
                <span class="font-semibold text-slate-700">Role</span>: Product / UX Architect
                <span class="text-slate-300" aria-hidden="true">•</span>
                <span class="font-semibold text-slate-700">Scope</span>: end-to-end operator flows
                <span class="text-slate-300" aria-hidden="true">•</span>
                <span class="font-semibold text-slate-700">Deliverables</span>: UX constitution, flows, metrics plan, PWA architecture blueprint
              </p>

              <div class="mt-6 grid gap-4 lg:grid-cols-2">
                <div class="rounded-xl border border-slate-200 bg-slate-50 p-5">
                  <p class="text-sm font-semibold text-slate-900">Problem / Solution statement</p>
                  <div class="mt-3 space-y-3 text-sm leading-6 text-slate-700">
                    <p>
                      <span class="font-semibold text-slate-900">Problem</span>: операторские сценарии превращаются в “экраны данных” с
                      лишними переходами, списками без действий и слабой ясностью “что дальше”.
                    </p>
                    <p>
                      <span class="font-semibold text-slate-900">Solution</span>: action-driven циклы с одним решением на экран, скан как
                      первичный ввод, offline как норма, видимое состояние синхронизации и измеримый UX.
                    </p>
                  </div>
                </div>

                <div class="rounded-xl border border-slate-200 bg-white p-5">
                  <p class="text-sm font-semibold text-slate-900">Blueprint scope</p>
                  <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                    <li class="flex gap-2">
                      <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-accent" aria-hidden="true"></span>
                      Offline-first PWA (IndexedDB cache + sync queue)
                    </li>
                    <li class="flex gap-2">
                      <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-accent" aria-hidden="true"></span>
                      Scan-first UI (keyboard wedge / ручной ввод как fallback)
                    </li>
                    <li class="flex gap-2">
                      <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-accent" aria-hidden="true"></span>
                      Two-operator sessions (partner attribution)
                    </li>
                    <li class="flex gap-2">
                      <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-accent" aria-hidden="true"></span>
                      Metrics plan + invisible telemetry (not shown to operators)
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="mt-3 flex justify-end">
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>
          </section>

          <!-- 2) Context & Constraints -->
          <section id="context" class="mt-10" aria-label="Context and constraints">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">2) Context &amp; Constraints</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Ограничения склада и ТСД</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-accent" aria-hidden="true"></span>
                    Условия склада: шум, перчатки, спешка → низкий бюджет внимания.
                  </li>
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-accent" aria-hidden="true"></span>
                    Нестабильный Wi‑Fi: временные разрывы — обычный режим.
                  </li>
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-accent" aria-hidden="true"></span>
                    Сканирование — основной ввод; нажатия/тапы — вторично.
                  </li>
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-accent" aria-hidden="true"></span>
                    Требование offline-first: работа продолжается без сети, затем синхронизация.
                  </li>
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-accent" aria-hidden="true"></span>
                    Высокая цена ошибок: пересорт, неверная ячейка, ошибки отгрузки.
                  </li>
                </ul>
              </div>

              <div class="rounded-xl border border-accent-200 bg-accent-50 p-6">
                <div class="flex items-start justify-between gap-4">
                  <h3 class="text-sm font-semibold text-slate-900">Non-negotiables</h3>
                  <span class="rounded-full border border-accent-200 bg-white px-2 py-1 text-xs font-semibold text-accent">Callout</span>
                </div>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-800">
                  <li>Next action clarity &gt; context &gt; history</li>
                  <li>Offline is normal</li>
                  <li>Errors are scenarios, not blame</li>
                  <li>Scanning &gt; tapping</li>
                  <li>One screen = one decision</li>
                </ul>
              </div>
            </div>
          </section>

          <!-- 3) Research -->
          <section id="research" class="mt-12" aria-label="Research">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">3) Research</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Research inputs</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-slate-400" aria-hidden="true"></span>
                    Анализ документации “Склад‑15”.
                  </li>
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-slate-400" aria-hidden="true"></span>
                    Декомпозиция реальных операторских сценариев по операциям (per operation).
                  </li>
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-slate-400" aria-hidden="true"></span>
                    Точки трения: слишком много переходов по меню; несогласованные паттерны; списки без действий; слабая ясность «что дальше».
                  </li>
                </ul>
              </div>

              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Артефакты</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-slate-400" aria-hidden="true"></span>
                    Маппинг CJM/JTBD (по операциям и исключениям).
                  </li>
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-slate-400" aria-hidden="true"></span>
                    Единая модель приоритета информации: Next / Now / Done.
                  </li>
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-slate-400" aria-hidden="true"></span>
                    Операционные флоу по каждому модулю (launch → list → document → scan loop → exceptions → completion).
                  </li>
                </ul>
              </div>
            </div>

            <div class="mt-6 rounded-xl border border-slate-200 bg-slate-50 p-6">
              <h3 class="text-sm font-semibold text-slate-900">Условия среды</h3>
              <ul class="mt-3 grid gap-2 text-sm leading-6 text-slate-700 sm:grid-cols-2">
                <li>Сканер работает как “keyboard wedge” (вставка символов в поле ввода).</li>
                <li>Оператор часто не смотрит на экран во время скана.</li>
                <li>Сеть может пропасть в любой момент; очередь действий должна сохраняться.</li>
                <li>Инвентаризация и подбор имеют “частые исключения”, поэтому нужен ясный разбор расхождений.</li>
              </ul>
            </div>
          </section>

          <!-- 4) Key Hypotheses -->
          <section id="hypotheses" class="mt-12" aria-label="Key hypotheses">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">4) Key Hypotheses</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>

            <div class="mt-4 overflow-x-auto rounded-xl border border-slate-200 bg-white">
              <table class="min-w-[980px] w-full text-left text-sm">
                <thead class="bg-slate-50 text-xs font-semibold tracking-wide text-slate-700">
                  <tr>
                    <th class="px-4 py-3">Hypothesis</th>
                    <th class="px-4 py-3">Expected impact</th>
                    <th class="px-4 py-3">How to measure (metric)</th>
                  </tr>
                </thead>
                <tbody class="divide-y divide-slate-200">
                  <tr>
                    <td class="px-4 py-3 text-slate-900">Next-action-first UI снижает время до первого скана и ошибки.</td>
                    <td class="px-4 py-3 text-slate-700">Быстрее вход в рабочий цикл; меньше “поиска кнопки”.</td>
                    <td class="px-4 py-3 font-mono text-xs text-slate-700">time_to_first_scan, %errors</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 text-slate-900">Уход от table-heavy экранов к “single focus card” повышает throughput сканов.</td>
                    <td class="px-4 py-3 text-slate-700">Снижение когнитивной нагрузки; меньше промахов по строкам.</td>
                    <td class="px-4 py-3 font-mono text-xs text-slate-700">scans_per_minute, backtracks</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 text-slate-900">Контекст‑сохраняющая навигация уменьшает возвраты и повторные действия.</td>
                    <td class="px-4 py-3 text-slate-700">Меньше “потерь места” в документе/цикле.</td>
                    <td class="px-4 py-3 font-mono text-xs text-slate-700">backtracks, repeats</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 text-slate-900">Offline-first + видимый sync state снижает тревожность и дубли действий.</td>
                    <td class="px-4 py-3 text-slate-700">Оператор понимает: “принято в очередь / отправлено”.</td>
                    <td class="px-4 py-3 font-mono text-xs text-slate-700">duplicate_actions, sync_fail_rate</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 text-slate-900">Two-operator sessions улучшают справедливость KPI и координацию.</td>
                    <td class="px-4 py-3 text-slate-700">Ясное авторство действий и разделение труда.</td>
                    <td class="px-4 py-3 font-mono text-xs text-slate-700">operator_id, partner_id attribution</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 text-slate-900">Стандартизированные компоненты сокращают обучение.</td>
                    <td class="px-4 py-3 text-slate-700">Переиспользуемые паттерны → меньше “новых правил”.</td>
                    <td class="px-4 py-3 font-mono text-xs text-slate-700">onboarding_time, error_rate</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 text-slate-900">“One screen = one decision” снижает вероятность неверного подтверждения.</td>
                    <td class="px-4 py-3 text-slate-700">Меньше смешивания статусов и действий на одном экране.</td>
                    <td class="px-4 py-3 font-mono text-xs text-slate-700">%wrong_confirms</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>

          <!-- 5) System Design & UX Constitution -->
          <section id="constitution" class="mt-12" aria-label="UX Constitution">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">5) System Design &amp; UX Constitution</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">AI Constitution (короткая спецификация)</h3>
                <ol class="mt-3 list-decimal space-y-2 pl-5 text-sm leading-6 text-slate-700">
                  <li>Next action всегда видим и однозначен.</li>
                  <li>Скан — первичный ввод; UI должен быть “scan-ready”.</li>
                  <li>Offline — нормальный режим; синхронизация — отдельный слой состояния.</li>
                  <li>Одна задача — один экран — одно решение.</li>
                  <li>Ошибки описываются как сценарии с действиями (не обвинения).</li>
                  <li>Исключения не ломают основной цикл: есть путь продолжения.</li>
                  <li>Статусы документа и синка видимы и не противоречат друг другу.</li>
                  <li>Компоненты повторяются между модулями (минимум новых паттернов).</li>
                  <li>Подтверждения только для критичных действий (расхождения, списание, финализация).</li>
                  <li>Telemetry невидима оператору, но полна для аналитики.</li>
                  <li>Two-operator — атрибуция действий обязательна, без усложнения цикла.</li>
                  <li>Переходы между модулями не требуют “сброса контекста”.</li>
                </ol>
              </div>

              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Information priority pyramid</h3>
                <p class="mt-2 text-sm leading-6 text-slate-700">
                  Модель приоритета: показываем сверху вниз; скрываем снизу вверх.
                </p>
                <pre class="mt-4 overflow-x-auto rounded-lg border border-slate-200 bg-slate-50 p-4 text-xs leading-5 text-slate-800"><code>Next Action
  ↓
Now
  ↓
Done
  ↓
Context
  ↓
History (hide from bottom up)</code></pre>
              </div>
            </div>

            <div class="mt-6 rounded-xl border border-slate-200 bg-slate-50 p-6">
              <h3 class="text-sm font-semibold text-slate-900">Reusable patterns library</h3>
              <div class="mt-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-4">
                <div class="rounded-lg border border-slate-200 bg-white p-4"><p class="font-mono text-xs text-slate-600">ActionHeader</p></div>
                <div class="rounded-lg border border-slate-200 bg-white p-4"><p class="font-mono text-xs text-slate-600">ContextBar</p></div>
                <div class="rounded-lg border border-slate-200 bg-white p-4"><p class="font-mono text-xs text-slate-600">ProgressChip</p></div>
                <div class="rounded-lg border border-slate-200 bg-white p-4"><p class="font-mono text-xs text-slate-600">ScanZone</p></div>
                <div class="rounded-lg border border-slate-200 bg-white p-4"><p class="font-mono text-xs text-slate-600">ErrorHint</p></div>
                <div class="rounded-lg border border-slate-200 bg-white p-4"><p class="font-mono text-xs text-slate-600">ConfirmSheet</p></div>
                <div class="rounded-lg border border-slate-200 bg-white p-4"><p class="font-mono text-xs text-slate-600">OfflineBadge</p></div>
                <div class="rounded-lg border border-slate-200 bg-white p-4"><p class="font-mono text-xs text-slate-600">PartnerBadge</p></div>
              </div>
            </div>
          </section>

          <!-- 6) User Flows -->
          <section id="flows" class="mt-12" aria-label="User flows">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">6) User Flows</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>

            <div class="mt-4 rounded-xl border border-slate-200 bg-white p-6">
              <p class="text-sm leading-6 text-slate-700">
                Формат каждого сценария: (A) Next/Now/Done, (B) шаги (launch → list → doc → scan loop → exceptions → completion),
                (C) ошибки и реакция системы, (D) правила завершения (включая подтверждение расхождений), (E) критичность offline-first.
              </p>
            </div>

            <div class="mt-6 space-y-6">
              <!-- Receiving -->
              <section id="flow-receiving" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8" aria-label="Receiving flow">
                <div class="flex flex-wrap items-center justify-between gap-3">
                  <h3 class="text-base font-semibold text-slate-900">Receiving / Приёмка</h3>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
                </div>

                <div class="mt-4 grid gap-4 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">A) Next / Now / Done</p>
                    <p class="mt-2 text-sm text-slate-700"><span class="font-semibold text-slate-900">Next</span>: скан товара</p>
                    <p class="mt-1 text-sm text-slate-700"><span class="font-semibold text-slate-900">Now</span>: “факт +1” по позиции документа</p>
                    <p class="mt-1 text-sm text-slate-700"><span class="font-semibold text-slate-900">Done</span>: завершение с подтверждением расхождений</p>
                  </div>
                  <div class="rounded-lg border border-slate-200 bg-white p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">E) Offline-first критично</p>
                    <ul class="mt-2 list-disc pl-5 text-sm text-slate-700">
                      <li>Скан и “факт +1” пишутся локально (очередь синка).</li>
                      <li>Пользователь видит статус: “в очереди / отправлено / ошибка синка”.</li>
                    </ul>
                  </div>
                </div>

                <div class="mt-5 grid gap-4 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">B) Путь оператора</p>
                    <ol class="mt-2 list-decimal space-y-1 pl-5 text-sm text-slate-700">
                      <li>Запуск → модуль “Приёмка”.</li>
                      <li>Список поставок/документов → выбор документа.</li>
                      <li>Экран документа: ScanZone готов к вводу.</li>
                      <li>Scan loop: скан → позиция определяется → факт +1 → переход к следующему скану.</li>
                      <li>Исключения: неизвестный ШК, дубликат, несоответствие → ErrorHint + действие.</li>
                      <li>Завершение: проверка расхождений → ConfirmSheet (если есть) → завершить → очередь синка.</li>
                    </ol>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">D) Правила завершения</p>
                    <ul class="mt-2 list-disc pl-5 text-sm text-slate-700">
                      <li>Завершение возможно только после явного действия “Завершить”.</li>
                      <li>При расхождениях требуется подтверждение на финале (discrepancy confirm on completion).</li>
                      <li>После завершения документ переходит в completed и ожидает synced.</li>
                    </ul>
                  </div>
                </div>

                <div class="mt-5 overflow-x-auto rounded-lg border border-slate-200">
                  <table class="min-w-[860px] w-full text-left text-sm">
                    <thead class="bg-slate-50 text-xs font-semibold tracking-wide text-slate-700">
                      <tr>
                        <th class="px-4 py-3">C) Typical error</th>
                        <th class="px-4 py-3">System response</th>
                        <th class="px-4 py-3">Operator next step</th>
                      </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-200">
                      <tr>
                        <td class="px-4 py-3 text-slate-900">Неизвестный штрихкод</td>
                        <td class="px-4 py-3 text-slate-700">ErrorHint с ясным сообщением + варианты (повторить / ручной ввод).</td>
                        <td class="px-4 py-3 text-slate-700">Повторить скан или ввести вручную.</td>
                      </tr>
                      <tr>
                        <td class="px-4 py-3 text-slate-900">Сеть недоступна</td>
                        <td class="px-4 py-3 text-slate-700">OfflineBadge + запись в локальную очередь.</td>
                        <td class="px-4 py-3 text-slate-700">Продолжить сканирование.</td>
                      </tr>
                      <tr>
                        <td class="px-4 py-3 text-slate-900">Расхождение на завершении</td>
                        <td class="px-4 py-3 text-slate-700">ConfirmSheet с итогом и явным подтверждением.</td>
                        <td class="px-4 py-3 text-slate-700">Подтвердить или вернуться и исправить.</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </section>

              <!-- Placement -->
              <section id="flow-placement" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8" aria-label="Placement flow">
                <div class="flex flex-wrap items-center justify-between gap-3">
                  <h3 class="text-base font-semibold text-slate-900">Placement / Размещение</h3>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
                </div>

                <div class="mt-4 grid gap-4 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">A) Next / Now / Done</p>
                    <p class="mt-2 text-sm text-slate-700"><span class="font-semibold text-slate-900">Next</span>: скан ячейки</p>
                    <p class="mt-1 text-sm text-slate-700"><span class="font-semibold text-slate-900">Now</span>: скан товара → фиксация размещения</p>
                    <p class="mt-1 text-sm text-slate-700"><span class="font-semibold text-slate-900">Done</span>: завершение с подтверждением расхождений</p>
                  </div>
                  <div class="rounded-lg border border-slate-200 bg-white p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">E) Offline-first критично</p>
                    <ul class="mt-2 list-disc pl-5 text-sm text-slate-700">
                      <li>Ячейка и операции размещения сохраняются локально.</li>
                      <li>Смена сети не должна сбрасывать “текущую ячейку”.</li>
                    </ul>
                  </div>
                </div>

                <div class="mt-5 grid gap-4 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">B) Путь оператора</p>
                    <ol class="mt-2 list-decimal space-y-1 pl-5 text-sm text-slate-700">
                      <li>Запуск → модуль “Размещение”.</li>
                      <li>Список документов → выбор документа.</li>
                      <li>Скан ячейки (cell) → ячейка сохраняется (cell persists).</li>
                      <li>Scan loop: скан товара → привязка к текущей ячейке.</li>
                      <li>Смена ячейки: скан новой ячейки → система переключает контекст без дополнительных меню.</li>
                      <li>Завершение: discrepancy confirm при наличии расхождений.</li>
                    </ol>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">D) Правила завершения</p>
                    <ul class="mt-2 list-disc pl-5 text-sm text-slate-700">
                      <li>Нельзя завершить, если нет ни одной операции (защита от пустого завершения).</li>
                      <li>Расхождения подтверждаются на финале.</li>
                    </ul>
                  </div>
                </div>

                <div class="mt-5 overflow-x-auto rounded-lg border border-slate-200">
                  <table class="min-w-[860px] w-full text-left text-sm">
                    <thead class="bg-slate-50 text-xs font-semibold tracking-wide text-slate-700">
                      <tr>
                        <th class="px-4 py-3">C) Typical error</th>
                        <th class="px-4 py-3">System response</th>
                        <th class="px-4 py-3">Operator next step</th>
                      </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-200">
                      <tr>
                        <td class="px-4 py-3 text-slate-900">Товар отсканирован без ячейки</td>
                        <td class="px-4 py-3 text-slate-700">ErrorHint: “Сначала отсканируйте ячейку”.</td>
                        <td class="px-4 py-3 text-slate-700">Скан ячейки → повторить скан товара.</td>
                      </tr>
                      <tr>
                        <td class="px-4 py-3 text-slate-900">Скан новой ячейки в середине цикла</td>
                        <td class="px-4 py-3 text-slate-700">Контекст переключается; UI подтверждает текущую ячейку.</td>
                        <td class="px-4 py-3 text-slate-700">Продолжить сканирование товаров.</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </section>

              <!-- Picking -->
              <section id="flow-picking" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8" aria-label="Picking flow">
                <div class="flex flex-wrap items-center justify-between gap-3">
                  <h3 class="text-base font-semibold text-slate-900">Picking / Подбор</h3>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
                </div>

                <div class="mt-4 grid gap-4 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">A) Next / Now / Done</p>
                    <p class="mt-2 text-sm text-slate-700"><span class="font-semibold text-slate-900">Next</span>: скан ячейки</p>
                    <p class="mt-1 text-sm text-slate-700"><span class="font-semibold text-slate-900">Now</span>: скан товара → списание/подтверждение строки</p>
                    <p class="mt-1 text-sm text-slate-700"><span class="font-semibold text-slate-900">Done</span>: завершение с подтверждением расхождений</p>
                  </div>
                  <div class="rounded-lg border border-slate-200 bg-white p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">E) Offline-first критично</p>
                    <ul class="mt-2 list-disc pl-5 text-sm text-slate-700">
                      <li>Подборные действия пишутся в очередь.</li>
                      <li>Конфликты синка решаются через retry/состояния (см. Appendix).</li>
                    </ul>
                  </div>
                </div>

                <div class="mt-5 grid gap-4 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">B) Путь оператора</p>
                    <ol class="mt-2 list-decimal space-y-1 pl-5 text-sm text-slate-700">
                      <li>Запуск → модуль “Подбор”.</li>
                      <li>Список заказов → выбор заказа.</li>
                      <li>Скан ячейки → проверка соответствия маршруту (route sensitivity).</li>
                      <li>Скан товара → закрытие строки / факт.</li>
                      <li>Out-of-order: предупреждение, если ячейка/строка не ожидаемая.</li>
                      <li>Завершение: discrepancy confirm.</li>
                    </ol>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">D) Правила завершения</p>
                    <ul class="mt-2 list-disc pl-5 text-sm text-slate-700">
                      <li>Завершение доступно при явном действии + подтверждение расхождений.</li>
                      <li>Предупреждение out-of-order не блокирует, но фиксируется в telemetry.</li>
                    </ul>
                  </div>
                </div>

                <div class="mt-5 overflow-x-auto rounded-lg border border-slate-200">
                  <table class="min-w-[860px] w-full text-left text-sm">
                    <thead class="bg-slate-50 text-xs font-semibold tracking-wide text-slate-700">
                      <tr>
                        <th class="px-4 py-3">C) Typical error</th>
                        <th class="px-4 py-3">System response</th>
                        <th class="px-4 py-3">Operator next step</th>
                      </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-200">
                      <tr>
                        <td class="px-4 py-3 text-slate-900">Скан не той ячейки (out-of-order)</td>
                        <td class="px-4 py-3 text-slate-700">Предупреждение + объяснение “ожидаемая ячейка …”.</td>
                        <td class="px-4 py-3 text-slate-700">Вернуться к ожидаемой ячейке или продолжить осознанно.</td>
                      </tr>
                      <tr>
                        <td class="px-4 py-3 text-slate-900">Скан товара не из заказа</td>
                        <td class="px-4 py-3 text-slate-700">ErrorHint: “Товар не найден в документе”.</td>
                        <td class="px-4 py-3 text-slate-700">Пересканировать / ручной ввод / отмена.</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </section>

              <!-- Shipping -->
              <section id="flow-shipping" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8" aria-label="Shipping flow">
                <div class="flex flex-wrap items-center justify-between gap-3">
                  <h3 class="text-base font-semibold text-slate-900">Shipping / Отгрузка</h3>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
                </div>

                <div class="mt-4 grid gap-4 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">A) Next / Now / Done</p>
                    <p class="mt-2 text-sm text-slate-700"><span class="font-semibold text-slate-900">Next</span>: скан товара/короба</p>
                    <p class="mt-1 text-sm text-slate-700"><span class="font-semibold text-slate-900">Now</span>: строгие проверки соответствия</p>
                    <p class="mt-1 text-sm text-slate-700"><span class="font-semibold text-slate-900">Done</span>: финальный контроль + discrepancy confirm</p>
                  </div>
                  <div class="rounded-lg border border-slate-200 bg-white p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">E) Offline-first критично</p>
                    <ul class="mt-2 list-disc pl-5 text-sm text-slate-700">
                      <li>Отгрузка требует строгих чеков; при offline действия в очередь, но UI показывает риск синка.</li>
                      <li>Очередь и retry должны быть прозрачны.</li>
                    </ul>
                  </div>
                </div>

                <div class="mt-5 grid gap-4 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">B) Путь оператора</p>
                    <ol class="mt-2 list-decimal space-y-1 pl-5 text-sm text-slate-700">
                      <li>Запуск → модуль “Отгрузка”.</li>
                      <li>Список → выбор документа.</li>
                      <li>Скан товара/короба → проверка соответствия.</li>
                      <li>Исключения: несоответствие/лишнее → блокирующее сообщение с шагом.</li>
                      <li>Завершение: discrepancy confirm.</li>
                    </ol>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">D) Правила завершения</p>
                    <ul class="mt-2 list-disc pl-5 text-sm text-slate-700">
                      <li>Завершение — финальный контроль, поэтому подтверждения критичных расхождений обязательны.</li>
                      <li>Ошибки соответствия показываются как сценарии с действиями (исправить/вернуться).</li>
                    </ul>
                  </div>
                </div>

                <div class="mt-5 overflow-x-auto rounded-lg border border-slate-200">
                  <table class="min-w-[860px] w-full text-left text-sm">
                    <thead class="bg-slate-50 text-xs font-semibold tracking-wide text-slate-700">
                      <tr>
                        <th class="px-4 py-3">C) Typical error</th>
                        <th class="px-4 py-3">System response</th>
                        <th class="px-4 py-3">Operator next step</th>
                      </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-200">
                      <tr>
                        <td class="px-4 py-3 text-slate-900">Лишний товар</td>
                        <td class="px-4 py-3 text-slate-700">Блокирующая ошибка + ясное действие (убрать/пересканировать).</td>
                        <td class="px-4 py-3 text-slate-700">Убрать лишнее → продолжить.</td>
                      </tr>
                      <tr>
                        <td class="px-4 py-3 text-slate-900">Не хватает позиций</td>
                        <td class="px-4 py-3 text-slate-700">На завершении: discrepancy confirm.</td>
                        <td class="px-4 py-3 text-slate-700">Подтвердить или вернуться и добрать.</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </section>

              <!-- Returns / Write-off -->
              <section id="flow-returns" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8" aria-label="Returns and write-off flow">
                <div class="flex flex-wrap items-center justify-between gap-3">
                  <h3 class="text-base font-semibold text-slate-900">Returns &amp; Write-off / Возврат‑Списание</h3>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
                </div>

                <div class="mt-4 grid gap-4 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">A) Next / Now / Done</p>
                    <p class="mt-2 text-sm text-slate-700"><span class="font-semibold text-slate-900">Next</span>: скан товара</p>
                    <p class="mt-1 text-sm text-slate-700"><span class="font-semibold text-slate-900">Now</span>: причина обязательна</p>
                    <p class="mt-1 text-sm text-slate-700"><span class="font-semibold text-slate-900">Done</span>: подтверждение критичных действий</p>
                  </div>
                  <div class="rounded-lg border border-slate-200 bg-white p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">E) Offline-first критично</p>
                    <ul class="mt-2 list-disc pl-5 text-sm text-slate-700">
                      <li>Очередь синка обязательна; действия не теряются.</li>
                      <li>UI показывает, что списание/возврат “в очереди”.</li>
                    </ul>
                  </div>
                </div>

                <div class="mt-5 grid gap-4 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">B) Путь оператора</p>
                    <ol class="mt-2 list-decimal space-y-1 pl-5 text-sm text-slate-700">
                      <li>Запуск → модуль “Возврат/Списание”.</li>
                      <li>Выбор документа (если есть) или создание операции.</li>
                      <li>Скан товара → выбор причины (обязателен).</li>
                      <li>Подтвердить критичное действие → запись в очередь синка.</li>
                      <li>Завершение/передача статуса.</li>
                    </ol>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">D) Правила завершения</p>
                    <ul class="mt-2 list-disc pl-5 text-sm text-slate-700">
                      <li>Причина обязательна для каждой операции.</li>
                      <li>Критичные действия подтверждаются (ConfirmSheet).</li>
                    </ul>
                  </div>
                </div>

                <div class="mt-5 overflow-x-auto rounded-lg border border-slate-200">
                  <table class="min-w-[860px] w-full text-left text-sm">
                    <thead class="bg-slate-50 text-xs font-semibold tracking-wide text-slate-700">
                      <tr>
                        <th class="px-4 py-3">C) Typical error</th>
                        <th class="px-4 py-3">System response</th>
                        <th class="px-4 py-3">Operator next step</th>
                      </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-200">
                      <tr>
                        <td class="px-4 py-3 text-slate-900">Причина не выбрана</td>
                        <td class="px-4 py-3 text-slate-700">Блокировка подтверждения + подсказка “выберите причину”.</td>
                        <td class="px-4 py-3 text-slate-700">Выбрать причину → подтвердить.</td>
                      </tr>
                      <tr>
                        <td class="px-4 py-3 text-slate-900">Сеть недоступна</td>
                        <td class="px-4 py-3 text-slate-700">OfflineBadge + постановка в очередь.</td>
                        <td class="px-4 py-3 text-slate-700">Продолжить; контроль синка позже.</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </section>

              <!-- Inventory -->
              <section id="flow-inventory" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8" aria-label="Inventory flow">
                <div class="flex flex-wrap items-center justify-between gap-3">
                  <h3 class="text-base font-semibold text-slate-900">Inventory / Инвентаризация</h3>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
                </div>

                <div class="mt-4 grid gap-4 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">A) Next / Now / Done</p>
                    <p class="mt-2 text-sm text-slate-700"><span class="font-semibold text-slate-900">Next</span>: скан ячейки</p>
                    <p class="mt-1 text-sm text-slate-700"><span class="font-semibold text-slate-900">Now</span>: быстрые действия “посчитать/добавить”</p>
                    <p class="mt-1 text-sm text-slate-700"><span class="font-semibold text-slate-900">Done</span>: обработка расхождений + пересчёт</p>
                  </div>
                  <div class="rounded-lg border border-slate-200 bg-white p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">E) Offline-first критично</p>
                    <ul class="mt-2 list-disc pl-5 text-sm text-slate-700">
                      <li>Подсчёты в ячейке должны сохраниться при потере сети.</li>
                      <li>Sync conflicts и retry — как отдельные состояния, без “тихих потерь”.</li>
                    </ul>
                  </div>
                </div>

                <div class="mt-5 grid gap-4 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">B) Путь оператора</p>
                    <ol class="mt-2 list-decimal space-y-1 pl-5 text-sm text-slate-700">
                      <li>Запуск → модуль “Инвентаризация”.</li>
                      <li>Скан ячейки → вход в режим подсчёта.</li>
                      <li>Опционально: blind mode (режим без подсказок списка).</li>
                      <li>Scan loop: скан товара → быстрые действия (увеличить/уменьшить) → продолжить.</li>
                      <li>Расхождения: показать разницу → предложить пересчёт.</li>
                      <li>Завершение ячейки → синк в очередь.</li>
                    </ol>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">D) Правила завершения</p>
                    <ul class="mt-2 list-disc pl-5 text-sm text-slate-700">
                      <li>Расхождения фиксируются и требуют явного подтверждения/решения.</li>
                      <li>Поддерживается “re-count” как безопасный сценарий исправления.</li>
                    </ul>
                  </div>
                </div>

                <div class="mt-5 overflow-x-auto rounded-lg border border-slate-200">
                  <table class="min-w-[860px] w-full text-left text-sm">
                    <thead class="bg-slate-50 text-xs font-semibold tracking-wide text-slate-700">
                      <tr>
                        <th class="px-4 py-3">C) Typical error</th>
                        <th class="px-4 py-3">System response</th>
                        <th class="px-4 py-3">Operator next step</th>
                      </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-200">
                      <tr>
                        <td class="px-4 py-3 text-slate-900">Ячейка не отсканирована</td>
                        <td class="px-4 py-3 text-slate-700">Блокировка подсчёта: “Сначала отсканируйте ячейку”.</td>
                        <td class="px-4 py-3 text-slate-700">Скан ячейки → продолжить.</td>
                      </tr>
                      <tr>
                        <td class="px-4 py-3 text-slate-900">Расхождение превышает ожидание</td>
                        <td class="px-4 py-3 text-slate-700">Сценарий: показать разницу + предложить пересчёт.</td>
                        <td class="px-4 py-3 text-slate-700">Пересчитать или подтвердить расхождение.</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </section>

              <!-- Labels -->
              <section id="flow-labels" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8" aria-label="Barcode and labels flow">
                <div class="flex flex-wrap items-center justify-between gap-3">
                  <h3 class="text-base font-semibold text-slate-900">Barcode Collection &amp; Label Printing / Сбор ШК и Этикетки</h3>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
                </div>

                <div class="mt-4 grid gap-4 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">A) Next / Now / Done</p>
                    <p class="mt-2 text-sm text-slate-700"><span class="font-semibold text-slate-900">Next</span>: скан товара/ШК</p>
                    <p class="mt-1 text-sm text-slate-700"><span class="font-semibold text-slate-900">Now</span>: биндинг + проверка уникальности</p>
                    <p class="mt-1 text-sm text-slate-700"><span class="font-semibold text-slate-900">Done</span>: выбор шаблона + печать (в очереди при offline)</p>
                  </div>
                  <div class="rounded-lg border border-slate-200 bg-white p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">E) Offline-first критично</p>
                    <ul class="mt-2 list-disc pl-5 text-sm text-slate-700">
                      <li>Печать может быть поставлена в offline queue (опционально).</li>
                      <li>Уникальность ШК требует проверки: при offline — сценарий “в очередь на проверку”.</li>
                    </ul>
                  </div>
                </div>

                <div class="mt-5 grid gap-4 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">B) Путь оператора</p>
                    <ol class="mt-2 list-decimal space-y-1 pl-5 text-sm text-slate-700">
                      <li>Запуск → модуль “ШК и этикетки”.</li>
                      <li>Скан товара → ввод/скан ШК.</li>
                      <li>Проверка уникальности → биндинг к товару.</li>
                      <li>Выбор шаблона печати → печать / постановка в очередь.</li>
                    </ol>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">D) Правила завершения</p>
                    <ul class="mt-2 list-disc pl-5 text-sm text-slate-700">
                      <li>Биндинг выполняется только после успешной проверки уникальности (или после синка проверки).</li>
                      <li>Шаблон печати выбирается явно.</li>
                    </ul>
                  </div>
                </div>

                <div class="mt-5 overflow-x-auto rounded-lg border border-slate-200">
                  <table class="min-w-[860px] w-full text-left text-sm">
                    <thead class="bg-slate-50 text-xs font-semibold tracking-wide text-slate-700">
                      <tr>
                        <th class="px-4 py-3">C) Typical error</th>
                        <th class="px-4 py-3">System response</th>
                        <th class="px-4 py-3">Operator next step</th>
                      </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-200">
                      <tr>
                        <td class="px-4 py-3 text-slate-900">ШК не уникален</td>
                        <td class="px-4 py-3 text-slate-700">ErrorHint: “ШК уже используется” + предложить другой.</td>
                        <td class="px-4 py-3 text-slate-700">Скан/ввод другого ШК.</td>
                      </tr>
                      <tr>
                        <td class="px-4 py-3 text-slate-900">Offline при проверке уникальности</td>
                        <td class="px-4 py-3 text-slate-700">Сценарий: поставить проверку в очередь + видимый статус.</td>
                        <td class="px-4 py-3 text-slate-700">Продолжить или дождаться синка.</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </section>

              <!-- Settings -->
              <section id="flow-settings" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8" aria-label="Settings flow">
                <div class="flex flex-wrap items-center justify-between gap-3">
                  <h3 class="text-base font-semibold text-slate-900">Settings / Настройки</h3>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
                </div>

                <div class="mt-4 grid gap-4 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">A) Next / Now / Done</p>
                    <p class="mt-2 text-sm text-slate-700"><span class="font-semibold text-slate-900">Next</span>: выбрать категорию настройки</p>
                    <p class="mt-1 text-sm text-slate-700"><span class="font-semibold text-slate-900">Now</span>: изменить параметр и увидеть влияние</p>
                    <p class="mt-1 text-sm text-slate-700"><span class="font-semibold text-slate-900">Done</span>: применить/сохранить без влияния на документы</p>
                  </div>
                  <div class="rounded-lg border border-slate-200 bg-white p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">E) Offline-first критично</p>
                    <ul class="mt-2 list-disc pl-5 text-sm text-slate-700">
                      <li>Настройки синхронизации и диагностика сети доступны всегда.</li>
                      <li>Состояние очереди и retry — видимо и управляемо.</li>
                    </ul>
                  </div>
                </div>

                <div class="mt-5 rounded-lg border border-slate-200 p-4">
                  <p class="text-xs font-semibold tracking-wide text-slate-600">B) Состав настроек (требуемое)</p>
                  <ul class="mt-2 grid gap-2 text-sm text-slate-700 sm:grid-cols-2">
                    <li>Connection</li>
                    <li>Scanning mode</li>
                    <li>Feedback</li>
                    <li>Sync</li>
                    <li>Partner mode</li>
                    <li>Diagnostics</li>
                  </ul>
                </div>

                <div class="mt-5 overflow-x-auto rounded-lg border border-slate-200">
                  <table class="min-w-[860px] w-full text-left text-sm">
                    <thead class="bg-slate-50 text-xs font-semibold tracking-wide text-slate-700">
                      <tr>
                        <th class="px-4 py-3">C) Typical error</th>
                        <th class="px-4 py-3">System response</th>
                        <th class="px-4 py-3">Operator next step</th>
                      </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-200">
                      <tr>
                        <td class="px-4 py-3 text-slate-900">Неверный режим сканирования</td>
                        <td class="px-4 py-3 text-slate-700">Подсказка + тестовое поле ScanZone.</td>
                        <td class="px-4 py-3 text-slate-700">Выбрать корректный режим → проверить.</td>
                      </tr>
                      <tr>
                        <td class="px-4 py-3 text-slate-900">Очередь синка растёт</td>
                        <td class="px-4 py-3 text-slate-700">Диагностика + кнопка retry/показ ошибок.</td>
                        <td class="px-4 py-3 text-slate-700">Проверить сеть → retry.</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </section>
            </div>
          </section>

          <!-- 7) Metrics & Measurement Plan -->
          <section id="metrics" class="mt-12" aria-label="Metrics">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">7) Metrics &amp; Measurement Plan</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Metric list (exact)</h3>
                <ul class="mt-3 list-disc space-y-1 pl-5 text-sm leading-6 text-slate-700">
                  <li>Avg receiving time per delivery</li>
                  <li>Avg picking time per order</li>
                  <li>% picking errors</li>
                  <li>% inventory discrepancies</li>
                  <li>receiving x minutes per y items</li>
                  <li>picking x minutes per y lines</li>
                  <li>inventory x minutes per y cells</li>
                </ul>
              </div>

              <div class="rounded-xl border border-slate-200 bg-slate-50 p-6">
                <h3 class="text-sm font-semibold text-slate-900">Invisible telemetry</h3>
                <p class="mt-2 text-sm leading-6 text-slate-700">
                  Требование: сбор событий не показывается оператору и не добавляет шагов; используется для измерения эффективности и качества.
                </p>
                <p class="mt-3 text-sm leading-6 text-slate-700">
                  Критично: корректная атрибуция <span class="font-mono text-xs">operator_id</span> и <span class="font-mono text-xs">partner_id</span>
                  в режиме двух операторов.
                </p>
              </div>
            </div>

            <div class="mt-6 overflow-x-auto rounded-xl border border-slate-200 bg-white">
              <table class="min-w-[980px] w-full text-left text-sm">
                <thead class="bg-slate-50 text-xs font-semibold tracking-wide text-slate-700">
                  <tr>
                    <th class="px-4 py-3">Event</th>
                    <th class="px-4 py-3">When logged</th>
                    <th class="px-4 py-3">Properties</th>
                  </tr>
                </thead>
                <tbody class="divide-y divide-slate-200">
                  <tr>
                    <td class="px-4 py-3 font-mono text-xs text-slate-900">scan_success</td>
                    <td class="px-4 py-3 text-slate-700">Каждый успешный скан в scan loop</td>
                    <td class="px-4 py-3 font-mono text-xs text-slate-700">operator_id, partner_id, doc_id, module, timestamp, offline_state</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 font-mono text-xs text-slate-900">scan_error</td>
                    <td class="px-4 py-3 text-slate-700">Неизвестный ШК / несоответствие / ручной ввод</td>
                    <td class="px-4 py-3 font-mono text-xs text-slate-700">operator_id, partner_id, doc_id, module, timestamp, offline_state</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 font-mono text-xs text-slate-900">doc_open</td>
                    <td class="px-4 py-3 text-slate-700">Открытие документа из списка</td>
                    <td class="px-4 py-3 font-mono text-xs text-slate-700">operator_id, partner_id, doc_id, module, timestamp, offline_state</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 font-mono text-xs text-slate-900">doc_complete</td>
                    <td class="px-4 py-3 text-slate-700">Подтверждение завершения</td>
                    <td class="px-4 py-3 font-mono text-xs text-slate-700">operator_id, partner_id, doc_id, module, timestamp, offline_state</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 font-mono text-xs text-slate-900">sync_state_change</td>
                    <td class="px-4 py-3 text-slate-700">Очередь/синк: queued → synced / sync_failed → retry</td>
                    <td class="px-4 py-3 font-mono text-xs text-slate-700">operator_id, doc_id, module, timestamp, offline_state</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="mt-6 rounded-xl border border-accent-200 bg-accent-50 p-6">
              <h3 class="text-sm font-semibold text-slate-900">Критерии проверки</h3>
              <ul class="mt-3 list-disc space-y-1 pl-5 text-sm leading-6 text-slate-800">
                <li>Время на строку/ячейку: сравнение по протоколу между версиями.</li>
                <li>Ошибки подбора/расхождения инвентаризации: сравнение по протоколу между версиями.</li>
                <li>Дубли действий при офлайне и после восстановления сети: сравнение по протоколу между версиями.</li>
              </ul>
            </div>
          </section>

          <!-- 8) Iterations -->
          <section id="iterations" class="mt-12" aria-label="Iterations">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">8) Iterations</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>

            <div class="mt-4 rounded-xl border border-slate-200 bg-white p-6">
              <ol class="relative space-y-6 border-l border-slate-200 pl-6 text-sm leading-6 text-slate-700">
                <li>
                  <span class="absolute -left-1.5 mt-1 h-3 w-3 rounded-full bg-accent" aria-hidden="true"></span>
                  <span class="font-semibold text-slate-900">v0</span>: doc lists only → проблема: нет действий, нет “what next”.
                </li>
                <li>
                  <span class="absolute -left-1.5 mt-1 h-3 w-3 rounded-full bg-accent" aria-hidden="true"></span>
                  <span class="font-semibold text-slate-900">v1</span>: action-driven scan loop screens (операционный цикл вместо таблиц).
                </li>
                <li>
                  <span class="absolute -left-1.5 mt-1 h-3 w-3 rounded-full bg-accent" aria-hidden="true"></span>
                  <span class="font-semibold text-slate-900">v2</span>: standardized components + nav model (единые паттерны).
                </li>
                <li>
                  <span class="absolute -left-1.5 mt-1 h-3 w-3 rounded-full bg-accent" aria-hidden="true"></span>
                  <span class="font-semibold text-slate-900">v3</span>: offline sync indicators + queue (видимость и retry).
                </li>
                <li>
                  <span class="absolute -left-1.5 mt-1 h-3 w-3 rounded-full bg-accent" aria-hidden="true"></span>
                  <span class="font-semibold text-slate-900">v4</span>: two-operator sessions (атрибуция, справедливость KPI).
                </li>
                <li>
                  <span class="absolute -left-1.5 mt-1 h-3 w-3 rounded-full bg-accent" aria-hidden="true"></span>
                  <span class="font-semibold text-slate-900">v5</span>: production hardening (performance, errors, diagnostics).
                </li>
              </ol>
            </div>
          </section>

          <!-- 9) Testing Strategy -->
          <section id="testing" class="mt-12" aria-label="Testing strategy">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">9) Testing Strategy</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Test scenarios per module (smoke + edge)</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li><label class="flex gap-2"><input type="checkbox" class="mt-1"> Приёмка: скан → факт +1 → завершить с расхождением</label></li>
                  <li><label class="flex gap-2"><input type="checkbox" class="mt-1"> Размещение: скан ячейки → товары → смена ячейки сканом</label></li>
                  <li><label class="flex gap-2"><input type="checkbox" class="mt-1"> Подбор: route sensitivity + out-of-order предупреждение</label></li>
                  <li><label class="flex gap-2"><input type="checkbox" class="mt-1"> Отгрузка: строгие проверки + блокирующие несоответствия</label></li>
                  <li><label class="flex gap-2"><input type="checkbox" class="mt-1"> Возврат/списание: причина обязательна + confirm критичного действия</label></li>
                  <li><label class="flex gap-2"><input type="checkbox" class="mt-1"> Инвентаризация: расхождение → пересчёт → завершение</label></li>
                  <li><label class="flex gap-2"><input type="checkbox" class="mt-1"> ШК/этикетки: уникальность → биндинг → выбор шаблона</label></li>
                </ul>
              </div>

              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Scanner input tests</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li><label class="flex gap-2"><input type="checkbox" class="mt-1"> Keyboard wedge: быстрые последовательные сканы без потери фокуса</label></li>
                  <li><label class="flex gap-2"><input type="checkbox" class="mt-1"> Ручной ввод: поддержка ошибок/повторов</label></li>
                  <li><label class="flex gap-2"><input type="checkbox" class="mt-1"> Длинные коды/разные форматы: корректная обработка</label></li>
                </ul>
              </div>
            </div>

            <div class="mt-6 rounded-xl border border-slate-200 bg-white p-6">
              <h3 class="text-sm font-semibold text-slate-900">Offline-first test matrix</h3>
              <div class="mt-3 overflow-x-auto rounded-lg border border-slate-200">
                <table class="min-w-[980px] w-full text-left text-sm">
                  <thead class="bg-slate-50 text-xs font-semibold tracking-wide text-slate-700">
                    <tr>
                      <th class="px-4 py-3">Scenario</th>
                      <th class="px-4 py-3">Online → Offline</th>
                      <th class="px-4 py-3">Offline → Online</th>
                      <th class="px-4 py-3">Sync conflict</th>
                      <th class="px-4 py-3">Queue retry</th>
                    </tr>
                  </thead>
                  <tbody class="divide-y divide-slate-200 text-slate-700">
                    <tr>
                      <td class="px-4 py-3 text-slate-900">Scan loop</td>
                      <td class="px-4 py-3">Скан продолжается, очередь растёт</td>
                      <td class="px-4 py-3">Очередь уходит, статус обновляется</td>
                      <td class="px-4 py-3">Переход в sync_failed</td>
                      <td class="px-4 py-3">retry до synced</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-slate-900">Doc completion</td>
                      <td class="px-4 py-3">Завершение фиксируется локально</td>
                      <td class="px-4 py-3">Синк завершения</td>
                      <td class="px-4 py-3">Явное состояние конфликта</td>
                      <td class="px-4 py-3">Управляемый retry</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <div class="mt-6 rounded-xl border border-slate-200 bg-slate-50 p-6">
              <h3 class="text-sm font-semibold text-slate-900">KPI telemetry correctness tests</h3>
              <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                <li><label class="flex gap-2"><input type="checkbox" class="mt-1"> operator_id / partner_id записываются в каждом ключевом событии</label></li>
                <li><label class="flex gap-2"><input type="checkbox" class="mt-1"> doc_id и module присутствуют в scan и completion событиях</label></li>
                <li><label class="flex gap-2"><input type="checkbox" class="mt-1"> offline_state корректно отражает режим в момент события</label></li>
              </ul>
            </div>
          </section>

          <!-- 10) Outcome & Product Value -->
          <section id="outcome" class="mt-12" aria-label="Outcome">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">10) Outcome &amp; Product Value</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Что улучшено (качественно)</h3>
                <ul class="mt-3 list-disc space-y-1 pl-5 text-sm leading-6 text-slate-700">
                  <li>Ясность следующего шага в каждом модуле (Next-action-first).</li>
                  <li>Сценарии исключений оформлены как “путь”, а не как “ошибка пользователя”.</li>
                  <li>Навигация не ломает контекст документа и цикла сканирования.</li>
                  <li>Offline воспринимается как режим работы, а не как авария.</li>
                </ul>
              </div>

              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Что измеримо</h3>
                <ul class="mt-3 list-disc space-y-1 pl-5 text-sm leading-6 text-slate-700">
                  <li>Метрики времени (receiving/picking/inventory) — см. раздел <a class="text-accent hover:underline" href="file:///O:/Dev/portfolio-2026/sklad.html#metrics" data-toc-link="">Metrics</a>.</li>
                  <li>Доля ошибок подбора и расхождений инвентаризации.</li>
                  <li>Частота дублей действий при offline и после восстановления сети.</li>
                </ul>
              </div>
            </div>

            <div class="mt-6 rounded-xl border border-slate-200 bg-slate-50 p-6">
              <h3 class="text-sm font-semibold text-slate-900">Инженерное обоснование</h3>
              <ul class="mt-3 list-disc space-y-1 pl-5 text-sm leading-6 text-slate-700">
                <li>Сокращение времени обучения за счёт стандартизированных паттернов.</li>
                <li>Меньше ошибок и возвратов благодаря строгим проверкам и понятным исключениям.</li>
                <li>Предсказуемая работа без сети → “enterprise readiness”.</li>
                <li>Дифференциация: two-operator режим + измеримый UX.</li>
              </ul>
            </div>
          </section>

          <!-- 11) Appendix: Architecture Snapshot -->
          <section id="appendix" class="mt-12 pb-16" aria-label="Appendix">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">11) Appendix: Architecture Snapshot</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">High-level architecture diagram</h3>
                <div class="mt-4 overflow-x-auto rounded-lg border border-slate-200 bg-slate-50 p-4">
                  <svg viewBox="0 0 980 180" role="img" aria-label="Operator → PWA → IndexedDB → Sync Queue → API → ERP" class="min-w-[820px] w-full">
                    <defs>
                      <style>
                        .b { fill: #ffffff; stroke: #e2e8f0; stroke-width: 2; }
                        .t { font: 13px Inter, system-ui; fill: #0f172a; }
                        .a { stroke: #334155; stroke-width: 2; fill: none; marker-end: url(#m); }
                      </style>
                      <marker id="m" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
                        <path d="M 0 0 L 10 5 L 0 10 z" fill="#334155"></path>
                      </marker>
                    </defs>

                    <rect class="b" x="20" y="60" width="130" height="60" rx="10"></rect>
                    <text class="t" x="40" y="95">Operator</text>

                    <rect class="b" x="180" y="60" width="140" height="60" rx="10"></rect>
                    <text class="t" x="200" y="95">PWA</text>

                    <rect class="b" x="350" y="60" width="150" height="60" rx="10"></rect>
                    <text class="t" x="370" y="95">IndexedDB</text>

                    <rect class="b" x="530" y="60" width="150" height="60" rx="10"></rect>
                    <text class="t" x="550" y="95">Sync Queue</text>

                    <rect class="b" x="710" y="60" width="110" height="60" rx="10"></rect>
                    <text class="t" x="730" y="95">API</text>

                    <rect class="b" x="850" y="60" width="110" height="60" rx="10"></rect>
                    <text class="t" x="870" y="95">ERP</text>

                    <path class="a" d="M150 90 L180 90"></path>
                    <path class="a" d="M320 90 L350 90"></path>
                    <path class="a" d="M500 90 L530 90"></path>
                    <path class="a" d="M680 90 L710 90"></path>
                    <path class="a" d="M820 90 L850 90"></path>
                  </svg>
                </div>
              </div>

              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Document state machine</h3>
                <p class="mt-2 text-sm leading-6 text-slate-700">Явные состояния документа и синка (прозрачность и повторяемый retry).</p>
                <pre class="mt-4 overflow-x-auto rounded-lg border border-slate-200 bg-slate-50 p-4 text-xs leading-5 text-slate-800"><code>new → in_progress → completed → synced
                 ↘
              sync_failed → retry</code></pre>
              </div>
            </div>

            <div class="mt-6 rounded-xl border border-slate-200 bg-white p-6">
              <h3 class="text-sm font-semibold text-slate-900">Design system tokens (mini-table)</h3>
              <div class="mt-3 overflow-x-auto rounded-lg border border-slate-200">
                <table class="min-w-[820px] w-full text-left text-sm">
                  <thead class="bg-slate-50 text-xs font-semibold tracking-wide text-slate-700">
                    <tr>
                      <th class="px-4 py-3">Token</th>
                      <th class="px-4 py-3">Value</th>
                    </tr>
                  </thead>
                  <tbody class="divide-y divide-slate-200">
                    <tr>
                      <td class="px-4 py-3 text-slate-900">Spacing</td>
                      <td class="px-4 py-3 font-mono text-xs text-slate-700">4 / 6 / 8 / 12 / 16 / 24</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-slate-900">Font sizes</td>
                      <td class="px-4 py-3 font-mono text-xs text-slate-700">12 / 14 / 16 / 18 / 20 / 24 / 32</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-slate-900">Radii</td>
                      <td class="px-4 py-3 font-mono text-xs text-slate-700">8 / 12</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-slate-900">Borders</td>
                      <td class="px-4 py-3 font-mono text-xs text-slate-700">1px slate-200</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-slate-900">Accent</td>
                      <td class="px-4 py-3 font-mono text-xs text-slate-700">#1D4ED8</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-slate-900">Neutrals</td>
                      <td class="px-4 py-3 font-mono text-xs text-slate-700">slate-50…900</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </section>
        </main>
      </div>
    </div>

    <!-- Minimal back-to-top (desktop) -->
    <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="fixed bottom-4 right-4 z-50 hidden sm:inline-flex items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-accent hover:underline" aria-label="Назад к началу">Вверх</a>

    <script>
      // Minimal JS: TOC active highlight + smooth scroll (optional).
      (function () {
        const prefersReduced = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
        const tocLinks = Array.from(document.querySelectorAll("a.toc-link"));
        const allTocLinks = Array.from(document.querySelectorAll("a[data-toc-link]"));
        const tocSelect = document.getElementById("tocSelect");
        const sections = Array.from(document.querySelectorAll("main section[id]"));

        function setActive(id) {
          if (tocSelect) tocSelect.value = id;
          for (const a of tocLinks) {
            const isActive = a.getAttribute("href") === "#" + id;
            a.classList.toggle("bg-zinc-100", isActive);
            a.classList.toggle("text-zinc-900", isActive);
            a.classList.toggle("font-semibold", isActive);
            a.classList.toggle("text-slate-700", !isActive);
            if (isActive) a.setAttribute("aria-current", "true");
            else a.removeAttribute("aria-current");
          }
        }

        function scrollToId(id) {
          const el = document.getElementById(id);
          if (!el) return;
          el.focus({ preventScroll: true });
          el.scrollIntoView({ behavior: prefersReduced ? "auto" : "smooth", block: "start" });
          history.replaceState(null, "", "#" + id);
        }

        // Mobile dropdown navigation.
        if (tocSelect) {
          tocSelect.addEventListener("change", () => scrollToId(tocSelect.value));
        }

        // Smooth scroll for TOC links (optional; respects reduced motion).
        for (const a of allTocLinks) {
          a.addEventListener("click", (e) => {
            const href = a.getAttribute("href") || "";
            if (!href.startsWith("#")) return;
            const id = href.slice(1);
            const target = document.getElementById(id);
            if (!target) return;
            e.preventDefault();
            scrollToId(id);
          });
        }

        // Active section highlighting.
        if (!("IntersectionObserver" in window)) {
          setActive((location.hash || "#top").slice(1) || "top");
          return;
        }

        const observer = new IntersectionObserver(
          (entries) => {
            const visible = entries
              .filter((e) => e.isIntersecting)
              .sort((a, b) => Math.abs(a.boundingClientRect.top) - Math.abs(b.boundingClientRect.top))[0];
            if (visible && visible.target && visible.target.id) setActive(visible.target.id);
          },
          { root: null, threshold: [0.1, 0.2, 0.35], rootMargin: "-20% 0px -65% 0px" }
        );

        for (const s of sections) observer.observe(s);
        setActive((location.hash || "#top").slice(1) || "top");
      })();
    </script>
  

  
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light">
    <title>Склад-15 — Складской UX-архитектурный кейс (PWA для ТСД)</title>
    <meta name="description" content="Минималистичная инженерная спецификация: складская UX-архитектура для «Склад-15» (PWA, offline-first, scan-first, измеримый UX, режим двух операторов).">

    <!-- Шрифт (допустимый внешний ресурс) -->
    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
    <link href="./Склад-15 — складская UX‑архитектура (кейс‑спецификация)_files/css2" rel="stylesheet">

    <!-- Tailwind CSS через CDN (без сборки) -->
    <script src="./Склад-15 — складская UX‑архитектура (кейс‑спецификация)_files/saved_resource"></script>
    <script>
      // Tailwind-конфиг: один акцент, почти монохром.
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              accent: {
                DEFAULT: "#1D4ED8", // blue-700
                50: "#EFF6FF",
                100: "#DBEAFE",
                200: "#BFDBFE",
                600: "#2563EB",
                700: "#1D4ED8",
                800: "#1E40AF",
              },
            },
            fontFamily: {
              sans: ["Inter", "system-ui", "-apple-system", "Segoe UI", "Roboto", "Arial", "sans-serif"],
              mono: ["ui-monospace", "SFMono-Regular", "Menlo", "Monaco", "Consolas", "Liberation Mono", "monospace"],
            },
          },
        },
      };
    </script>
    <style>
      /* Subtle focus ring for keyboard users (AA+ contrast). */
      :focus-visible {
        outline: 2px solid #1d4ed8;
        outline-offset: 3px;
      }
      @media (prefers-reduced-motion: reduce) {
        html {
          scroll-behavior: auto !important;
        }
      }
      /* Improve anchor positioning under sticky elements. */
      [id] {
        scroll-margin-top: 96px;
      }
    </style>
  

  
    <a href="file:///O:/Dev/portfolio-2026/sklad.html#main" class="sr-only focus:not-sr-only focus:fixed focus:left-4 focus:top-4 focus:z-50 focus:rounded-md focus:border focus:border-slate-200 focus:bg-white focus:px-3 focus:py-2 focus:text-sm focus:font-medium focus:text-accent">Перейти к содержанию</a>

    <header class="border-b border-slate-200">
      <div class="mx-auto max-w-[1360px] px-4 py-4 sm:px-6 lg:px-8">
        <div class="flex flex-wrap items-center justify-between gap-3">
          <div class="min-w-0">
            <p class="text-xs font-semibold tracking-wide text-slate-500">Склад-15 • Кейс / спецификация</p>
            <p class="mt-1 text-sm font-medium text-slate-900">Складская UX-архитектура (PWA, ТСД)</p>
          </div>
          <div class="flex items-center gap-2">
            <a href="file:///O:/Dev/portfolio-2026/sklad.html#context" class="inline-flex items-center gap-2 rounded-md border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900 hover:border-slate-300">
              <span class="inline-block h-2 w-2 rounded-full bg-accent" aria-hidden="true"></span>
              Ограничения
            </a>
            <a href="file:///O:/Dev/portfolio-2026/sklad.html#flows" class="inline-flex items-center rounded-md border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-900 hover:border-slate-300">Сценарии</a>
          </div>
        </div>
      </div>
    </header>

    <!-- Оглавление для мобильных (dropdown, липкое сверху) -->
    <div class="lg:hidden sticky top-0 z-40 border-b border-slate-200 bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/80">
      <div class="mx-auto max-w-[1360px] px-4 py-3 sm:px-6">
        <div class="flex items-center gap-3">
          <div class="min-w-0 flex-1">
            <label for="tocSelect" class="block text-xs font-semibold tracking-wide text-slate-600">ОГЛАВЛЕНИЕ</label>
            <select id="tocSelect" class="mt-1 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 focus:border-accent focus:outline-none" aria-label="Перейти к разделу">
              <option value="top">1) Hero</option>
              <option value="context">2) Context &amp; Constraints</option>
              <option value="research">3) Research</option>
              <option value="hypotheses">4) Key Hypotheses</option>
              <option value="constitution">5) System Design &amp; UX Constitution</option>
              <option value="flows">6) User Flows</option>
              <option value="flow-receiving">— Receiving / Приёмка</option>
              <option value="flow-placement">— Placement / Размещение</option>
              <option value="flow-picking">— Picking / Подбор</option>
              <option value="flow-shipping">— Shipping / Отгрузка</option>
              <option value="flow-returns">— Returns &amp; Write-off / Возврат-Списание</option>
              <option value="flow-inventory">— Inventory / Инвентаризация</option>
              <option value="flow-labels">— Barcode Collection &amp; Label Printing / Сбор ШК и Этикетки</option>
              <option value="flow-settings">— Settings / Настройки</option>
              <option value="metrics">7) Metrics &amp; Measurement Plan</option>
              <option value="iterations">8) Iterations</option>
              <option value="testing">9) Testing Strategy</option>
              <option value="outcome">10) Outcome &amp; Product Value</option>
              <option value="appendix">11) Appendix: Architecture Snapshot</option>
            </select>
          </div>
          <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="inline-flex shrink-0 items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-accent hover:underline">Наверх</a>
        </div>
      </div>
    </div>

    <div class="mx-auto max-w-[1360px] px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 gap-8 py-8 lg:grid-cols-[320px_1fr]">
        <!-- Оглавление для десктопа (липкое) -->
        <aside class="hidden lg:block">
          <div class="sticky top-6">
            <div class="rounded-xl border border-slate-200 bg-white p-4">
              <div class="flex items-center justify-between gap-3">
                <p class="text-xs font-semibold tracking-wide text-slate-600">ОГЛАВЛЕНИЕ</p>
                <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="text-xs font-medium text-accent hover:underline">Вверх</a>
              </div>
              <nav class="mt-3" aria-label="Оглавление">
                <ul class="space-y-1 text-sm">
                  <li>
                    <a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#top">Вводная</a>
                  </li>
                  <li>
                    <a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 bg-accent-50 text-accent font-semibold" href="file:///O:/Dev/portfolio-2026/sklad.html#context" aria-current="true">Контекст и ограничения</a>
                  </li>
                  <li>
                    <a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#research">Исследование</a>
                  </li>
                  <li>
                    <a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#hypotheses">Ключевые гипотезы</a>
                  </li>
                  <li>
                    <a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#constitution">Системный дизайн и UX‑конституция</a>
                  </li>
                  <li>
                    <a class="toc-link block rounded px-2 py-2 text-slate-700 hover:bg-slate-50" href="file:///O:/Dev/portfolio-2026/sklad.html#flows">Сценарии</a>
                    <ul class="mt-1 space-y-1 border-l border-slate-200 pl-3">
                      <li>
                        <a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-receiving">Приёмка</a>
                      </li>
                      <li>
                        <a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-placement">Размещение</a>
                      </li>
                      <li>
                        <a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-picking">Подбор</a>
                      </li>
                      <li>
                        <a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-shipping">Отгрузка</a>
                      </li>
                      <li>
                        <a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-returns">Возврат и списание</a>
                      </li>
                      <li>
                        <a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-inventory">Инвентаризация</a>
                      </li>
                      <li>
                        <a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-labels">Штрихкоды и этикетки</a>
                      </li>
                      <li>
                        <a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#flow-settings">Настройки</a>
                      </li>
                    </ul>
                  </li>
                  <li>
                    <a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#metrics">Метрики и план измерений</a>
                  </li>
                  <li>
                    <a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#iterations">Итерации</a>
                  </li>
                  <li>
                    <a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#testing">Стратегия тестирования</a>
                  </li>
                  <li>
                    <a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#outcome">Результат и ценность продукта</a>
                  </li>
                  <li>
                    <a class="toc-link block rounded px-2 py-2 hover:bg-slate-50 text-slate-700" href="file:///O:/Dev/portfolio-2026/sklad.html#appendix">Приложение</a>
                  </li>
                </ul>
              </nav>
              <div class="mt-4 border-t border-slate-200 pt-3 text-xs text-slate-600">
                <p>
                  Режим чтения: высокий контраст, минимум движения.
                  <span class="text-slate-300" aria-hidden="true">•</span>
                  Акцент: <span class="font-medium text-accent">синий</span>
                </p>
              </div>
            </div>
          </div>
        </aside>

        <main id="main" class="min-w-0">
          <!-- 1) Вводная (обязательный id="top") -->
          <section id="top" class="scroll-mt-24">
            <div class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
              <div class="flex flex-col gap-6">
                <div>
                  <p class="text-xs font-semibold tracking-wide text-slate-500">Вводная</p>
                  <h1 class="mt-2 text-balance text-2xl font-semibold leading-tight sm:text-3xl lg:text-4xl">
                    Складская UX‑архитектура для «Склад‑15»: от экранов данных к сценариям действий
                  </h1>
                  <p class="mt-3 max-w-3xl text-pretty text-base leading-7 text-slate-700 sm:text-lg">
                    Прототип PWA для работы на ТСД: offline‑first, scan‑first, измеримый UX и поддержка двух операторов.
                  </p>
                  <p class="mt-4 text-sm leading-6 text-slate-600">
                    <span class="font-semibold text-slate-700">Роль</span>: продукт / UX‑архитектор
                    <span class="text-slate-300" aria-hidden="true">•</span>
                    <span class="font-semibold text-slate-700">Объём</span>: сквозные операторские сценарии
                    <span class="text-slate-300" aria-hidden="true">•</span>
                    <span class="font-semibold text-slate-700">Артефакты</span>: UX‑конституция, сценарии, план метрик, архитектурный
                    план PWA
                  </p>
                </div>
                <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                  <h2 class="text-sm font-semibold text-slate-900">Замысел</h2>
                  <p class="mt-2 text-sm leading-6 text-slate-700">
                    Заменить «экраны данных» на «циклы действий», оптимизированные под сканирование на ТСД: одно решение на
                    экран, прозрачный следующий шаг, офлайн как нормальное состояние, измеримые результаты.
                  </p>
                </div>
                <div class="grid gap-4 sm:grid-cols-3">
                  <div class="rounded-lg border border-slate-200 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">ОСНОВНОЙ ВВОД</p>
                    <p class="mt-2 text-sm font-medium text-slate-900">Сканер (scan‑first)</p>
                    <p class="mt-1 text-xs text-slate-600">Совместимо с «клавиатурным» сканером; ручной ввод — запасной.</p>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">РЕЖИМ РАБОТЫ</p>
                    <p class="mt-2 text-sm font-medium text-slate-900">PWA (offline‑first)</p>
                    <p class="mt-1 text-xs text-slate-600">Кэш в IndexedDB + очередь синхронизации + видимое состояние.</p>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <p class="text-xs font-semibold tracking-wide text-slate-600">КОМАНДНЫЙ РЕЖИМ</p>
                    <p class="mt-2 text-sm font-medium text-slate-900">Сессии «2 оператора»</p>
                    <p class="mt-1 text-xs text-slate-600">Атрибуция партнёра для справедливых KPI и координации.</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="mt-4 flex justify-end">
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>
          </section>

          <!-- 2) Контекст и ограничения -->
          <section id="context" class="mt-10">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Контекст и ограничения</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>
            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Реальность склада</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-accent" aria-hidden="true"></span>
                    Условия: шум, перчатки, спешка; «бюджет внимания» минимальный.
                  </li>
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-accent" aria-hidden="true"></span>
                    Нестабильный Wi‑Fi: кратковременные обрывы — норма.
                  </li>
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-accent" aria-hidden="true"></span>
                    Сканирование — основной ввод; тап — вторичный.
                  </li>
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-accent" aria-hidden="true"></span>
                    Требование offline‑first: приложение работает без сети и синхронизируется позже.
                  </li>
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-accent" aria-hidden="true"></span>
                    Ошибки дороги: неверный подбор, неверное размещение, проблемы отгрузки → прямые затраты.
                  </li>
                </ul>
              </div>

              <div class="rounded-xl border border-slate-200 bg-accent-50 p-6">
                <div class="flex items-start justify-between gap-4">
                  <h3 class="text-sm font-semibold text-slate-900">Необсуждаемые принципы</h3>
                  <span class="rounded-full border border-accent-200 bg-white px-2 py-1 text-xs font-semibold text-accent">Важно</span>
                </div>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-800">
                  <li><span class="font-semibold">Ясность следующего шага</span> &gt; контекст &gt; история</li>
                  <li><span class="font-semibold">Офлайн</span> — нормальный режим</li>
                  <li><span class="font-semibold">Ошибки</span> — сценарии, а не вина</li>
                  <li><span class="font-semibold">Сканирование</span> &gt; тап</li>
                  <li><span class="font-semibold">Один экран</span> = одно решение</li>
                </ul>
                <p class="mt-4 text-xs leading-5 text-slate-700">
                  Следствие для дизайна: экран должен быть «операционной командой», а не «отчётом».
                </p>
              </div>
            </div>
          </section>

          <!-- 3) Исследование -->
          <section id="research" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Исследование</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Входные данные (в рамках этой работы)</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-slate-400" aria-hidden="true"></span>
                    Анализ документации «Склад‑15».
                  </li>
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-slate-400" aria-hidden="true"></span>
                    Декомпозиция реальных операторских сценариев по операциям (по модулям).
                  </li>
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-slate-400" aria-hidden="true"></span>
                    Выявленные «трения»:
                    <span class="ml-1 inline-flex flex-wrap gap-2">
                      <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-xs">слишком много переходов по меню</span>
                      <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-xs">непоследовательные паттерны</span>
                      <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-xs">списки без действий</span>
                      <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-xs">неясно «что дальше»</span>
                    </span>
                  </li>
                </ul>
              </div>

              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Выходные артефакты</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-slate-400" aria-hidden="true"></span>
                    Маппинг CJM/JTBD (задача оператора → микро‑действия).
                  </li>
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-slate-400" aria-hidden="true"></span>
                    Единая модель приоритета информации: <span class="font-semibold">Следующее / Сейчас / Сделано</span>.
                  </li>
                  <li class="flex gap-2">
                    <span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-slate-400" aria-hidden="true"></span>
                    Операционные сценарии по модулям: scan‑циклы, обработка исключений, правила завершения.
                  </li>
                </ul>

                <div class="mt-5 rounded-lg border border-slate-200 bg-slate-50 p-4">
                  <h4 class="text-xs font-semibold tracking-wide text-slate-700">Полевые допущения</h4>
                  <ul class="mt-2 space-y-1 text-sm leading-6 text-slate-700">
                    <li>- Операторы предпочитают подтверждение скана чтению длинных таблиц.</li>
                    <li>- Быстрое восстановление после ошибок важнее «идеальной» профилактики.</li>
                    <li>- Система должна «держать место» (контекст) между сканами, без лишней навигации.</li>
                    <li>- Видимое состояние синхронизации снижает сомнения и дубли действий.</li>
                    <li>- Участие двух операторов должно атрибутироваться, но не усложнять основной цикл.</li>
                  </ul>
                </div>
              </div>
            </div>
          </section>

          <!-- 4) Ключевые гипотезы -->
          <section id="hypotheses" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Ключевые гипотезы</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>

            <div class="mt-4 overflow-hidden rounded-xl border border-slate-200 bg-white">
              <div class="overflow-x-auto">
                <table class="min-w-full text-left text-sm">
                  <thead class="bg-slate-50 text-xs font-semibold tracking-wide text-slate-700">
                    <tr>
                      <th scope="col" class="px-4 py-3">Гипотеза</th>
                      <th scope="col" class="px-4 py-3">Ожидаемый эффект</th>
                      <th scope="col" class="px-4 py-3">Как измерять (метрика)</th>
                    </tr>
                  </thead>
                  <tbody class="divide-y divide-slate-200">
                    <tr>
                      <td class="px-4 py-3 text-slate-900">
                        UI «сначала следующий шаг» снижает <span class="font-medium">время до первого скана</span> и ошибки.
                      </td>
                      <td class="px-4 py-3 text-slate-700">Быстрее «войти в работу», меньше пауз.</td>
                      <td class="px-4 py-3 text-slate-700">Время от входа в модуль → 1‑й скан; ранние ошибки.</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-slate-900">
                        Замена «табличных» экранов на <span class="font-medium">одну фокус‑карточку</span> повышает пропускную
                        способность сканирования.
                      </td>
                      <td class="px-4 py-3 text-slate-700">Больше сканов/мин; меньше ошибочных считываний.</td>
                      <td class="px-4 py-3 text-slate-700">Сканы/мин по сценарию; среднее время на строку/единицу.</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-slate-900">
                        Навигация с сохранением контекста снижает <span class="font-medium">возвраты/«откаты»</span>.
                      </td>
                      <td class="px-4 py-3 text-slate-700">Меньше прыжков по меню; меньше «потерянных» состояний.</td>
                      <td class="px-4 py-3 text-slate-700">% событий Back; «дёрганье экранов» на документ.</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-slate-900">
                        Offline‑first + видимое состояние синхронизации снижает тревожность и <span class="font-medium">дубли действий</span>.
                      </td>
                      <td class="px-4 py-3 text-slate-700">Больше доверия к системе; меньше повторных сканов.</td>
                      <td class="px-4 py-3 text-slate-700">Попытки дубля; ретраи sync_failed; глубина очереди.</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-slate-900">
                        Сессии «2 оператора» повышают справедливость KPI и координацию.
                      </td>
                      <td class="px-4 py-3 text-slate-700">Точная атрибуция; более гладкие передачи задач.</td>
                      <td class="px-4 py-3 text-slate-700">Покрытие partner_id; распределение времени/усилия; частота handoff.</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-slate-900">
                        Стандартизированные компоненты снижают время обучения и вариативность.
                      </td>
                      <td class="px-4 py-3 text-slate-700">Меньше «сюрпризов» UI; быстрее обучение.</td>
                      <td class="px-4 py-3 text-slate-700">Время до уверенной работы; использование подсказок.</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-slate-900">
                        Явные правила завершения + подтверждение расхождений уменьшают «тихие несовпадения».
                      </td>
                      <td class="px-4 py-3 text-slate-700">Меньше последующих исправлений.</td>
                      <td class="px-4 py-3 text-slate-700">% документов с расхождениями; доля повторных открытий.</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-slate-900">
                        Единый UX исключений («ошибка = сценарий») сокращает время решения.
                      </td>
                      <td class="px-4 py-3 text-slate-700">Быстрее восстановление; меньше обращений в поддержку.</td>
                      <td class="px-4 py-3 text-slate-700">Время «ошибка → решено»; повторяющиеся циклы ошибок.</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </section>

          <!-- 5) Системный дизайн и UX‑конституция -->
          <section id="constitution" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Системный дизайн и UX‑конституция</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">UX‑конституция (краткая спецификация)</h3>
                <ol class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li><span class="font-semibold">1. Сначала следующий шаг:</span> каждый экран формулирует следующий скан/действие.</li>
                  <li><span class="font-semibold">2. Одно решение на экран:</span> избегаем «плотных» множественных выборов.</li>
                  <li><span class="font-semibold">3. Непрерывность scan‑цикла:</span> после скана сразу показать результат + следующий шаг.</li>
                  <li><span class="font-semibold">4. Сохранение контекста:</span> документ/ячейка/маршрут держатся, пока не изменены явно.</li>
                  <li><span class="font-semibold">5. Офлайн по умолчанию:</span> каждое действие ставится в очередь; статус синхронизации видим.</li>
                  <li><span class="font-semibold">6. Ошибка = сценарий:</span> что произошло + как исправить; без обвинительного тона.</li>
                  <li><span class="font-semibold">7. Подтверждаем только риск:</span> подтверждения — для необратимых/дорогих действий.</li>
                  <li><span class="font-semibold">8. Предсказуемая навигация:</span> «назад» всегда возвращает в последний устойчивый контекст.</li>
                  <li><span class="font-semibold">9. Видимость прогресса:</span> показываем осталось/сделано и критерии завершения.</li>
                  <li><span class="font-semibold">10. Партнёр учитывается в дизайне:</span> режим двух операторов не добавляет шагов к базовым сканам.</li>
                  <li><span class="font-semibold">11. Телеметрия без трения:</span> события логируются незаметно; scan‑цикл не прерывается.</li>
                  <li><span class="font-semibold">12. Стандарты компонентов:</span> переиспользуем паттерны для снижения нагрузки.</li>
                </ol>
              </div>

              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Пирамида приоритета информации</h3>
                <p class="mt-2 text-sm leading-6 text-slate-700">
                  Скрываем снизу вверх. Если экран «перегружен» — первым убираем <span class="font-medium">Историю</span>.
                </p>
                <div class="mt-4 rounded-lg border border-slate-200 bg-slate-50 p-4">
                  <div class="flex items-center justify-between gap-3">
                    <p class="text-xs font-semibold tracking-wide text-slate-700">Порядок приоритетов</p>
                    <span class="text-xs font-medium text-slate-600">Сверху — всегда видно</span>
                  </div>
                  <svg viewBox="0 0 760 260" class="mt-3 h-auto w-full" role="img" aria-label="Пирамида приоритетов">
                    <defs>
                      <style>
                        .box {
                          fill: white;
                          stroke: #cbd5e1;
                          stroke-width: 2;
                          rx: 10;
                        }
                        .label {
                          font: 600 16px Inter, system-ui, sans-serif;
                          fill: #0f172a;
                        }
                        .muted {
                          font: 500 12px Inter, system-ui, sans-serif;
                          fill: #475569;
                        }
                        .accent {
                          stroke: #1d4ed8;
                          stroke-width: 2.5;
                        }
                      </style>
                    </defs>
                    <rect class="box accent" x="40" y="20" width="680" height="34"></rect>
                    <text class="label" x="60" y="43">Следующий шаг</text>
                    <text class="muted" x="630" y="43">всегда</text>

                    <rect class="box" x="80" y="62" width="600" height="34"></rect>
                    <text class="label" x="100" y="85">Сейчас</text>
                    <text class="muted" x="600" y="85">для действия</text>

                    <rect class="box" x="120" y="104" width="520" height="34"></rect>
                    <text class="label" x="140" y="127">Сделано</text>
                    <text class="muted" x="540" y="127">прогресс</text>

                    <rect class="box" x="160" y="146" width="440" height="34"></rect>
                    <text class="label" x="180" y="169">Контекст</text>
                    <text class="muted" x="480" y="169">минимум</text>

                    <rect class="box" x="200" y="188" width="360" height="34"></rect>
                    <text class="label" x="220" y="211">История</text>
                    <text class="muted" x="440" y="211">скрыть первой</text>

                    <text class="muted" x="40" y="246">Правило: если оператор «завис» — уменьши контекст прежде чем добавлять объяснения.</text>
                  </svg>
                </div>

                <div class="mt-5 rounded-lg border border-slate-200 bg-white p-4">
                  <h4 class="text-xs font-semibold tracking-wide text-slate-700">Библиотека переиспользуемых паттернов</h4>
                  <div class="mt-3 flex flex-wrap gap-2 text-xs">
                    <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-1">ActionHeader</span>
                    <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-1">ContextBar</span>
                    <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-1">ProgressChip</span>
                    <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-1">ScanZone</span>
                    <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-1">ErrorHint</span>
                    <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-1">ConfirmSheet</span>
                    <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-1">OfflineBadge</span>
                    <span class="rounded-full border border-slate-200 bg-slate-50 px-2 py-1">PartnerBadge</span>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <!-- 6) Сценарии -->
          <section id="flows" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Сценарии</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>
            <p class="mt-2 text-sm leading-6 text-slate-700">
              Каждый модуль выражен как scan‑цикл действий: запуск → список → документ → scan‑цикл → исключения → завершение.
              UX‑контракт одинаковый; меняются только предметные правила.
            </p>

            <!-- Общая легенда -->
            <div class="mt-4 rounded-xl border border-slate-200 bg-white p-6">
              <div class="grid gap-4 sm:grid-cols-3">
                <div>
                  <p class="text-xs font-semibold tracking-wide text-slate-600">СЛЕДУЮЩЕЕ / СЕЙЧАС / СДЕЛАНО</p>
                  <p class="mt-2 text-sm text-slate-700">
                    Единый порядок информации: следующий шаг сверху, затем текущие условия, затем прогресс.
                  </p>
                </div>
                <div>
                  <p class="text-xs font-semibold tracking-wide text-slate-600">ИСКЛЮЧЕНИЯ</p>
                  <p class="mt-2 text-sm text-slate-700">
                    Ошибка = сценарий: обнаружить → объяснить → дать путь восстановления.
                  </p>
                </div>
                <div>
                  <p class="text-xs font-semibold tracking-wide text-slate-600">OFFLINE‑FIRST</p>
                  <p class="mt-2 text-sm text-slate-700">
                    Любое действие по скану должно уходить в очередь; показываем офлайн‑статус и состояние очереди.
                  </p>
                </div>
              </div>
            </div>

            <!-- Шаблон для сценариев (ритм) -->
            <div class="mt-8 space-y-10">
              <!-- Приёмка -->
              <section id="flow-receiving" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
                <div class="flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between">
                  <div>
                    <h3 class="text-base font-semibold text-slate-900">Приёмка</h3>
                    <p class="mt-1 text-sm leading-6 text-slate-700">
                      Основной цикл: скан товара → увеличение факта (+1) → прогресс → завершение с подтверждением расхождений.
                    </p>
                  </div>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#flows" class="text-sm font-medium text-accent hover:underline">К сценариям</a>
                </div>

                <div class="mt-5 grid gap-6 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">A) Следующее / Сейчас / Сделано</h4>
                    <dl class="mt-3 space-y-2 text-sm text-slate-700">
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Следующее</dt>
                        <dd>Сканировать штрихкод товара</dd>
                      </div>
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Сейчас</dt>
                        <dd>Выбран документ поставки; текущая ожидаемая позиция; офлайн/синхронизация</dd>
                      </div>
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Сделано</dt>
                        <dd>Сколько обработано; сводка расхождений (ожидание vs факт)</dd>
                      </div>
                    </dl>
                  </div>

                  <div class="rounded-lg border border-slate-200 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">B) Путь оператора</h4>
                    <ol class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li><span class="font-semibold">Запуск</span> → выбрать модуль «Приёмка».</li>
                      <li><span class="font-semibold">Список</span> → открыть документ поставки (поиск/фильтр допустимы).</li>
                      <li><span class="font-semibold">Документ</span> → в `ActionHeader` видно «Сканируйте штрихкод товара».</li>
                      <li><span class="font-semibold">Scan‑цикл</span> → скан товара → сопоставление со строкой → факт +1 → следующий ожидаемый.</li>
                      <li><span class="font-semibold">Исключения</span> → неизвестный ШК / перебор / не та строка → действие восстановления.</li>
                      <li><span class="font-semibold">Завершение</span> → подтвердить расхождения (если есть) → завершить → синхронизация через очередь.</li>
                    </ol>
                  </div>
                </div>

                <div class="mt-6 grid gap-6 lg:grid-cols-2">
                  <div class="overflow-hidden rounded-lg border border-slate-200">
                    <div class="bg-slate-50 px-4 py-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">C) Ошибки и реакция системы</h4>
                    </div>
                    <div class="overflow-x-auto">
                      <table class="min-w-full text-left text-sm">
                        <thead class="bg-white text-xs font-semibold text-slate-700">
                          <tr>
                            <th class="px-4 py-3">Сценарий</th>
                            <th class="px-4 py-3">Реакция системы</th>
                          </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200">
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Штрихкод не найден в документе</td>
                            <td class="px-4 py-3 text-slate-700">`ErrorHint`: «Нет в этой поставке» + действия: поиск в других документах / ручное добавление (если разрешено).</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Перебор (факт &gt; ожидание)</td>
                            <td class="px-4 py-3 text-slate-700">Предупреждение + подтверждение для продолжения; фиксация в расхождениях.</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Пачка дублей скана</td>
                            <td class="px-4 py-3 text-slate-700">Debounce‑окно; чип «Уже учтено»; без дополнительного +1.</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Офлайн во время работы</td>
                            <td class="px-4 py-3 text-slate-700">`OfflineBadge` + счётчик очереди; продолжаем сканы; синхронизируем позже.</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>

                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">D) Правила завершения</h4>
                    <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li>- Завершение доступно только по явному действию «Завершить».</li>
                      <li>- Если есть расхождения (недобор/перебор) — показать сводку и запросить подтверждение.</li>
                      <li>- После завершения документ становится только для чтения; изменения требуют политики «переоткрытия» (вне объёма).</li>
                      <li>- Результат синхронизации должен быть видимым: synced / queued / failed (retry).</li>
                    </ul>

                    <div class="mt-4 rounded-md border border-accent-200 bg-white p-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">E) Критично для offline‑first</h4>
                      <p class="mt-2 text-sm leading-6 text-slate-700">
                        События сканов и инкременты факта должны сохраняться локально и уходить в очередь. Подтверждение завершения тоже
                        должно ставиться в очередь и показывать «завершение в очереди» до синка.
                      </p>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Размещение -->
              <section id="flow-placement" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
                <div class="flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between">
                  <div>
                    <h3 class="text-base font-semibold text-slate-900">Размещение</h3>
                    <p class="mt-1 text-sm leading-6 text-slate-700">
                      Основной цикл: скан ячейки → скан товара → размещение в текущую ячейку; ячейка «держится», пока не отсканирована новая.
                    </p>
                  </div>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#flows" class="text-sm font-medium text-accent hover:underline">К сценариям</a>
                </div>

                <div class="mt-5 grid gap-6 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">A) Следующее / Сейчас / Сделано</h4>
                    <dl class="mt-3 space-y-2 text-sm text-slate-700">
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Следующее</dt>
                        <dd>Сканировать ячейку (если не выбрана) или сканировать товар</dd>
                      </div>
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Сейчас</dt>
                        <dd>Текущая ячейка (липкая); выбран документ/задача; офлайн/синк</dd>
                      </div>
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Сделано</dt>
                        <dd>Сколько размещено; сколько осталось (если есть план/документ)</dd>
                      </div>
                    </dl>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">B) Путь оператора</h4>
                    <ol class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li><span class="font-semibold">Запуск</span> → «Размещение».</li>
                      <li><span class="font-semibold">Список</span> → выбрать задачу/документ (если применимо).</li>
                      <li><span class="font-semibold">Документ</span> → `ContextBar` показывает текущую ячейку (сначала пусто).</li>
                      <li><span class="font-semibold">Scan‑цикл</span> → скан ячейки → ячейка становится текущей → скан товара → запись размещения → повтор.</li>
                      <li><span class="font-semibold">Смена ячейки</span> → в любой момент отсканировать новую ячейку; без меню.</li>
                      <li><span class="font-semibold">Завершение</span> → завершить задачу; подтвердить расхождения (если нужно).</li>
                    </ol>
                  </div>
                </div>

                <div class="mt-6 grid gap-6 lg:grid-cols-2">
                  <div class="overflow-hidden rounded-lg border border-slate-200">
                    <div class="bg-slate-50 px-4 py-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">C) Ошибки и реакция системы</h4>
                    </div>
                    <div class="overflow-x-auto">
                      <table class="min-w-full text-left text-sm">
                        <thead class="bg-white text-xs font-semibold text-slate-700">
                          <tr>
                            <th class="px-4 py-3">Сценарий</th>
                            <th class="px-4 py-3">Реакция системы</th>
                          </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200">
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Товар отсканирован до выбора ячейки</td>
                            <td class="px-4 py-3 text-slate-700">Блок: «Сначала отсканируйте ячейку»; фокус остаётся в `ScanZone`.</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Неверный штрихкод ячейки</td>
                            <td class="px-4 py-3 text-slate-700">`ErrorHint` + быстрый повтор; ручной ввод ячейки (если разрешено).</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Товар не входит в задачу размещения</td>
                            <td class="px-4 py-3 text-slate-700">Предупреждение; действия: «сменить задачу» или «добавить исключение» (по политике).</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Офлайн, очередь растёт</td>
                            <td class="px-4 py-3 text-slate-700">Показывать размер очереди + «синхронизируем при сети»; продолжать работу.</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>

                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">D) Правила завершения</h4>
                    <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li>- Завершение возможно только из «устойчивого» состояния (без ожидания подтверждений).</li>
                      <li>- Если по задаче ожидаются количества — расхождения нужно подтвердить.</li>
                      <li>- Контекст ячейки сохраняется между сканами; очистка ячейки — отдельное явное действие.</li>
                    </ul>
                    <div class="mt-4 rounded-md border border-accent-200 bg-white p-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">E) Критично для offline‑first</h4>
                      <p class="mt-2 text-sm leading-6 text-slate-700">
                        События размещения пишутся локально вместе с текущей ячейкой и временем. Смена текущей ячейки тоже логируется —
                        чтобы сохранить аудит при синхронизации.
                      </p>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Подбор -->
              <section id="flow-picking" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
                <div class="flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between">
                  <div>
                    <h3 class="text-base font-semibold text-slate-900">Подбор</h3>
                    <p class="mt-1 text-sm leading-6 text-slate-700">
                      Основной цикл: подбор с учётом маршрута и проверкой по скану. Скан ячейки → скан товара; предупреждение при нарушении порядка.
                    </p>
                  </div>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#flows" class="text-sm font-medium text-accent hover:underline">К сценариям</a>
                </div>

                <div class="mt-5 grid gap-6 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">A) Следующее / Сейчас / Сделано</h4>
                    <dl class="mt-3 space-y-2 text-sm text-slate-700">
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Следующее</dt>
                        <dd>Сканировать ячейку (ожидаемую по маршруту), затем сканировать товар</dd>
                      </div>
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Сейчас</dt>
                        <dd>Текущий шаг маршрута; ожидаемый SKU; текущая ячейка</dd>
                      </div>
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Сделано</dt>
                        <dd>Собрано строк; осталось строк; сводка расхождений</dd>
                      </div>
                    </dl>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">B) Путь оператора</h4>
                    <ol class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li><span class="font-semibold">Запуск</span> → «Подбор».</li>
                      <li><span class="font-semibold">Список</span> → выбрать заказ/пакет.</li>
                      <li><span class="font-semibold">Документ</span> → `ActionHeader`: «Сканируйте ячейку» (шаг маршрута).</li>
                      <li><span class="font-semibold">Scan‑цикл</span> → скан ячейки → проверка шага → скан товара → подтверждение строки.</li>
                      <li><span class="font-semibold">Исключения</span> → не та ячейка, не тот SKU, попытка вне порядка → предупреждение + восстановление.</li>
                      <li><span class="font-semibold">Завершение</span> → подтвердить расхождения → завершить → синк через очередь.</li>
                    </ol>
                  </div>
                </div>

                <div class="mt-6 grid gap-6 lg:grid-cols-2">
                  <div class="overflow-hidden rounded-lg border border-slate-200">
                    <div class="bg-slate-50 px-4 py-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">C) Ошибки и реакция системы</h4>
                    </div>
                    <div class="overflow-x-auto">
                      <table class="min-w-full text-left text-sm">
                        <thead class="bg-white text-xs font-semibold text-slate-700">
                          <tr>
                            <th class="px-4 py-3">Сценарий</th>
                            <th class="px-4 py-3">Реакция системы</th>
                          </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200">
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Отсканирована ячейка ≠ ожидаемой по маршруту</td>
                            <td class="px-4 py-3 text-slate-700">Предупреждение: «Вне порядка маршрута» + override, если разрешено политикой.</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Товар не соответствует ожидаемой строке</td>
                            <td class="px-4 py-3 text-slate-700">Блок + показать ожидаемый SKU; действие «найти правильную строку».</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Недобор (нет остатка)</td>
                            <td class="px-4 py-3 text-slate-700">Путь исключения: указать причину; сохранить корректный прогресс документа.</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Офлайн посреди маршрута</td>
                            <td class="px-4 py-3 text-slate-700">Продолжать; сканы в очередь; показать офлайн‑статус; синк обновлений маршрута — позже.</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>

                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">D) Правила завершения</h4>
                    <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li>- Завершение возможно, когда все строки закрыты: подобраны или отмечены как исключения.</li>
                      <li>- Если количество отличается от ожидания — сводка расхождений + подтверждение.</li>
                      <li>- События «вне порядка» логируются (телеметрия), даже если override разрешён.</li>
                    </ul>
                    <div class="mt-4 rounded-md border border-accent-200 bg-white p-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">E) Критично для offline‑first</h4>
                      <p class="mt-2 text-sm leading-6 text-slate-700">
                        Шаг маршрута и закрытие строк должны восстанавливаться локально. Если онлайн‑состояние позже отличается — конфликт синка
                        решается проигрыванием событий (валидирует сервер).
                      </p>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Отгрузка -->
              <section id="flow-shipping" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
                <div class="flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between">
                  <div>
                    <h3 class="text-base font-semibold text-slate-900">Отгрузка</h3>
                    <p class="mt-1 text-sm leading-6 text-slate-700">
                      Финальный контроль: строгие проверки в конце цепочки. Скан товара/короба; подтверждение расхождений обязательно.
                    </p>
                  </div>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#flows" class="text-sm font-medium text-accent hover:underline">К сценариям</a>
                </div>

                <div class="mt-5 grid gap-6 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">A) Следующее / Сейчас / Сделано</h4>
                    <dl class="mt-3 space-y-2 text-sm text-slate-700">
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Следующее</dt>
                        <dd>Сканировать короб/упаковку или сканировать товар для контроля</dd>
                      </div>
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Сейчас</dt>
                        <dd>Документ отгрузки; ожидаемое содержимое; строгая валидация</dd>
                      </div>
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Сделано</dt>
                        <dd>Проверено; расхождения; готовность закрыть отгрузку</dd>
                      </div>
                    </dl>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">B) Путь оператора</h4>
                    <ol class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li><span class="font-semibold">Запуск</span> → «Отгрузка».</li>
                      <li><span class="font-semibold">Список</span> → выбрать документ отгрузки.</li>
                      <li><span class="font-semibold">Документ</span> → строгий `ActionHeader`: «Сканируйте товар/короб для контроля».</li>
                      <li><span class="font-semibold">Scan‑цикл</span> → скан id короба (опционально) → скан товара → проверка по списку.</li>
                      <li><span class="font-semibold">Исключения</span> → неожиданный товар, недостача, дубли скана.</li>
                      <li><span class="font-semibold">Завершение</span> → подтвердить расхождения → закрыть отгрузку → синк.</li>
                    </ol>
                  </div>
                </div>

                <div class="mt-6 grid gap-6 lg:grid-cols-2">
                  <div class="overflow-hidden rounded-lg border border-slate-200">
                    <div class="bg-slate-50 px-4 py-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">C) Ошибки и реакция системы</h4>
                    </div>
                    <div class="overflow-x-auto">
                      <table class="min-w-full text-left text-sm">
                        <thead class="bg-white text-xs font-semibold text-slate-700">
                          <tr>
                            <th class="px-4 py-3">Сценарий</th>
                            <th class="px-4 py-3">Реакция системы</th>
                          </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200">
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Неожиданный товар</td>
                            <td class="px-4 py-3 text-slate-700">Блок + показать несовпадение; требуется менеджер/override (по политике).</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Недостача ожидаемой позиции</td>
                            <td class="px-4 py-3 text-slate-700">Завершение требует подтверждения; показываем явный список недостачи.</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Неверный id короба или короб не привязан</td>
                            <td class="px-4 py-3 text-slate-700">`ErrorHint` + действия: привязать / сменить короб / продолжить без короба.</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Офлайн при закрытии</td>
                            <td class="px-4 py-3 text-slate-700">Разрешить «закрытие в очереди» со статусом; защитить от двойного закрытия.</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>

                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">D) Правила завершения</h4>
                    <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li>- Строгие проверки: отгрузка не закрывается «тихо» при несоответствиях.</li>
                      <li>- Подтверждение расхождений обязательно, если ожидание ≠ факт.</li>
                      <li>- После закрытия документ блокируется; результат синка показывается явно.</li>
                    </ul>
                    <div class="mt-4 rounded-md border border-accent-200 bg-white p-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">E) Критично для offline‑first</h4>
                      <p class="mt-2 text-sm leading-6 text-slate-700">
                        Закрытие — высокорисковая операция: нужна идемпотентность. Команду «закрыть отгрузку» ставим в очередь с уникальным
                        operation id, чтобы избежать дублей при ретраях.
                      </p>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Возврат и списание -->
              <section id="flow-returns" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
                <div class="flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between">
                  <div>
                    <h3 class="text-base font-semibold text-slate-900">Возврат и списание</h3>
                    <p class="mt-1 text-sm leading-6 text-slate-700">
                      Операции с высоким числом исключений: причина обязательна; критические действия требуют явного подтверждения.
                    </p>
                  </div>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#flows" class="text-sm font-medium text-accent hover:underline">К сценариям</a>
                </div>

                <div class="mt-5 grid gap-6 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">A) Следующее / Сейчас / Сделано</h4>
                    <dl class="mt-3 space-y-2 text-sm text-slate-700">
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Следующее</dt>
                        <dd>Сканировать товар → выбрать причину → подтвердить действие</dd>
                      </div>
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Сейчас</dt>
                        <dd>Тип операции (возврат/списание); выбранная причина; офлайн/синк</dd>
                      </div>
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Сделано</dt>
                        <dd>Сколько записано; распределение по причинам</dd>
                      </div>
                    </dl>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">B) Путь оператора</h4>
                    <ol class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li><span class="font-semibold">Запуск</span> → «Возврат/Списание».</li>
                      <li><span class="font-semibold">Список</span> → выбрать документ/задачу (если есть), иначе создать сессию.</li>
                      <li><span class="font-semibold">Документ</span> → `ActionHeader`: «Сканируйте товар».</li>
                      <li><span class="font-semibold">Scan‑цикл</span> → скан ШК → система идентифицирует товар → выбор причины.</li>
                      <li><span class="font-semibold">Исключения</span> → неизвестный товар / запрет операции → блок + подсказка.</li>
                      <li><span class="font-semibold">Завершение</span> → подтвердить критичные итоги списания → завершить → синк.</li>
                    </ol>
                  </div>
                </div>

                <div class="mt-6 grid gap-6 lg:grid-cols-2">
                  <div class="overflow-hidden rounded-lg border border-slate-200">
                    <div class="bg-slate-50 px-4 py-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">C) Ошибки и реакция системы</h4>
                    </div>
                    <div class="overflow-x-auto">
                      <table class="min-w-full text-left text-sm">
                        <thead class="bg-white text-xs font-semibold text-slate-700">
                          <tr>
                            <th class="px-4 py-3">Сценарий</th>
                            <th class="px-4 py-3">Реакция системы</th>
                          </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200">
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Причина не выбрана</td>
                            <td class="px-4 py-3 text-slate-700">Блок продолжения; обязательный выбор причины (крупные цели для тача).</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Ограниченное действие списания</td>
                            <td class="px-4 py-3 text-slate-700">`ConfirmSheet` с ролью/override (по политике).</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Офлайн, список причин не закэширован</td>
                            <td class="px-4 py-3 text-slate-700">Использовать кэш; если нет — ограниченный набор + очередь с флагом.</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>

                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">D) Правила завершения</h4>
                    <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li>- Причина обязательна на позицию или на пакет (по политике).</li>
                      <li>- Списание требует подтверждения итогов и распределения по причинам.</li>
                      <li>- Завершение создаёт аудируемую запись: оператор + партнёр.</li>
                    </ul>
                    <div class="mt-4 rounded-md border border-accent-200 bg-white p-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">E) Критично для offline‑first</h4>
                      <p class="mt-2 text-sm leading-6 text-slate-700">
                        Выбор причины обязан работать офлайн. Очередь хранит пары товар+причина; ретраи идемпотентны, чтобы не создавать дубли.
                      </p>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Инвентаризация -->
              <section id="flow-inventory" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
                <div class="flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between">
                  <div>
                    <h3 class="text-base font-semibold text-slate-900">Инвентаризация</h3>
                    <p class="mt-1 text-sm leading-6 text-slate-700">
                      Подсчёт «от ячейки». Опциональный слепой режим. Быстрые действия для счёта; обработка расхождений и пересчёт.
                    </p>
                  </div>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#flows" class="text-sm font-medium text-accent hover:underline">К сценариям</a>
                </div>

                <div class="mt-5 grid gap-6 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">A) Следующее / Сейчас / Сделано</h4>
                    <dl class="mt-3 space-y-2 text-sm text-slate-700">
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Следующее</dt>
                        <dd>Сканировать ячейку → сканировать позиции / ввести количество</dd>
                      </div>
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Сейчас</dt>
                        <dd>Текущая ячейка; режим (слепой/с подсказками); результат последнего скана</dd>
                      </div>
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Сделано</dt>
                        <dd>Что посчитано в ячейке; статус закрытия ячейки; флаги расхождений</dd>
                      </div>
                    </dl>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">B) Путь оператора</h4>
                    <ol class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li><span class="font-semibold">Запуск</span> → «Инвентаризация».</li>
                      <li><span class="font-semibold">Список</span> → выбрать сессию/план.</li>
                      <li><span class="font-semibold">Ячейка</span> → скан ячейки; `ContextBar` закрепляет ячейку.</li>
                      <li><span class="font-semibold">Scan‑цикл</span> → скан позиций и счёт; быстрые +1/+5 при необходимости.</li>
                      <li><span class="font-semibold">Расхождение</span> → сравнение с ожиданием (в подсказочном режиме) → пометка расхождения.</li>
                      <li><span class="font-semibold">Пересчёт</span> → явное действие пересчёта по ячейке.</li>
                      <li><span class="font-semibold">Завершение</span> → закрыть ячейку → перейти к следующей; закрыть сессию по готовности.</li>
                    </ol>
                  </div>
                </div>

                <div class="mt-6 grid gap-6 lg:grid-cols-2">
                  <div class="overflow-hidden rounded-lg border border-slate-200">
                    <div class="bg-slate-50 px-4 py-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">C) Ошибки и реакция системы</h4>
                    </div>
                    <div class="overflow-x-auto">
                      <table class="min-w-full text-left text-sm">
                        <thead class="bg-white text-xs font-semibold text-slate-700">
                          <tr>
                            <th class="px-4 py-3">Сценарий</th>
                            <th class="px-4 py-3">Реакция системы</th>
                          </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200">
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Позиция отсканирована без выбранной ячейки</td>
                            <td class="px-4 py-3 text-slate-700">Блок и запрос «Сканируйте ячейку»; фокус на вводе.</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Слепой режим: ожидание подсказок от системы</td>
                            <td class="px-4 py-3 text-slate-700">Ожидаемого списка нет; показываем только посчитанное и прогресс.</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Обнаружено большое расхождение</td>
                            <td class="px-4 py-3 text-slate-700">Флаг ячейки; предложить пересчёт; подтверждение при закрытии.</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Офлайн во время счёта</td>
                            <td class="px-4 py-3 text-slate-700">Продолжать; события счёта в очередь; показать офлайн‑статус.</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>

                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">D) Completion rules</h4>
                    <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li>- A cell can be closed only after explicit “Finish cell”.</li>
                      <li>- Discrepancies must be acknowledged (confirm) when finishing cell/session.</li>
                      <li>- Re-count is explicit and creates a new counting attempt (audit trail).</li>
                    </ul>
                    <div class="mt-4 rounded-md border border-accent-200 bg-white p-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">E) Критично для offline‑first</h4>
                      <p class="mt-2 text-sm leading-6 text-slate-700">
                        Инвентаризация не должна останавливаться в офлайне. Каждое событие счёта хранится локально с `cell_id`; при синке события
                        проигрываются для детерминированного расчёта итогов.
                      </p>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Штрихкоды и этикетки -->
              <section id="flow-labels" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
                <div class="flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between">
                  <div>
                    <h3 class="text-base font-semibold text-slate-900">
                      Штрихкоды и печать этикеток
                    </h3>
                    <p class="mt-1 text-sm leading-6 text-slate-700">
                      Привязка штрихкодов с проверкой уникальности, затем печать с выбором шаблона; при необходимости — офлайн‑очередь печати.
                    </p>
                  </div>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#flows" class="text-sm font-medium text-accent hover:underline">К сценариям</a>
                </div>

                <div class="mt-5 grid gap-6 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">A) Следующее / Сейчас / Сделано</h4>
                    <dl class="mt-3 space-y-2 text-sm text-slate-700">
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Следующее</dt>
                        <dd>Сканировать товар → привязать ШК / выбрать шаблон → печать</dd>
                      </div>
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Сейчас</dt>
                        <dd>Выбран SKU; текущий ШК; статус принтера; офлайн/синк</dd>
                      </div>
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Сделано</dt>
                        <dd>Сколько ШК привязано; задания печати в очереди/отправлено</dd>
                      </div>
                    </dl>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">B) Путь оператора</h4>
                    <ol class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li><span class="font-semibold">Запуск</span> → «Штрихкоды и этикетки».</li>
                      <li><span class="font-semibold">Список</span> → опциональный поиск по SKU/названию.</li>
                      <li><span class="font-semibold">Позиция</span> → открыть карточку; `ActionHeader`: «Сканируйте ШК для привязки».</li>
                      <li><span class="font-semibold">Scan‑цикл</span> → скан ШК → проверка уникальности → привязка.</li>
                      <li><span class="font-semibold">Печать</span> → выбрать шаблон → подтвердить количество → печать (или очередь офлайн).</li>
                      <li><span class="font-semibold">Завершение</span> → выход; операции логируются незаметно.</li>
                    </ol>
                  </div>
                </div>

                <div class="mt-6 grid gap-6 lg:grid-cols-2">
                  <div class="overflow-hidden rounded-lg border border-slate-200">
                    <div class="bg-slate-50 px-4 py-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">C) Ошибки и реакция системы</h4>
                    </div>
                    <div class="overflow-x-auto">
                      <table class="min-w-full text-left text-sm">
                        <thead class="bg-white text-xs font-semibold text-slate-700">
                          <tr>
                            <th class="px-4 py-3">Сценарий</th>
                            <th class="px-4 py-3">Реакция системы</th>
                          </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200">
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Штрихкод уже привязан в другом месте</td>
                            <td class="px-4 py-3 text-slate-700">Блок + показать куда привязан; действие «запросить отвязку» (по политике).</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Принтер недоступен</td>
                            <td class="px-4 py-3 text-slate-700">Показать статус; разрешить очередь печати; повтор при доступности.</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Офлайн во время привязки</td>
                            <td class="px-4 py-3 text-slate-700">Поставить привязку в очередь; пометить как «ожидает валидации» до синка.</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>

                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">D) Правила завершения</h4>
                    <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li>- Привязка требует проверки уникальности (сразу онлайн или отложенно в офлайне).</li>
                      <li>- Печать требует явного выбора шаблона и подтверждения количества.</li>
                      <li>- В офлайне: либо очередь печати, либо блок (зависит от модели подключения принтера).</li>
                    </ul>
                    <div class="mt-4 rounded-md border border-accent-200 bg-white p-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">E) Критично для offline‑first</h4>
                      <p class="mt-2 text-sm leading-6 text-slate-700">
                        Проверка уникальности рискованна в офлайне. Привязки помечаем как pending и сверяем при синке; при конфликте создаём задачу
                        на разбор позже (не ломаем scan‑цикл «здесь и сейчас»).
                      </p>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Настройки -->
              <section id="flow-settings" class="rounded-xl border border-slate-200 bg-white p-6 sm:p-8">
                <div class="flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between">
                  <div>
                    <h3 class="text-base font-semibold text-slate-900">Настройки</h3>
                    <p class="mt-1 text-sm leading-6 text-slate-700">
                      Конфигурация для операционной стабильности: соединение, режим сканера, обратная связь, синхронизация, режим партнёра, диагностика.
                    </p>
                  </div>
                  <a href="file:///O:/Dev/portfolio-2026/sklad.html#flows" class="text-sm font-medium text-accent hover:underline">К сценариям</a>
                </div>

                <div class="mt-5 grid gap-6 lg:grid-cols-2">
                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">A) Следующее / Сейчас / Сделано</h4>
                    <dl class="mt-3 space-y-2 text-sm text-slate-700">
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Следующее</dt>
                        <dd>Выбрать раздел → применить изменение</dd>
                      </div>
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Сейчас</dt>
                        <dd>Состояние соединения; режим сканера; состояние очереди синка</dd>
                      </div>
                      <div class="flex gap-2">
                        <dt class="w-20 shrink-0 font-semibold text-slate-900">Сделано</dt>
                        <dd>Сохранённая конфигурация + снимок диагностики</dd>
                      </div>
                    </dl>
                  </div>
                  <div class="rounded-lg border border-slate-200 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">B) Путь оператора</h4>
                    <ol class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li><span class="font-semibold">Открыть</span> → «Настройки».</li>
                      <li><span class="font-semibold">Соединение</span> → endpoint/учётные данные; показать ping и последний синк.</li>
                      <li><span class="font-semibold">Режим сканера</span> → «клавиатурный» поток vs ручной ввод; debounce.</li>
                      <li><span class="font-semibold">Обратная связь</span> → звук/вибрация (учёт складского шума).</li>
                      <li><span class="font-semibold">Синхронизация</span> → статус очереди; ретрай failed; очистка кэша (только безопасные действия).</li>
                      <li><span class="font-semibold">Режим партнёра</span> → вкл/выкл; способ привязки; превью атрибуции.</li>
                      <li><span class="font-semibold">Диагностика</span> → экспорт логов (админ); счётчик офлайн‑событий.</li>
                    </ol>
                  </div>
                </div>

                <div class="mt-6 grid gap-6 lg:grid-cols-2">
                  <div class="overflow-hidden rounded-lg border border-slate-200">
                    <div class="bg-slate-50 px-4 py-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">C) Ошибки и реакция системы</h4>
                    </div>
                    <div class="overflow-x-auto">
                      <table class="min-w-full text-left text-sm">
                        <thead class="bg-white text-xs font-semibold text-slate-700">
                          <tr>
                            <th class="px-4 py-3">Сценарий</th>
                            <th class="px-4 py-3">Реакция системы</th>
                          </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200">
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Неверный endpoint / ошибка авторизации</td>
                            <td class="px-4 py-3 text-slate-700">Пояснить + безопасный повтор; офлайн‑режим остаётся доступным.</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Очередь «зависла» (sync_failed)</td>
                            <td class="px-4 py-3 text-slate-700">Показать ошибочные элементы; ретрай с backoff; экспорт диагностики.</td>
                          </tr>
                          <tr>
                            <td class="px-4 py-3 text-slate-900">Неверно настроен режим сканера</td>
                            <td class="px-4 py-3 text-slate-700">Интерактивное тест‑поле ввода для проверки поведения сканера.</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>

                  <div class="rounded-lg border border-slate-200 bg-slate-50 p-4">
                    <h4 class="text-xs font-semibold tracking-wide text-slate-700">D) Правила завершения</h4>
                    <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                      <li>- Изменения настроек должны применяться сразу и быть обратимыми.</li>
                      <li>- Рисковые действия (очистка кэша, сброс) требуют `ConfirmSheet` и пояснения последствий.</li>
                      <li>- Диагностика по умолчанию не показывает телеметрию оператору (только админ).</li>
                    </ul>
                    <div class="mt-4 rounded-md border border-accent-200 bg-white p-3">
                      <h4 class="text-xs font-semibold tracking-wide text-slate-700">E) Критично для offline‑first</h4>
                      <p class="mt-2 text-sm leading-6 text-slate-700">
                        В офлайне критичны управление синком и видимость очереди. Пользователь всегда должен понимать: система записывает действия и
                        синхронизирует их позже.
                      </p>
                    </div>
                  </div>
                </div>
              </section>
            </div>
          </section>

          <!-- 7) Метрики и план измерений -->
          <section id="metrics" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Метрики и план измерений</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="text-sm font-medium text-accent hover:underline">Наверх</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Список метрик (идентификаторы)</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li>- <span class="font-mono text-xs">Avg receiving time per delivery</span> — среднее время приёмки на поставку</li>
                  <li>- <span class="font-mono text-xs">Avg picking time per order</span> — среднее время подбора на заказ</li>
                  <li>- <span class="font-mono text-xs">% picking errors</span> — доля ошибок подбора</li>
                  <li>- <span class="font-mono text-xs">% inventory discrepancies</span> — доля расхождений инвентаризации</li>
                  <li>- <span class="font-mono text-xs">receiving x minutes per y items</span> — приёмка: x минут на y единиц</li>
                  <li>- <span class="font-mono text-xs">picking x minutes per y lines</span> — подбор: x минут на y строк</li>
                  <li>- <span class="font-mono text-xs">inventory x minutes per y cells</span> — инвентаризация: x минут на y ячеек</li>
                </ul>

                <div class="mt-5 rounded-lg border border-slate-200 bg-slate-50 p-4">
                  <h4 class="text-xs font-semibold tracking-wide text-slate-700">«Невидимая» телеметрия</h4>
                  <p class="mt-2 text-sm leading-6 text-slate-700">
                    Телеметрия обязательна, но <span class="font-semibold">не показывается операторам</span>. UX остаётся action‑first; измерение —
                    пассивное и надёжное.
                  </p>
                </div>
              </div>

              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Критерии проверки</h3>
                <div class="mt-3 rounded-lg border border-accent-200 bg-accent-50 p-4 text-sm leading-6 text-slate-800">
                  <ul class="space-y-2">
                    <li>- Время на строку (подбор): сравнение по протоколу между версиями.</li>
                    <li>- Время на поставку (приёмка): сравнение по протоколу между версиями.</li>
                    <li>- Ошибки подбора: сравнение по протоколу между версиями.</li>
                    <li>- Расхождения инвентаризации: сравнение по протоколу между версиями.</li>
                    <li>- Время до уверенной работы: сравнение по протоколу между версиями.</li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="mt-6 overflow-hidden rounded-xl border border-slate-200 bg-white">
              <div class="border-b border-slate-200 bg-slate-50 px-6 py-4">
                <h3 class="text-sm font-semibold text-slate-900">Таблица инструментирования событий</h3>
                <p class="mt-1 text-sm leading-6 text-slate-700">
                  Схема событий поддерживает расчёт KPI по модулям и офлайн‑согласование.
                </p>
              </div>
              <div class="overflow-x-auto">
                <table class="min-w-full text-left text-sm">
                  <thead class="bg-white text-xs font-semibold tracking-wide text-slate-700">
                    <tr>
                      <th class="px-4 py-3">Событие</th>
                      <th class="px-4 py-3">Когда пишем</th>
                      <th class="px-4 py-3">Свойства</th>
                    </tr>
                  </thead>
                  <tbody class="divide-y divide-slate-200">
                    <tr>
                      <td class="px-4 py-3 text-slate-900">module_open</td>
                      <td class="px-4 py-3 text-slate-700">При входе в модуль</td>
                      <td class="px-4 py-3 font-mono text-xs text-slate-700">operator_id, partner_id, module, timestamp, offline_state</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-slate-900">doc_open</td>
                      <td class="px-4 py-3 text-slate-700">При открытии документа/задачи</td>
                      <td class="px-4 py-3 font-mono text-xs text-slate-700">operator_id, partner_id, doc_id, module, timestamp, offline_state</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-slate-900">scan_attempt</td>
                      <td class="px-4 py-3 text-slate-700">Каждая попытка скана</td>
                      <td class="px-4 py-3 font-mono text-xs text-slate-700">operator_id, partner_id, doc_id, module, timestamp, offline_state</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-slate-900">scan_accepted</td>
                      <td class="px-4 py-3 text-slate-700">Скан принят и применён</td>
                      <td class="px-4 py-3 font-mono text-xs text-slate-700">operator_id, partner_id, doc_id, module, timestamp, offline_state</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-slate-900">exception_triggered</td>
                      <td class="px-4 py-3 text-slate-700">При несовпадении/блокирующем сценарии</td>
                      <td class="px-4 py-3 font-mono text-xs text-slate-700">operator_id, partner_id, doc_id, module, timestamp, offline_state</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-slate-900">doc_complete</td>
                      <td class="px-4 py-3 text-slate-700">Когда оператор завершает документ</td>
                      <td class="px-4 py-3 font-mono text-xs text-slate-700">operator_id, partner_id, doc_id, module, timestamp, offline_state</td>
                    </tr>
                    <tr>
                      <td class="px-4 py-3 text-slate-900">sync_state_change</td>
                      <td class="px-4 py-3 text-slate-700">Queued → synced / failed</td>
                      <td class="px-4 py-3 font-mono text-xs text-slate-700">operator_id, partner_id, doc_id, module, timestamp, offline_state</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </section>

          <!-- 8) Iterations -->
          <section id="iterations" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Iterations</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>

            <div class="mt-4 rounded-xl border border-slate-200 bg-white p-6">
              <ol class="relative ml-3 space-y-6 border-l border-slate-200 pl-6">
                <li class="relative">
                  <span class="absolute -left-[9px] top-1.5 h-4 w-4 rounded-full border border-slate-300 bg-white"></span>
                  <p class="text-sm font-semibold text-slate-900">v0 — doc lists only</p>
                  <p class="mt-1 text-sm leading-6 text-slate-700">Problem: lists without actions; operators still ask “what next?”.</p>
                </li>
                <li class="relative">
                  <span class="absolute -left-[9px] top-1.5 h-4 w-4 rounded-full border border-slate-300 bg-white"></span>
                  <p class="text-sm font-semibold text-slate-900">v1 — action-driven scan loop screens</p>
                  <p class="mt-1 text-sm leading-6 text-slate-700">Introduce ActionHeader + ScanZone; one decision per screen.</p>
                </li>
                <li class="relative">
                  <span class="absolute -left-[9px] top-1.5 h-4 w-4 rounded-full border border-slate-300 bg-white"></span>
                  <p class="text-sm font-semibold text-slate-900">v2 — standardized components + navigation model</p>
                  <p class="mt-1 text-sm leading-6 text-slate-700">Reusable patterns library; context-preserving back behavior.</p>
                </li>
                <li class="relative">
                  <span class="absolute -left-[9px] top-1.5 h-4 w-4 rounded-full border border-slate-300 bg-white"></span>
                  <p class="text-sm font-semibold text-slate-900">v3 — offline sync indicators + queue</p>
                  <p class="mt-1 text-sm leading-6 text-slate-700">Visible OfflineBadge; queue depth; retry rules; idempotent operations.</p>
                </li>
                <li class="relative">
                  <span class="absolute -left-[9px] top-1.5 h-4 w-4 rounded-full border border-slate-300 bg-white"></span>
                  <p class="text-sm font-semibold text-slate-900">v4 — two-operator sessions</p>
                  <p class="mt-1 text-sm leading-6 text-slate-700">PartnerBadge + attribution; reduce KPI conflicts; support handoffs.</p>
                </li>
                <li class="relative">
                  <span class="absolute -left-[9px] top-1.5 h-4 w-4 rounded-full border border-slate-300 bg-white"></span>
                  <p class="text-sm font-semibold text-slate-900">v5 — production hardening</p>
                  <p class="mt-1 text-sm leading-6 text-slate-700">Performance, error taxonomy, diagnostics, and resilience to bad scans.</p>
                </li>
              </ol>
            </div>
          </section>

          <!-- 9) Testing Strategy -->
          <section id="testing" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Testing Strategy</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Module scenarios (smoke + edge cases)</h3>
                <div class="mt-3 space-y-5 text-sm text-slate-700">
                  <div>
                    <p class="text-xs font-semibold tracking-wide text-slate-600">Receiving</p>
                    <ul class="mt-2 space-y-2">
                      <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Happy path: scan goods → fact+1 → complete.</li>
                      <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Unknown barcode: block + recovery actions.</li>
                      <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Over-receipt: confirm and log discrepancy.</li>
                    </ul>
                  </div>
                  <div>
                    <p class="text-xs font-semibold tracking-wide text-slate-600">Placement</p>
                    <ul class="mt-2 space-y-2">
                      <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Cell-first enforcement: goods before cell blocked.</li>
                      <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Cell switch by scanning new cell; persists correctly.</li>
                    </ul>
                  </div>
                  <div>
                    <p class="text-xs font-semibold tracking-wide text-slate-600">Picking / Shipping</p>
                    <ul class="mt-2 space-y-2">
                      <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Route order: expected cell vs scanned cell warning.</li>
                      <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Strict mismatch at shipping: block unexpected item.</li>
                      <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Discrepancy confirm at completion required and logged.</li>
                    </ul>
                  </div>
                  <div>
                    <p class="text-xs font-semibold tracking-wide text-slate-600">Returns / Inventory / Labels</p>
                    <ul class="mt-2 space-y-2">
                      <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Reason required on returns/write-off; critical confirm.</li>
                      <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Inventory blind mode toggling; re-count flow.</li>
                      <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Barcode uniqueness conflict handling; print queue behavior.</li>
                    </ul>
                  </div>
                </div>
              </div>

              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Offline-first test matrix</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-accent"></span>Online → Offline mid-scan loop (no data loss).</li>
                  <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-accent"></span>Offline → Online resync (queue replay; idempotency).</li>
                  <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-accent"></span>Sync conflicts (server rejects an event): state moves to sync_failed → retry path.</li>
                  <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-accent"></span>Queue retry policy (backoff; user-triggered retry; diagnostics capture).</li>
                  <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-accent"></span>Completion while offline (queued completion; prevent double completion).</li>
                </ul>

                <div class="mt-6 border-t border-slate-200 pt-5">
                  <h3 class="text-sm font-semibold text-slate-900">Scanner input tests</h3>
                  <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                    <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Keyboard wedge: rapid key stream ends with Enter.</li>
                    <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Manual entry: numeric/alphanumeric, with validation and clear errors.</li>
                    <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>Debounce: protect from double-trigger scans.</li>
                  </ul>
                </div>

                <div class="mt-6 border-t border-slate-200 pt-5">
                  <h3 class="text-sm font-semibold text-slate-900">KPI telemetry correctness</h3>
                  <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                    <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>All key events fire once (idempotent).</li>
                    <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>operator_id/partner_id attached consistently.</li>
                    <li class="flex gap-2"><span class="mt-2 h-1.5 w-1.5 rounded-full bg-slate-400"></span>offline_state captured for every event; transitions logged.</li>
                  </ul>
                </div>
              </div>
            </div>
          </section>

          <!-- 10) Outcome & Product Value -->
          <section id="outcome" class="mt-12">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Outcome &amp; Product Value</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">What improved (qualitative)</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li>- Operators see the next step immediately; less hesitation and fewer “where am I?” moments.</li>
                  <li>- Scan loops stay uninterrupted; exceptions are resolved via predictable recovery actions.</li>
                  <li>- Navigation preserves context (doc/cell/route) to reduce menu hops.</li>
                  <li>- Offline becomes a stable operating mode rather than a failure state.</li>
                </ul>
              </div>

              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">What is measurable</h3>
                <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                  <li>- Tied directly to the KPIs in <a class="text-accent hover:underline" href="file:///O:/Dev/portfolio-2026/sklad.html#metrics">Metrics</a>.</li>
                  <li>- Measured via “invisible telemetry” events (no operator interruptions).</li>
                  <li>- Offline/sync effects can be isolated using <span class="font-mono text-xs">offline_state</span>.</li>
                </ul>
              </div>
            </div>

            <div class="mt-6 rounded-xl border border-slate-200 bg-white p-6">
              <h3 class="text-sm font-semibold text-slate-900">Why this increases sales (concise)</h3>
              <ul class="mt-3 space-y-2 text-sm leading-6 text-slate-700">
                <li>- Reduced training time through standardized patterns and action-first screens.</li>
                <li>- Fewer costly operational errors via strict checks and explicit discrepancy confirmation.</li>
                <li>- Predictable offline operation improves enterprise readiness (unstable Wi‑Fi is assumed).</li>
                <li>- Differentiation: two-operator mode + measured UX creates a credible KPI story.</li>
              </ul>
            </div>
          </section>

          <!-- 11) Appendix: Architecture Snapshot -->
          <section id="appendix" class="mt-12 pb-16">
            <div class="flex items-center justify-between gap-4">
              <h2 class="text-lg font-semibold text-slate-900 sm:text-xl">Appendix: Architecture Snapshot</h2>
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" class="text-sm font-medium text-accent hover:underline">Back to top</a>
            </div>

            <div class="mt-4 grid gap-6 lg:grid-cols-2">
              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">High-level architecture diagram</h3>
                <p class="mt-2 text-sm leading-6 text-slate-700">
                  Minimal pipeline emphasizing offline storage and a durable sync queue.
                </p>
                <div class="mt-4 overflow-hidden rounded-lg border border-slate-200 bg-slate-50 p-4">
                  <svg viewBox="0 0 920 210" class="h-auto w-full" role="img" aria-label="Operator to ERP architecture">
                    <defs>
                      <style>
                        .n {
                          fill: #ffffff;
                          stroke: #cbd5e1;
                          stroke-width: 2;
                          rx: 12;
                        }
                        .t {
                          font: 600 14px Inter, system-ui, sans-serif;
                          fill: #0f172a;
                        }
                        .s {
                          font: 500 12px Inter, system-ui, sans-serif;
                          fill: #475569;
                        }
                        .a {
                          stroke: #1d4ed8;
                          stroke-width: 2.5;
                          fill: none;
                          marker-end: url(#arrow);
                        }
                      </style>
                      <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
                        <path d="M0,0 L8,3 L0,6 Z" fill="#1D4ED8"></path>
                      </marker>
                    </defs>

                    <rect class="n" x="20" y="70" width="150" height="70"></rect>
                    <text class="t" x="95" y="102" text-anchor="middle">Operator</text>
                    <text class="s" x="95" y="122" text-anchor="middle">TSD / Scanner</text>

                    <rect class="n" x="210" y="40" width="160" height="130"></rect>
                    <text class="t" x="290" y="92" text-anchor="middle">PWA</text>
                    <text class="s" x="290" y="112" text-anchor="middle">UI + Scan loop</text>
                    <text class="s" x="290" y="132" text-anchor="middle">Offline badge</text>

                    <rect class="n" x="410" y="40" width="160" height="60"></rect>
                    <text class="t" x="490" y="74" text-anchor="middle">IndexedDB</text>
                    <text class="s" x="490" y="92" text-anchor="middle">Local cache</text>

                    <rect class="n" x="410" y="110" width="160" height="60"></rect>
                    <text class="t" x="490" y="144" text-anchor="middle">Sync Queue</text>
                    <text class="s" x="490" y="162" text-anchor="middle">Retry / Idempotency</text>

                    <rect class="n" x="610" y="70" width="120" height="70"></rect>
                    <text class="t" x="670" y="102" text-anchor="middle">API</text>
                    <text class="s" x="670" y="122" text-anchor="middle">Events</text>

                    <rect class="n" x="770" y="70" width="130" height="70"></rect>
                    <text class="t" x="835" y="102" text-anchor="middle">ERP</text>
                    <text class="s" x="835" y="122" text-anchor="middle">Склад-15</text>

                    <path class="a" d="M170 105 L210 105"></path>
                    <path class="a" d="M370 75 L410 75"></path>
                    <path class="a" d="M370 135 L410 135"></path>
                    <path class="a" d="M570 105 L610 105"></path>
                    <path class="a" d="M730 105 L770 105"></path>
                  </svg>
                </div>
              </div>

              <div class="rounded-xl border border-slate-200 bg-white p-6">
                <h3 class="text-sm font-semibold text-slate-900">Document state machine</h3>
                <p class="mt-2 text-sm leading-6 text-slate-700">
                  Simple, explicit states for visibility and robust retry behavior.
                </p>
                <pre class="mt-4 overflow-x-auto rounded-lg border border-slate-200 bg-slate-50 p-4 text-xs leading-5 text-slate-800"><code>new → in_progress → completed → synced
                 ↘
              sync_failed → retry</code></pre>

                <div class="mt-6">
                  <h3 class="text-sm font-semibold text-slate-900">Design system tokens (mini)</h3>
                  <div class="mt-3 overflow-hidden rounded-lg border border-slate-200">
                    <table class="min-w-full text-left text-sm">
                      <thead class="bg-slate-50 text-xs font-semibold tracking-wide text-slate-700">
                        <tr>
                          <th class="px-4 py-3">Token</th>
                          <th class="px-4 py-3">Value</th>
                        </tr>
                      </thead>
                      <tbody class="divide-y divide-slate-200">
                        <tr>
                          <td class="px-4 py-3 text-slate-900">Spacing scale</td>
                          <td class="px-4 py-3 font-mono text-xs text-slate-700">4 / 6 / 8 / 12 / 16 / 24</td>
                        </tr>
                        <tr>
                          <td class="px-4 py-3 text-slate-900">Font sizes</td>
                          <td class="px-4 py-3 font-mono text-xs text-slate-700">12 / 14 / 16 / 18 / 20 / 24 / 32</td>
                        </tr>
                        <tr>
                          <td class="px-4 py-3 text-slate-900">Radii</td>
                          <td class="px-4 py-3 font-mono text-xs text-slate-700">8 / 12</td>
                        </tr>
                        <tr>
                          <td class="px-4 py-3 text-slate-900">Borders</td>
                          <td class="px-4 py-3 font-mono text-xs text-slate-700">1px slate-200</td>
                        </tr>
                        <tr>
                          <td class="px-4 py-3 text-slate-900">Accent</td>
                          <td class="px-4 py-3 font-mono text-xs text-slate-700">#1D4ED8</td>
                        </tr>
                        <tr>
                          <td class="px-4 py-3 text-slate-900">Neutrals</td>
                          <td class="px-4 py-3 font-mono text-xs text-slate-700">slate-50…900</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </main>
      </div>
    </div>

    <footer class="border-t border-slate-200">
      <div class="mx-auto max-w-[1360px] px-4 py-6 text-xs text-slate-600 sm:px-6 lg:px-8">
        <p>
          Single-file spec page (HTML + Tailwind CDN). Minimal JS only for TOC active section highlighting.
        </p>
      </div>
    </footer>

    <script>
      // Active section highlight in TOC (desktop + mobile).
      // Uses IntersectionObserver for low overhead; no frameworks.
      (function () {
        const tocLinks = Array.from(document.querySelectorAll("a.toc-link"));
        const sections = Array.from(document.querySelectorAll("main section[id]"));
        const tocSelect = document.getElementById("tocSelect");
        const prefersReduced = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;

        function setActive(id) {
          if (tocSelect) tocSelect.value = id;
          for (const a of tocLinks) {
            const isActive = a.getAttribute("href") === "#" + id;
            a.classList.toggle("bg-zinc-100", isActive);
            a.classList.toggle("text-zinc-900", isActive);
            a.classList.toggle("font-semibold", isActive);
            a.classList.toggle("text-slate-700", !isActive);
            if (isActive) a.setAttribute("aria-current", "true");
            else a.removeAttribute("aria-current");
          }
        }

        // Mobile dropdown navigation.
        if (tocSelect) {
          tocSelect.addEventListener("change", () => {
            const id = tocSelect.value;
            const el = document.getElementById(id);
            if (!el) return;
            el.focus({ preventScroll: true });
            el.scrollIntoView({ behavior: prefersReduced ? "auto" : "smooth", block: "start" });
            history.replaceState(null, "", "#" + id);
          });
        }

        // If IntersectionObserver isn't supported, degrade gracefully (no highlight).
        if (!("IntersectionObserver" in window)) return;

        const observer = new IntersectionObserver(
          (entries) => {
            // Choose the most visible intersecting section.
            const visible = entries
              .filter((e) => e.isIntersecting)
              .sort((a, b) => b.intersectionRatio - a.intersectionRatio)[0];
            if (visible && visible.target && visible.target.id) setActive(visible.target.id);
          },
          {
            root: null,
            threshold: [0.15, 0.25, 0.4, 0.6],
            rootMargin: "-15% 0px -70% 0px",
          }
        );

        for (const s of sections) observer.observe(s);

        // Initial highlight based on hash or top.
        const initial = (location.hash || "#top").slice(1);
        setActive(initial || "top");
      })();
    </script>
  


        <div class="my-10 border-t border-zinc-200"></div>

        <!-- 4) Hypotheses -->
        <section id="hypotheses" data-title="4) Hypotheses" class="scroll-mt-24 md:scroll-mt-10">
          <h2 class="text-xl font-semibold tracking-tight">4) Hypotheses (3 принципа)</h2>
          <div class="mt-4 rounded-xl border border-zinc-200 bg-white p-6">
            <div class="grid gap-4 md:grid-cols-3">
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                <p class="text-sm font-semibold text-zinc-900">1) State-driven</p>
                <p class="mt-2 text-sm text-zinc-700">
                  “Интерфейс проектируется как машина состояний (state-driven), а не как набор экранов.”
                  Экран — отображение текущего состояния, а не источник навигации.
                </p>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                <p class="text-sm font-semibold text-zinc-900">2) Overlay-first</p>
                <p class="mt-2 text-sm text-zinc-700">
                  “Quick Menu — это панель рабочих рычагов поверх Live View, без чисел и конфигурации.”
                  Быстрые действия — через оверлей, не через «путешествие по меню».
                </p>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                <p class="text-sm font-semibold text-zinc-900">3) Один сигнал — один смысл</p>
                <p class="mt-2 text-sm text-zinc-700">
                  “RGB — часть UX: цвет + паттерн = однозначный смысл. Никакой магии без объяснений.”
                  Любой сигнал объясним, проверяем и не конфликтует с другими.
                </p>
              </div>
            </div>

            <div class="mt-5 rounded-xl border border-zinc-200 bg-white p-5">
              <p class="text-sm font-semibold text-zinc-900">Правила слоёв</p>
              <ul class="mt-2 list-disc pl-5 text-sm text-zinc-700">
                <li>“Меню — навигация. Настройки — глубже. Quick Menu ≠ Main Menu. Не больше одного слоя поверх Live View.”</li>
                <li>Ошибки и подтверждения — отдельные состояния (экраны), не тосты и не «маленькие» модалки поверх модалки.</li>
              </ul>
            </div>
          </div>
        </section>

        <div class="my-10 border-t border-zinc-200"></div>

        <!-- 5) System Architecture -->
        <section id="architecture" data-title="5) System Architecture" class="scroll-mt-24 md:scroll-mt-10">
          <h2 class="text-xl font-semibold tracking-tight">5) System Architecture (модули 00–10 как домены)</h2>
          <div class="mt-4 rounded-xl border border-zinc-200 bg-white p-6">
            <p class="text-sm text-zinc-700">
              Архитектура описывается как набор доменов (модулей), чтобы handoff разработке был стабильным: каждый домен имеет состояния, события, эффекты и контракты.
            </p>

            <div class="mt-5 grid gap-3 sm:grid-cols-2 lg:grid-cols-3">
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-4">
                <p class="font-mono text-xs text-zinc-600">00</p>
                <p class="mt-1 text-sm font-semibold">Boot &amp; Power</p>
                <p class="mt-1 text-sm text-zinc-700">Запуск, выключение, подтверждения, «безопасные» паузы.</p>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-4">
                <p class="font-mono text-xs text-zinc-600">01</p>
                <p class="mt-1 text-sm font-semibold">Device Shell</p>
                <p class="mt-1 text-sm text-zinc-700">Глобальные состояния устройства, системные блокировки, фокус ввода.</p>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-4">
                <p class="font-mono text-xs text-zinc-600">02</p>
                <p class="mt-1 text-sm font-semibold">Live View Core</p>
                <p class="mt-1 text-sm text-zinc-700">Поток изображения и его состояния (live/freeze/ошибка потока).</p>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-4">
                <p class="font-mono text-xs text-zinc-600">03</p>
                <p class="mt-1 text-sm font-semibold">Quick Menu</p>
                <p class="mt-1 text-sm text-zinc-700">Оверлей рычагов: выбор режимов/профиля/инструментов без конфигурации.</p>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-4">
                <p class="font-mono text-xs text-zinc-600">04</p>
                <p class="mt-1 text-sm font-semibold">Context Menu (Live View)</p>
                <p class="mt-1 text-sm text-zinc-700">Контекстные действия и микро-обучение (почему RGB, подсказки).</p>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-4">
                <p class="font-mono text-xs text-zinc-600">05</p>
                <p class="mt-1 text-sm font-semibold">Measurement Modes</p>
                <p class="mt-1 text-sm text-zinc-700">Spot/Line/Area, привязка статистики и оверлеев к режиму.</p>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-4">
                <p class="font-mono text-xs text-zinc-600">06</p>
                <p class="mt-1 text-sm font-semibold">Analysis Overlays</p>
                <p class="mt-1 text-sm text-zinc-700">Hot/Cold/Min/Max + Line/Area stats как оверлеи.</p>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-4">
                <p class="font-mono text-xs text-zinc-600">07</p>
                <p class="mt-1 text-sm font-semibold">RGB Language</p>
                <p class="mt-1 text-sm text-zinc-700">Сигналы: цвет+паттерн+приоритет; экран «почему горит».</p>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-4">
                <p class="font-mono text-xs text-zinc-600">08</p>
                <p class="mt-1 text-sm font-semibold">Profiles / Presets</p>
                <p class="mt-1 text-sm text-zinc-700">Дефолты палитры/порогов/RGB/оверлеев/инспекции.</p>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-4">
                <p class="font-mono text-xs text-zinc-600">09</p>
                <p class="mt-1 text-sm font-semibold">Gallery (Engineering)</p>
                <p class="mt-1 text-sm text-zinc-700">Сетка/деталь/инфо/удаление/мультивыбор/ошибки чтения.</p>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-4">
                <p class="font-mono text-xs text-zinc-600">10</p>
                <p class="mt-1 text-sm font-semibold">Warnings &amp; Errors</p>
                <p class="mt-1 text-sm text-zinc-700">Таксономия и экраны восстановления/блокировки/фатала.</p>
              </div>
            </div>

            <div class="mt-5 rounded-xl border border-zinc-200 bg-white p-5">
              <p class="text-sm font-semibold text-zinc-900">Декомпозиция ради контроля</p>
              <p class="mt-2 text-sm text-zinc-700">
                Модули отделяют: (а) отображение, (б) управление, (в) навигацию, (г) ошибки.
                Это снижает риск «матрёшки» и упрощает таблицы State→Event→Effect.
              </p>
            </div>
          </div>
        </section>

        <div class="my-10 border-t border-zinc-200"></div>

        <!-- 6) Full Device State Machine -->
        <section id="device-sm" data-title="6) Full Device State Machine" class="scroll-mt-24 md:scroll-mt-10">
          <h2 class="text-xl font-semibold tracking-tight">6) Полная машина состояний устройства (диаграмма + пояснение)</h2>
          <div class="mt-4 rounded-xl border border-zinc-200 bg-white p-6">
            <p class="text-sm text-zinc-700">
              На уровне устройства состояния определяют: куда направлен фокус ввода, допустимые эффекты и формат ошибок.
              Ошибка — это состояние, а не «сообщение поверх».
            </p>

            <div class="mt-5 rounded-xl border border-zinc-200 bg-zinc-50 p-5">
              <p class="text-sm font-semibold text-zinc-900">Диаграмма (упрощённая)</p>
              <div class="mt-4 overflow-x-auto">
                <svg viewBox="0 0 1100 300" role="img" aria-label="Диаграмма состояний устройства" class="min-w-[980px] w-full">
                  <defs>
                    <style>
                      .box { fill: var(--surface-0); stroke: var(--border-subtle); stroke-width: 2; }
                      .txt { font: 14px var(--font-sans); fill: var(--text-1); }
                      .sub { font: 12px var(--font-sans); fill: var(--text-3); }
                      .arrow { stroke: var(--text-2); stroke-width: 2; fill: none; marker-end: url(#m); }
                    </style>
                    <marker id="m" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="7" markerHeight="7" orient="auto-start-reverse">
                      <path d="M 0 0 L 10 5 L 0 10 z" fill="var(--text-2)"></path>
                    </marker>
                  </defs>

                  <!-- Boxes -->
                  <rect class="box" x="40" y="40" width="180" height="70" rx="10"></rect>
                  <text class="txt" x="60" y="70">BOOT</text>
                  <text class="sub" x="60" y="92">инициализация</text>

                  <rect class="box" x="270" y="40" width="220" height="70" rx="10"></rect>
                  <text class="txt" x="290" y="70">LIVE VIEW</text>
                  <text class="sub" x="290" y="92">работа / измерения</text>

                  <rect class="box" x="540" y="40" width="220" height="70" rx="10"></rect>
                  <text class="txt" x="560" y="70">MAIN MENU</text>
                  <text class="sub" x="560" y="92">единственный хаб навигации</text>

                  <rect class="box" x="810" y="40" width="250" height="70" rx="10"></rect>
                  <text class="txt" x="830" y="70">GALLERY</text>
                  <text class="sub" x="830" y="92">инженерный просмотр</text>

                  <rect class="box" x="270" y="160" width="220" height="70" rx="10"></rect>
                  <text class="txt" x="290" y="190">ERROR (blocking/fatal)</text>
                  <text class="sub" x="290" y="212">экран действий</text>

                  <rect class="box" x="540" y="160" width="220" height="70" rx="10"></rect>
                  <text class="txt" x="560" y="190">POWER OFF CONFIRM</text>
                  <text class="sub" x="560" y="212">Right=OK / Left=Cancel</text>

                  <!-- Arrows -->
                  <path class="arrow" d="M 220 75 L 270 75"></path>
                  <path class="arrow" d="M 490 75 L 540 75"></path>
                  <path class="arrow" d="M 760 75 L 810 75"></path>
                  <path class="arrow" d="M 650 110 L 650 160"></path>
                  <path class="arrow" d="M 380 110 L 380 160"></path>
                  <path class="arrow" d="M 540 195 L 490 195"></path>
                  <path class="arrow" d="M 540 75 L 490 75"></path>
                  <path class="arrow" d="M 810 75 L 760 75"></path>

                  <!-- Labels -->
                  <text class="sub" x="300" y="30">Right long (1–1.5s)</text>
                  <text class="sub" x="560" y="30">вход/выход навигации</text>
                  <text class="sub" x="540" y="255">Right longer (~2.5–3s)</text>
                </svg>
              </div>
              <p class="mt-3 text-xs text-zinc-600">
                Примечание: диаграмма фиксирует именно состояния/переходы. Внутренние оверлеи Live View описываются отдельно (раздел 7).
              </p>
            </div>

            <div class="mt-5 rounded-xl border border-zinc-200 bg-white p-5">
              <p class="text-sm font-semibold text-zinc-900">Пояснение переходов (ключевые правила)</p>
              <ul class="mt-2 list-disc pl-5 text-sm text-zinc-700">
                <li><span class="font-medium text-zinc-900">Вход в Main Menu:</span> Right long press 1–1.5s.</li>
                <li><span class="font-medium text-zinc-900">Выключение:</span> Right longer press ~2.5–3s → экран подтверждения Power Off. Confirm: Right; Cancel: Left.</li>
                <li><span class="font-medium text-zinc-900">Ошибка:</span> “Ошибки — это отдельные состояния с вариантами действий, а не тосты.”</li>
                <li><span class="font-medium text-zinc-900">Без «матрёшки»:</span> состояние ошибки не накладывается поверх других интерактивных слоёв.</li>
              </ul>
            </div>
          </div>
        </section>

        <div class="my-10 border-t border-zinc-200"></div>

        <!-- 7) Live View State Machine -->
        <section id="liveview-sm" data-title="7) Live View State Machine" class="scroll-mt-24 md:scroll-mt-10">
          <h2 class="text-xl font-semibold tracking-tight">7) Машина состояний Live View (таблица состояний + правила оверлеев)</h2>
          <div class="mt-4 rounded-xl border border-zinc-200 bg-white p-6">
            <p class="text-sm text-zinc-700">
              Live View имеет несколько состояний, а инструменты анализа и меню — оверлеи с жёсткими правилами входа/выхода.
              “Инструменты анализа — это оверлеи поверх изображения, а не режимы.”
            </p>

            <div class="mt-5 rounded-xl border border-zinc-200 bg-white p-5">
              <p class="text-sm font-semibold text-zinc-900">Таблица состояний Live View</p>
              <div class="mt-3 overflow-x-auto">
                <table class="min-w-[980px] w-full border-separate border-spacing-0 text-sm">
                  <thead>
                    <tr class="text-left">
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">State</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">UI</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Buttons</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Overlays</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">RGB</th>
                    </tr>
                  </thead>
                  <tbody class="text-zinc-800">
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2 font-mono text-xs">LV_LIVE</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Поток изображения, базовые индикаторы, измерение по выбранному режиму</td>
                      <td class="border-b border-zinc-200 px-3 py-2">
                        Left=—; Up/Down=палитра; Right short=Quick Menu; Right long=Main Menu; Trigger=Freeze
                      </td>
                      <td class="border-b border-zinc-200 px-3 py-2">Допустим один слой: Quick Menu <em>или</em> Context Menu <em>или</em> Analysis Overlay</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Согласно языку сигналов; без неоднозначностей</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2 font-mono text-xs">LV_FREEZE</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Замороженный кадр для оценки/аннотаций; предотвращение случайных изменений сцены</td>
                      <td class="border-b border-zinc-200 px-3 py-2">
                        Left=выход в Live; Up/Down=палитра; Right short=Quick Menu; Trigger=возврат/перезахват по контракту устройства
                      </td>
                      <td class="border-b border-zinc-200 px-3 py-2">Оверлеи как в Live; нет вложенных оверлеев</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Сигнал статуса freeze допускается только как определённый паттерн (если предусмотрен)</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2 font-mono text-xs">LV_QUICK_MENU</td>
                      <td class="border-b border-zinc-200 px-3 py-2">“Quick Menu — это панель рабочих рычагов поверх Live View, без чисел и конфигурации.”</td>
                      <td class="border-b border-zinc-200 px-3 py-2">
                        Up/Down=выбор; Right=подтвердить; Left=закрыть; timeout/tap outside=закрыть
                      </td>
                      <td class="border-b border-zinc-200 px-3 py-2">Запрещены дополнительные слои (no matryoshka)</td>
                      <td class="border-b border-zinc-200 px-3 py-2">RGB не должен менять смысл из-за самого факта открытия меню</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2 font-mono text-xs">LV_CONTEXT_MENU</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Контекстные действия + микро-обучение (“Почему горит RGB?”)</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Up/Down=выбор; Right=действие; Left/tap outside=закрыть</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Один слой; не открывает другие оверлеи внутри себя</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Разрешён переход в экран объяснения RGB (отдельное состояние/экран)</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-2 font-mono text-xs">LV_BLOCKING_ERROR</td>
                      <td class="px-3 py-2">Экран ошибки с действиями восстановления</td>
                      <td class="px-3 py-2">Только безопасные действия (например: перезапуск/сервис)</td>
                      <td class="px-3 py-2">Оверлеи запрещены</td>
                      <td class="px-3 py-2">Сигнал по таблице приоритетов (например: красный статичный)</td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <div class="mt-4 rounded-xl border border-zinc-200 bg-zinc-50 p-4">
                <p class="text-sm font-semibold text-zinc-900">Правила оверлеев (жёсткие)</p>
                <ul class="mt-2 list-disc pl-5 text-sm text-zinc-700">
                  <li>“Меню — навигация. Настройки — глубже. Quick Menu ≠ Main Menu. Не больше одного слоя поверх Live View.”</li>
                  <li>Оверлей закрывается Left, таймаутом (только Quick Menu) или тапом вне области.</li>
                  <li>Любое потенциально опасное действие (удаление/сброс/выключение) — через выделенное состояние подтверждения, не внутри оверлея.</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <div class="my-10 border-t border-zinc-200"></div>

        <!-- 8) Quick Menu Spec -->
        <section id="quick-menu" data-title="8) Quick Menu Spec" class="scroll-mt-24 md:scroll-mt-10">
          <h2 class="text-xl font-semibold tracking-tight">8) Спецификация Quick Menu (элементы + правила + маппинг ввода)</h2>
          <div class="mt-4 rounded-xl border border-zinc-200 bg-white p-6">
            <div class="grid gap-4 md:grid-cols-2">
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                <p class="text-sm font-semibold text-zinc-900">Назначение</p>
                <p class="mt-2 text-sm text-zinc-700">
                  “Quick Menu — это панель рабочих рычагов поверх Live View, без чисел и конфигурации.”
                  Оно не заменяет Main Menu и не открывает Настройки.
                </p>
                <p class="mt-3 text-sm font-semibold text-zinc-900">Вход / выход</p>
                <ul class="mt-2 list-disc pl-5 text-sm text-zinc-700">
                  <li><span class="font-medium text-zinc-900">Entry:</span> Right short <span class="text-zinc-600">или</span> tap по экрану</li>
                  <li><span class="font-medium text-zinc-900">Exit:</span> Left <span class="text-zinc-600">или</span> timeout <span class="text-zinc-600">или</span> tap вне меню</li>
                </ul>
              </div>

              <div class="rounded-xl border border-zinc-200 bg-white p-5">
                <p class="text-sm font-semibold text-zinc-900">Список пунктов (точно)</p>
                <ol class="mt-3 list-decimal pl-5 text-sm text-zinc-800">
                  <li>Режим измерения (Spot / Line / Area)</li>
                  <li>Профиль / пресет измерений</li>
                  <li>Инструменты анализа (Hot/Cold/Min/Max/Line/Area stats depending on mode)</li>
                  <li>RGB-индикация (on/off / режим)</li>
                  <li>Режим инспекции (Inspection Mode)</li>
                  <li>Галерея (shortcut)</li>
                </ol>
                <div class="mt-4 rounded-lg border border-zinc-200 bg-zinc-50 p-4">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ВАЖНО</p>
                  <p class="mt-1 text-sm text-zinc-700">
                    Выбор палитры не входит в Quick Menu: Up/Down вне меню циклически переключает палитру.
                  </p>
                </div>
              </div>
            </div>

            <div class="mt-5 rounded-xl border border-zinc-200 bg-white p-5">
              <p class="text-sm font-semibold text-zinc-900">Маппинг ввода (внутри Quick Menu)</p>
              <div class="mt-3 overflow-x-auto">
                <table class="min-w-[820px] w-full border-separate border-spacing-0 text-sm">
                  <thead>
                    <tr class="text-left">
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Input</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Effect</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Notes</th>
                    </tr>
                  </thead>
                  <tbody class="text-zinc-800">
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">Up/Down</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Перемещение по пунктам</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Фокус всегда один</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">Right</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Подтвердить / открыть выбор внутри пункта</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Выбор должен оставаться в 1 слое</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">Left</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Закрыть Quick Menu</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Всегда безопасный выход</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-2">Tap outside</td>
                      <td class="px-3 py-2">Закрыть Quick Menu</td>
                      <td class="px-3 py-2">Опционально; кнопки — первично</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <p class="mt-3 text-xs text-zinc-600">
                Quick Menu не открывает Настройки и не становится «вторым меню». Это про быстрые рычаги работы.
              </p>
            </div>
          </div>
        </section>

        <div class="my-10 border-t border-zinc-200"></div>

        <!-- 9) Context Menu Spec -->
        <section id="context-menu" data-title="9) Context Menu Spec" class="scroll-mt-24 md:scroll-mt-10">
          <h2 class="text-xl font-semibold tracking-tight">9) Спецификация Context Menu (матрица пунктов по режимам)</h2>
          <div class="mt-4 rounded-xl border border-zinc-200 bg-white p-6">
            <div class="grid gap-4 md:grid-cols-2">
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                <p class="text-sm font-semibold text-zinc-900">Вход / выход / навигация</p>
                <ul class="mt-2 list-disc pl-5 text-sm text-zinc-700">
                  <li><span class="font-medium text-zinc-900">Entry:</span> long tap по Live View</li>
                  <li><span class="font-medium text-zinc-900">Exit:</span> Left или tap вне области</li>
                  <li><span class="font-medium text-zinc-900">Navigate:</span> Up/Down; Right select</li>
                </ul>
                <p class="mt-3 text-sm text-zinc-700">
                  Назначение: контекстные действия и микро-обучение, без навигации по разделам устройства.
                </p>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-white p-5">
                <p class="text-sm font-semibold text-zinc-900">Базовые пункты (всегда)</p>
                <ul class="mt-2 list-disc pl-5 text-sm text-zinc-700">
                  <li>Заблокировать диапазон / снять блокировку (toggle)</li>
                  <li>Сбросить авто-настройки (action)</li>
                  <li>Показать подсказку (micro-education)</li>
                  <li>Почему горит RGB? (info)</li>
                </ul>
              </div>
            </div>

            <div class="mt-5 rounded-xl border border-zinc-200 bg-white p-5">
              <p class="text-sm font-semibold text-zinc-900">Матрица пунктов по режимам измерения</p>
              <div class="mt-3 overflow-x-auto">
                <table class="min-w-[900px] w-full border-separate border-spacing-0 text-sm">
                  <thead>
                    <tr class="text-left">
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Пункт</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Spot</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Line</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Area</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Примечание</th>
                    </tr>
                  </thead>
                  <tbody class="text-zinc-800">
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">Заблокировать диапазон / снять блокировку</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Тоггл фиксирует авто-диапазон</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">Сбросить авто-настройки</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Безопасное действие, без скрытых эффектов</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">Показать подсказку</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Микро-обучение в моменте</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">Статистика линии/области</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Нет</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Только если режим это поддерживает</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-2">Почему горит RGB?</td>
                      <td class="px-3 py-2">Да</td>
                      <td class="px-3 py-2">Да</td>
                      <td class="px-3 py-2">Да</td>
                      <td class="px-3 py-2">Переход в экран объяснения (отдельное состояние)</td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <p class="mt-3 text-xs text-zinc-600">
                Context Menu не используется для навигации по разделам устройства. Это локальные действия, связанные с Live View.
              </p>
            </div>
          </div>
        </section>

        <div class="my-10 border-t border-zinc-200"></div>

        <!-- 10) Measurement Modes -->
        <section id="measurement" data-title="10) Measurement Modes" class="scroll-mt-24 md:scroll-mt-10">
          <h2 class="text-xl font-semibold tracking-tight">10) Режимы измерений (Spot/Line/Area) + концепт оверлеев анализа</h2>
          <div class="mt-4 rounded-xl border border-zinc-200 bg-white p-6">
            <div class="grid gap-4 md:grid-cols-3">
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                <p class="text-sm font-semibold text-zinc-900">Spot</p>
                <p class="mt-2 text-sm text-zinc-700">Точечное измерение. Быстрое, минимальная визуальная нагрузка.</p>
                <p class="mt-3 text-xs font-semibold tracking-wide text-zinc-600">ДОП. СТАТИСТИКА</p>
                <p class="mt-1 text-sm text-zinc-700">Hot/Cold/Min/Max как оверлеи (по правилам).</p>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                <p class="text-sm font-semibold text-zinc-900">Line</p>
                <p class="mt-2 text-sm text-zinc-700">Линейное измерение. Статистика линии доступна как оверлей.</p>
                <p class="mt-3 text-xs font-semibold tracking-wide text-zinc-600">ДОП. СТАТИСТИКА</p>
                <p class="mt-1 text-sm text-zinc-700">Line stats + Hot/Cold/Min/Max (если совместимо с режимом).</p>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                <p class="text-sm font-semibold text-zinc-900">Area</p>
                <p class="mt-2 text-sm text-zinc-700">Область. Статистика области доступна как оверлей.</p>
                <p class="mt-3 text-xs font-semibold tracking-wide text-zinc-600">ДОП. СТАТИСТИКА</p>
                <p class="mt-1 text-sm text-zinc-700">Area stats + Hot/Cold/Min/Max (если совместимо с режимом).</p>
              </div>
            </div>

            <div class="mt-5 rounded-xl border border-zinc-200 bg-white p-5">
              <p class="text-sm font-semibold text-zinc-900">Концепт: оверлеи анализа</p>
              <p class="mt-2 text-sm text-zinc-700">
                “Инструменты анализа — это оверлеи поверх изображения, а не режимы.”
                Это сохраняет непрерывность Live View и уменьшает риск «потерять контекст».
              </p>

              <div class="mt-4 rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                <p class="text-sm font-semibold text-zinc-900">Правило совместимости оверлеев</p>
                <ul class="mt-2 list-disc pl-5 text-sm text-zinc-700">
                  <li>Оверлей должен быть либо <span class="font-medium text-zinc-900">универсальным</span> (Hot/Cold/Min/Max), либо <span class="font-medium text-zinc-900">режимным</span> (Line/Area stats).</li>
                  <li>В один момент активен один слой оверлея над Live View (или меню), без вложенности.</li>
                  <li>Выход всегда Left (универсальный безопасный жест).</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <div class="my-10 border-t border-zinc-200"></div>

        <!-- 11) RGB Language -->
        <section id="rgb" data-title="11) RGB Language" class="scroll-mt-24 md:scroll-mt-10">
          <h2 class="text-xl font-semibold tracking-tight">11) Язык RGB (таблица сигналов; паттерны; экран «что значит цвет»)</h2>

          <!-- Accent allowed in this section -->
          <div class="mt-4 rounded-xl border border-zinc-200 bg-white p-6">
            <div class="rounded-xl border border-sky-200 bg-sky-50 p-5">
              <p class="text-sm font-semibold text-sky-900">Принцип</p>
              <p class="mt-2 text-sm text-sky-900/90">
                “RGB — часть UX: цвет + паттерн = однозначный смысл. Никакой магии без объяснений.”
              </p>
              <p class="mt-2 text-sm text-sky-900/90">
                Любой сигнал должен отвечать на вопросы: <span class="font-medium">что это значит</span>, <span class="font-medium">насколько срочно</span>, <span class="font-medium">что делать дальше</span>.
              </p>
            </div>

            <div class="mt-5 rounded-xl border border-zinc-200 bg-white p-5">
              <p class="text-sm font-semibold text-zinc-900">Таблица сигналов RGB</p>
              <div class="mt-3 overflow-x-auto">
                <table class="min-w-[980px] w-full border-separate border-spacing-0 text-sm">
                  <thead>
                    <tr class="text-left">
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Meaning</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Color</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Pattern</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Priority</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Trigger</th>
                    </tr>
                  </thead>
                  <tbody class="text-zinc-800">
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">Информационный статус (не требует действия)</td>
                      <td class="border-b border-zinc-200 px-3 py-2">
                        <span class="inline-flex items-center gap-2">
                          <span class="h-3 w-3 rounded-full border border-sky-300 bg-sky-500" aria-hidden="true"></span>
                          <span class="text-sky-900">Акцентный пример</span>
                        </span>
                      </td>
                      <td class="border-b border-zinc-200 px-3 py-2">Короткий импульс</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Low</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Событие, объяснимое в UI (например: включение/смена профиля)</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">Предупреждение (внимание; можно продолжить)</td>
                      <td class="border-b border-zinc-200 px-3 py-2">
                        <span class="inline-flex items-center gap-2">
                          <span class="h-3 w-3 rounded-full border border-sky-300 bg-sky-500" aria-hidden="true"></span>
                          <span class="text-sky-900">Акцентный пример</span>
                        </span>
                      </td>
                      <td class="border-b border-zinc-200 px-3 py-2">Медленное мигание</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Medium</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Условие, требующее внимания, но не блокирующее работу</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">Блокирующая ошибка (нужно действие)</td>
                      <td class="border-b border-zinc-200 px-3 py-2">
                        <span class="inline-flex items-center gap-2">
                          <span class="h-3 w-3 rounded-full border border-sky-300 bg-sky-500" aria-hidden="true"></span>
                          <span class="text-sky-900">Акцентный пример</span>
                        </span>
                      </td>
                      <td class="border-b border-zinc-200 px-3 py-2">Быстрое мигание</td>
                      <td class="border-b border-zinc-200 px-3 py-2">High</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Переход в экран ошибки с действиями</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-2">Фатальная ошибка / сервис</td>
                      <td class="px-3 py-2">
                        <span class="inline-flex items-center gap-2">
                          <span class="h-3 w-3 rounded-full border border-sky-300 bg-sky-500" aria-hidden="true"></span>
                          <span class="text-sky-900">Акцентный пример</span>
                        </span>
                      </td>
                      <td class="px-3 py-2">Статичный свет</td>
                      <td class="px-3 py-2">Critical</td>
                      <td class="px-3 py-2">Фатальное состояние; UI даёт чёткие шаги (перезагрузка/сервис)</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <p class="mt-3 text-xs text-zinc-600">
                Таблица фиксирует структуру: смысл → цвет → паттерн → приоритет → триггер. Конкретные цвета допускаются только при наличии такого же экрана объяснения.
              </p>
            </div>

            <div class="mt-5 rounded-xl border border-zinc-200 bg-white p-5">
              <p class="text-sm font-semibold text-zinc-900">Микро-обучение: экран “Что означает RGB?”</p>
              <div class="mt-3 grid gap-3 md:grid-cols-2">
                <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                  <p class="text-xs font-semibold tracking-wide text-zinc-600">ВХОД</p>
                  <p class="mt-1 text-sm text-zinc-700">Context Menu → “Почему горит RGB?”</p>
                  <p class="mt-3 text-xs font-semibold tracking-wide text-zinc-600">ПРАВИЛО</p>
                  <p class="mt-1 text-sm text-zinc-700">Не «справка на 10 экранов», а 1 экран с таблицей соответствий и понятным действием.</p>
                </div>
                <div class="rounded-xl border border-sky-200 bg-sky-50 p-5">
                  <p class="text-sm font-semibold text-sky-900">Содержание экрана (скелет)</p>
                  <ul class="mt-2 list-disc pl-5 text-sm text-sky-900/90">
                    <li>Сейчас: <span class="font-medium">[цвет]</span>, <span class="font-medium">[паттерн]</span></li>
                    <li>Значит: <span class="font-medium">[одна фраза]</span></li>
                    <li>Действие: <span class="font-medium">[один следующий шаг]</span></li>
                    <li>Кнопки: Left=назад</li>
                  </ul>
                </div>
              </div>
            </div>

          </div>
        </section>

        <div class="my-10 border-t border-zinc-200"></div>

        <!-- 12) Profiles -->
        <section id="profiles" data-title="12) Profiles" class="scroll-mt-24 md:scroll-mt-10">
          <h2 class="text-xl font-semibold tracking-tight">12) Профили (список пресетов + матрица влияния)</h2>
          <div class="mt-4 rounded-xl border border-zinc-200 bg-white p-6">
            <p class="text-sm text-zinc-700">
              Профили/пресеты задают дефолты взаимодействия и отображения, чтобы оператор получал предсказуемую стартовую конфигурацию под задачу.
              Профиль влияет на: палитру, пороги, поведение RGB, набор оверлеев, режим инспекции.
            </p>

            <div class="mt-5 grid gap-4 md:grid-cols-2">
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                <p class="text-sm font-semibold text-zinc-900">Список пресетов (уровень UX)</p>
                <ul class="mt-3 list-disc pl-5 text-sm text-zinc-700">
                  <li>Профиль / пресет измерений (выбирается в Quick Menu)</li>
                  <li>Каждый пресет задаёт дефолты, но не прячет базовые действия</li>
                  <li>Смена пресета не должна менять контракт кнопок</li>
                </ul>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-white p-5">
                <p class="text-sm font-semibold text-zinc-900">Правило предсказуемости</p>
                <ul class="mt-3 list-disc pl-5 text-sm text-zinc-700">
                  <li>Профиль меняет только заранее известные параметры</li>
                  <li>Любое «сильное» изменение объясняется (одна строка на экране выбора пресета)</li>
                  <li>RGB остаётся в языке сигналов и не превращается в «настроение» профиля</li>
                </ul>
              </div>
            </div>

            <div class="mt-5 rounded-xl border border-zinc-200 bg-white p-5">
              <p class="text-sm font-semibold text-zinc-900">Матрица влияния профиля</p>
              <div class="mt-3 overflow-x-auto">
                <table class="min-w-[980px] w-full border-separate border-spacing-0 text-sm">
                  <thead>
                    <tr class="text-left">
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Профиль →</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Палитра (default)</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Пороги/thresholds</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">RGB поведение</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Оверлеи (default)</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Inspection Mode</th>
                    </tr>
                  </thead>
                  <tbody class="text-zinc-800">
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2 font-medium">Preset A</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2 font-medium">Preset B</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Да</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-2 font-medium">Preset C</td>
                      <td class="px-3 py-2">Да</td>
                      <td class="px-3 py-2">Да</td>
                      <td class="px-3 py-2">Да</td>
                      <td class="px-3 py-2">Да</td>
                      <td class="px-3 py-2">Да</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <p class="mt-3 text-xs text-zinc-600">
                В матрице важна структура влияний. Конкретные значения пресетов определяются задачей, но UX-контракт фиксирован: что профиль может и не может менять.
              </p>
            </div>
          </div>
        </section>

        <div class="my-10 border-t border-zinc-200"></div>

        <!-- 13) Gallery -->
        <section id="gallery" data-title="13) Gallery" class="scroll-mt-24 md:scroll-mt-10">
          <h2 class="text-xl font-semibold tracking-tight">13) Галерея (экраны + флоу; безопасное удаление; дата-фильтр опционально)</h2>
          <div class="mt-4 rounded-xl border border-zinc-200 bg-white p-6">
            <p class="text-sm text-zinc-700">
              Галерея — инженерный инструмент, а не фотоальбом. Действия должны быть безопасными и обратимыми там, где возможно; удаление — всегда осознанное.
            </p>

            <div class="mt-5 grid gap-4 md:grid-cols-2">
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                <p class="text-sm font-semibold text-zinc-900">Поддерживаемые экраны (обязательные)</p>
                <ul class="mt-3 list-disc pl-5 text-sm text-zinc-700">
                  <li>Grid view (сетка)</li>
                  <li>Detail view (детальный просмотр)</li>
                  <li>File info (инфо файла)</li>
                  <li>Delete confirm (подтверждение удаления)</li>
                  <li>Multi-select (множественный выбор)</li>
                  <li>Empty state (пустое состояние)</li>
                  <li>Read error (ошибка чтения)</li>
                </ul>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-white p-5">
                <p class="text-sm font-semibold text-zinc-900">Фильтр по дате (вторичный)</p>
                <ul class="mt-3 list-disc pl-5 text-sm text-zinc-700">
                  <li>Опционален: не является обязательным первым шагом</li>
                  <li>Добавляется как вторичный метод поиска/сужения</li>
                  <li>Не ломает базовую сетку и навигацию</li>
                </ul>
              </div>
            </div>

            <div class="mt-5 rounded-xl border border-zinc-200 bg-white p-5">
              <p class="text-sm font-semibold text-zinc-900">Флоу удаления (безопасный)</p>
              <div class="mt-3 overflow-x-auto">
                <table class="min-w-[900px] w-full border-separate border-spacing-0 text-sm">
                  <thead>
                    <tr class="text-left">
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Шаг</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Экран</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Действие</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Гарантия безопасности</th>
                    </tr>
                  </thead>
                  <tbody class="text-zinc-800">
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">1</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Grid/Detail</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Открыть контекстное меню файла</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Нет «случайной» кнопки удаления рядом с навигацией</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">2</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Context menu</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Выбрать «Удалить»</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Удаление только как явное действие</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">3</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Delete confirm</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Confirm / Cancel</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Подтверждение отдельным экраном/состоянием</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-2">4</td>
                      <td class="px-3 py-2">Result</td>
                      <td class="px-3 py-2">Успех / ошибка удаления</td>
                      <td class="px-3 py-2">Ошибки показываются как состояния, не тосты</td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <div class="mt-4 rounded-xl border border-zinc-200 bg-zinc-50 p-4">
                <p class="text-sm font-semibold text-zinc-900">Позиционирование</p>
                <p class="mt-1 text-sm text-zinc-700">
                  Галерея — инженерный инструмент: приоритет — точность, читаемость метаданных и безопасные операции.
                </p>
              </div>
            </div>

          </div>
        </section>

        <div class="my-10 border-t border-zinc-200"></div>

        <!-- 14) Warnings & Errors -->
        <section id="errors" data-title="14) Warnings &amp; Errors" class="scroll-mt-24 md:scroll-mt-10">
          <h2 class="text-xl font-semibold tracking-tight">14) Предупреждения и ошибки (таксономия + экраны; “no panic” стиль)</h2>

          <div class="mt-4 rounded-xl border border-zinc-200 bg-white p-6">
            <p class="text-sm text-zinc-700">
              “Ошибки — это отдельные состояния с вариантами действий, а не тосты.”
              Для устройств с высокой ценой ошибки важнее сценарии восстановления, чем формулировка «что пошло не так».
            </p>

            <div class="mt-5 rounded-xl border border-zinc-200 bg-white p-5">
              <p class="text-sm font-semibold text-zinc-900">Таксономия</p>
              <div class="mt-3 overflow-x-auto">
                <table class="min-w-[980px] w-full border-separate border-spacing-0 text-sm">
                  <thead>
                    <tr class="text-left">
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Класс</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Определение</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">UI</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Действия</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">RGB</th>
                    </tr>
                  </thead>
                  <tbody class="text-zinc-800">
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">
                        <span class="inline-flex items-center gap-2">
                          <span class="inline-flex rounded-md border border-sky-200 bg-sky-50 px-2 py-0.5 text-xs font-semibold text-sky-900">WARNING</span>
                          Recoverable
                        </span>
                      </td>
                      <td class="border-b border-zinc-200 px-3 py-2">Можно продолжить работу; требуется внимание</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Ненавязчивый экран/панель статуса или контекстная подсказка</td>
                      <td class="border-b border-zinc-200 px-3 py-2">1–2 безопасных варианта (например: «Ок», «Подробнее»)</td>
                      <td class="border-b border-zinc-200 px-3 py-2">По таблице приоритетов; без конфликта смыслов</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">Blocking</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Работа остановлена до действия пользователя</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Отдельный экран ошибки</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Чёткое восстановление (например: «Перезагрузить»)</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Высокий приоритет</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-2">
                        <span class="inline-flex items-center gap-2">
                          <span class="inline-flex rounded-md border border-sky-200 bg-sky-50 px-2 py-0.5 text-xs font-semibold text-sky-900">FATAL</span>
                          Fatal
                        </span>
                      </td>
                      <td class="px-3 py-2">Не устраняется на месте; требуется сервис</td>
                      <td class="px-3 py-2">Отдельный экран + код ошибки</td>
                      <td class="px-3 py-2">«Перезагрузить» и/или «Обратиться в сервис»</td>
                      <td class="px-3 py-2">Критический приоритет (например: красный статичный)</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <div class="mt-5 rounded-xl border border-zinc-200 bg-white p-5">
              <p class="text-sm font-semibold text-zinc-900">Стиль текста (“no panic”)</p>
              <ul class="mt-2 list-disc pl-5 text-sm text-zinc-700">
                <li>Короткое человеческое объяснение, без «технического мусора»</li>
                <li>Действия — конкретные и ограниченные</li>
                <li>Код ошибки — отдельной строкой мелким текстом</li>
              </ul>
            </div>

            <!-- Required example screen block -->
            <div class="mt-5 rounded-xl border border-zinc-200 bg-white p-5">
              <p class="text-sm font-semibold text-zinc-900">Пример экрана ошибки (обязательный шаблон)</p>
              <div class="mt-3 rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                <div class="flex items-start justify-between gap-4">
                  <div>
                    <p class="text-lg font-semibold text-zinc-900">Системная ошибка</p>
                    <p class="mt-2 text-sm text-zinc-700">
                      Камера не может продолжить работу. Это не ваша ошибка. Попробуйте перезагрузить устройство. Если проблема повторяется — обратитесь в сервис.
                    </p>
                    <p class="mt-3 text-xs text-zinc-600">Код: ERR-XXXX</p>
                  </div>
                  <div class="shrink-0 rounded-lg border border-sky-200 bg-sky-50 px-3 py-2">
                    <p class="text-xs font-semibold text-sky-900">RGB</p>
                    <p class="mt-1 text-xs text-sky-900/90">красный, статичный</p>
                  </div>
                </div>
                <div class="mt-4 flex flex-wrap gap-2">
                  <button type="button" class="rounded-lg border border-zinc-300 bg-white px-3 py-2 text-sm font-medium text-zinc-900">Перезагрузить</button>
                  <button type="button" class="rounded-lg border border-zinc-300 bg-white px-3 py-2 text-sm font-medium text-zinc-900">Обратиться в сервис</button>
                </div>
              </div>
            </div>

          </div>
        </section>

        <div class="my-10 border-t border-zinc-200"></div>

        <!-- 15) Developer Handoff -->
        <section id="handoff" data-title="15) Developer Handoff" class="scroll-mt-24 md:scroll-mt-10">
          <h2 class="text-xl font-semibold tracking-tight">15) Handoff разработке (Event list; State→Event→Effect; контракт кнопок)</h2>
          <div class="mt-4 rounded-xl border border-zinc-200 bg-white p-6">
            <p class="text-sm text-zinc-700">
              Handoff оформляется как таблицы: состояние → событие → эффект. Это снижает разночтения и делает систему расширяемой без «расползания UI».
            </p>

            <div class="mt-5 rounded-xl border border-zinc-200 bg-white p-5">
              <p class="text-sm font-semibold text-zinc-900">Event List (скелет)</p>
              <div class="mt-3 overflow-x-auto">
                <table class="min-w-[980px] w-full border-separate border-spacing-0 text-sm">
                  <thead>
                    <tr class="text-left">
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Event</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Source</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Payload</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Notes</th>
                    </tr>
                  </thead>
                  <tbody class="text-zinc-800">
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2 font-mono text-xs">EV_RIGHT_SHORT</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Button Right</td>
                      <td class="border-b border-zinc-200 px-3 py-2">—</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Открыть Quick Menu / подтвердить выбор в оверлее</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2 font-mono text-xs">EV_RIGHT_LONG_MENU</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Button Right</td>
                      <td class="border-b border-zinc-200 px-3 py-2">duration=1–1.5s</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Вход в Main Menu</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2 font-mono text-xs">EV_RIGHT_LONG_POWER</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Button Right</td>
                      <td class="border-b border-zinc-200 px-3 py-2">duration≈2.5–3s</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Открыть Power Off confirm</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2 font-mono text-xs">EV_LEFT</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Button Left</td>
                      <td class="border-b border-zinc-200 px-3 py-2">—</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Back/Exit/Close всегда</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2 font-mono text-xs">EV_UP / EV_DOWN</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Buttons Up/Down</td>
                      <td class="border-b border-zinc-200 px-3 py-2">—</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Меню-навигация или смена палитры вне меню</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2 font-mono text-xs">EV_TRIGGER_CAPTURE</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Trigger</td>
                      <td class="border-b border-zinc-200 px-3 py-2">—</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Захват (freeze frame)</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2 font-mono text-xs">EV_TAP</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Touch</td>
                      <td class="border-b border-zinc-200 px-3 py-2">x,y</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Открыть Quick Menu (разрешено)</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-2 font-mono text-xs">EV_LONG_TAP_LIVEVIEW</td>
                      <td class="px-3 py-2">Touch</td>
                      <td class="px-3 py-2">x,y, duration</td>
                      <td class="px-3 py-2">Открыть Context Menu Live View</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <div class="mt-5 rounded-xl border border-zinc-200 bg-white p-5">
              <p class="text-sm font-semibold text-zinc-900">State → Event → Effect (примерные строки)</p>
              <div class="mt-3 overflow-x-auto">
                <table class="min-w-[980px] w-full border-separate border-spacing-0 text-sm">
                  <thead>
                    <tr class="text-left">
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">State</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Event</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Effect</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Notes</th>
                    </tr>
                  </thead>
                  <tbody class="text-zinc-800">
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2 font-mono text-xs">LV_LIVE</td>
                      <td class="border-b border-zinc-200 px-3 py-2 font-mono text-xs">EV_RIGHT_SHORT</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Открыть Quick Menu</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Фокус ввода переходит в оверлей</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2 font-mono text-xs">LV_LIVE</td>
                      <td class="border-b border-zinc-200 px-3 py-2 font-mono text-xs">EV_UP / EV_DOWN</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Смена палитры (cycle)</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Не дублировать палитру в Quick Menu</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2 font-mono text-xs">LV_QUICK_MENU</td>
                      <td class="border-b border-zinc-200 px-3 py-2 font-mono text-xs">EV_LEFT</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Закрыть Quick Menu</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Возврат в LV_LIVE без побочных эффектов</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2 font-mono text-xs">ANY</td>
                      <td class="border-b border-zinc-200 px-3 py-2 font-mono text-xs">EV_RIGHT_LONG_MENU</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Перейти в Main Menu</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Main Menu — единственный навигационный хаб</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-2 font-mono text-xs">ANY</td>
                      <td class="px-3 py-2 font-mono text-xs">EV_RIGHT_LONG_POWER</td>
                      <td class="px-3 py-2">Открыть Power Off confirm</td>
                      <td class="px-3 py-2">Отдельное состояние подтверждения</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <div class="mt-5 rounded-xl border border-zinc-200 bg-white p-5">
              <p class="text-sm font-semibold text-zinc-900">Контракт кнопок (обязательный)</p>
              <div class="mt-3 overflow-x-auto">
                <table class="min-w-[980px] w-full border-separate border-spacing-0 text-sm">
                  <thead>
                    <tr class="text-left">
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Кнопка</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Контракт</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Запрещено</th>
                    </tr>
                  </thead>
                  <tbody class="text-zinc-800">
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">Left</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Back / Exit / Close (всегда)</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Нельзя назначать «опасные» действия</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">Up/Down</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Навигация в меню; вне меню — смена палитры</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Нельзя перегружать несвязанными действиями</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">Right (short)</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Quick Menu entry; confirm/select</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Нельзя превращать в «второй Back»</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">Right (long 1–1.5s)</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Открыть Main Menu</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Нельзя открывать вложенные меню поверх оверлеев</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">Right (longer ~2.5–3s)</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Power Off confirm screen</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Нельзя выключать без подтверждения</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-2">Trigger</td>
                      <td class="px-3 py-2">Capture (freeze frame)</td>
                      <td class="px-3 py-2">Нельзя привязывать к удалению/сбросу</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <p class="mt-3 text-xs text-zinc-600">
                Контракт кнопок — часть безопасности: единообразие важнее «удобства в одном месте».
              </p>
            </div>

          </div>
        </section>

        <div class="my-10 border-t border-zinc-200"></div>

        <!-- 16) Iterations & Testing Plan -->
        <section id="testing" data-title="16) Итерации и проверочные сценарии" class="scroll-mt-24 md:scroll-mt-10">
          <h2 class="text-xl font-semibold tracking-tight">16) Итерации и проверочные сценарии</h2>
          <div class="mt-4 rounded-xl border border-zinc-200 bg-white p-6">
            <p class="text-sm text-zinc-700">
              Процесс фиксируется как: Research → Hypotheses → Iterations → Testing → Итоги/артефакты.
              Для измерений фиксируются определение, способ измерения и источник данных.
            </p>

            <div class="mt-5 grid gap-4 md:grid-cols-2">
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                <p class="text-sm font-semibold text-zinc-900">Итерации</p>
                <ul class="mt-3 list-disc pl-5 text-sm text-zinc-700">
                  <li>Уточнение машины состояний устройства и Live View</li>
                  <li>Протоколы ввода (кнопки/тач) и запреты «матрёшки»</li>
                  <li>Спецификация Quick Menu / Context Menu (таблицы, матрицы)</li>
                  <li>Шаблоны ошибок и подтверждений как отдельные состояния</li>
                  <li>Язык RGB + экран объяснения “Почему горит RGB?”</li>
                </ul>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-white p-5">
                <p class="text-sm font-semibold text-zinc-900">Проверочные сценарии</p>
                <ul class="mt-3 list-disc pl-5 text-sm text-zinc-700">
                  <li>Одна рука, перчатки: скорость и ошибки на основных действиях</li>
                  <li>Плохая видимость: узнаваемость статусов и читаемость оверлеев</li>
                  <li>Сценарии высокой цены ошибки: удаление/сброс/выключение</li>
                  <li>Понимание RGB: однозначность и воспроизводимость смысла</li>
                  <li>Без «потери контекста»: возвращение из меню/оверлеев в Live View</li>
                </ul>
              </div>
            </div>

            <div class="mt-5 rounded-xl border border-zinc-200 bg-white p-5">
              <p class="text-sm font-semibold text-zinc-900">Измерения</p>
              <div class="mt-3 overflow-x-auto">
                <table class="min-w-[980px] w-full border-separate border-spacing-0 text-sm">
                  <thead>
                    <tr class="text-left">
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Метрика</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Определение</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Как измеряется</th>
                      <th class="border-b border-zinc-200 bg-zinc-50 px-3 py-2 font-semibold text-zinc-700">Критерий проверки</th>
                    </tr>
                  </thead>
                  <tbody class="text-zinc-800">
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">Ошибки ввода</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Число неправильных действий на задачу</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Наблюдение + лог событий (Event List)</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Сравнение по протоколу: базовая версия vs текущая</td>
                    </tr>
                    <tr>
                      <td class="border-b border-zinc-200 px-3 py-2">Время до действия</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Время от стартового состояния до целевого эффекта</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Тайминг по логам EV_*</td>
                      <td class="border-b border-zinc-200 px-3 py-2">Сравнение распределений времени по условиям (перчатки/видимость)</td>
                    </tr>
                    <tr>
                      <td class="px-3 py-2">Понимание RGB</td>
                      <td class="px-3 py-2">Доля верных интерпретаций сигнала</td>
                      <td class="px-3 py-2">Тест «что значит сигнал и что делать» + экран “Почему горит RGB?”</td>
                      <td class="px-3 py-2">Сравнение доли верных интерпретаций до/после экрана объяснения</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </section>

        <div class="my-10 border-t border-zinc-200"></div>

        <!-- 17) Outcomes -->
        <section id="outcomes" data-title="17) Итоги и артефакты" class="scroll-mt-24 md:scroll-mt-10">
          <h2 class="text-xl font-semibold tracking-tight">17) Итоги и артефакты</h2>
          <div class="mt-4 rounded-xl border border-zinc-200 bg-white p-6">
            <div class="grid gap-4 md:grid-cols-2">
              <div class="rounded-xl border border-zinc-200 bg-zinc-50 p-5">
                <p class="text-sm font-semibold text-zinc-900">Доставлено</p>
                <ul class="mt-3 list-disc pl-5 text-sm text-zinc-700">
                  <li>Единая архитектура: устройство + Live View как машины состояний</li>
                  <li>Overlay-first: Quick Menu как центральный слой управления</li>
                  <li>Main Menu как единственный хаб навигации (long press)</li>
                  <li>Запрет «матрёшки»: не больше одного слоя над Live View</li>
                  <li>Инструменты анализа как оверлеи, не «режимы»</li>
                  <li>RGB как UX-язык + экран объяснения</li>
                  <li>Галерея как инженерный инструмент с безопасным удалением</li>
                  <li>Ошибки как состояния с действиями (recoverable/blocking/fatal)</li>
                  <li>Handoff разработке: таблицы State→Event→Effect, event list, контракт кнопок</li>
                </ul>
              </div>
              <div class="rounded-xl border border-zinc-200 bg-white p-5">
                <p class="text-sm font-semibold text-zinc-900">Почему это системное проектирование</p>
                <ul class="mt-3 list-disc pl-5 text-sm text-zinc-700">
                  <li>Дизайн начинается с логики: состояния, события, эффекты, приоритеты сигналов</li>
                  <li>Безопасность и предсказуемость встроены в контракт ввода</li>
                  <li>UX масштабируется: новые функции добавляются как домены и переходы, а не как «ещё один экран»</li>
                  <li>Коммуникация с разработкой — формальная: таблицы и контракты, не «интуиция по макету»</li>
                </ul>
              </div>
            </div>

            <div class="mt-5 rounded-xl border border-zinc-200 bg-zinc-50 p-5">
              <p class="text-sm font-semibold text-zinc-900">Финальное правило</p>
              <p class="mt-2 text-sm text-zinc-700">
                UI остаётся спокойным и монохромным, потому что сложность находится в системе (state/event/effect), а не в визуальном шуме.
              </p>
            </div>

            <div class="mt-6 flex items-center justify-between">
              <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="text-sm font-medium text-zinc-900 underline decoration-zinc-400 underline-offset-4 focus:outline-none focus:ring-2 focus:ring-zinc-900/20 rounded">
                Назад к началу
              </a>
              <p class="text-xs text-zinc-600">Конец документа</p>
            </div>
          </div>
        </section>
      
    
  

  <!-- Back to top (minimal, fixed) -->
  <a href="file:///O:/Dev/portfolio-2026/sklad.html#top" data-toc-link="" class="fixed bottom-4 right-4 z-50 hidden sm:inline-flex items-center gap-2 rounded-lg border border-zinc-300 bg-white px-3 py-2 text-sm font-medium text-zinc-900 focus:outline-none focus:ring-2 focus:ring-zinc-900/20">
    Вверх
  </a>

  <script>
    (function () {
      const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      const sections = Array.from(document.querySelectorAll('main section[id][data-title]'));
      const tocList = document.getElementById('tocList');
      const tocSelect = document.getElementById('tocSelect');

      function makeLink(id, title) {
        const a = document.createElement('a');
        a.href = '#' + id;
        a.dataset.tocLink = 'true';
        a.className = [
          'block rounded-lg px-3 py-2 text-sm',
          'text-zinc-700 hover:text-zinc-900 hover:bg-zinc-50',
          'focus:outline-none focus:ring-2 focus:ring-zinc-900/20'
        ].join(' ');
        a.textContent = title;
        a.setAttribute('role', 'link');
        return a;
      }

      function setActive(id) {
        // Desktop list
        if (tocList) {
          const links = tocList.querySelectorAll('a[data-toc-link]');
          links.forEach(l => {
            const isActive = l.getAttribute('href') === ('#' + id);
            if (isActive) {
              l.style.backgroundColor = 'var(--toc-active-bg)';
              l.style.color = 'var(--toc-active-fg)';
              l.setAttribute('aria-current', 'true');
            } else {
              l.style.backgroundColor = '';
              l.style.color = '';
              l.removeAttribute('aria-current');
            }
          });
        }
        // Mobile select
        if (tocSelect) {
          tocSelect.value = id;
        }
      }

      function scrollToId(id) {
        const el = document.getElementById(id);
        if (!el) return;
        el.focus({ preventScroll: true });
        if (prefersReduced) {
          el.scrollIntoView({ block: 'start' });
        } else {
          el.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
        history.replaceState(null, '', '#' + id);
      }

      // Build TOC
      if (tocList) tocList.innerHTML = '';
      if (tocSelect) tocSelect.innerHTML = '';

      sections.forEach((s) => {
        const id = s.id;
        const title = s.getAttribute('data-title') || id;

        if (tocList) {
          const li = document.createElement('li');
          li.appendChild(makeLink(id, title));
          tocList.appendChild(li);
        }

        if (tocSelect) {
          const opt = document.createElement('option');
          opt.value = id;
          opt.textContent = title;
          tocSelect.appendChild(opt);
        }
      });

      // Smooth scroll on TOC click (including back-to-top links)
      document.addEventListener('click', (e) => {
        const a = e.target && e.target.closest && e.target.closest('a[data-toc-link]');
        if (!a) return;

        const href = a.getAttribute('href') || '';
        if (!href.startsWith('#')) return;
        const id = href.slice(1);
        if (!id) return;

        const target = document.getElementById(id);
        if (!target) return;

        e.preventDefault();
        scrollToId(id);
      });

      if (tocSelect) {
        tocSelect.addEventListener('change', () => {
          const id = tocSelect.value;
          scrollToId(id);
        });
      }

      // Active section highlighting
      let currentActive = null;
      const observer = new IntersectionObserver((entries) => {
        // Choose the entry closest to top among visible ones
        const visible = entries.filter(en => en.isIntersecting).sort((a, b) => {
          return Math.abs(a.boundingClientRect.top) - Math.abs(b.boundingClientRect.top);
        });
        if (visible.length === 0) return;
        const id = visible[0].target.id;
        if (id && id !== currentActive) {
          currentActive = id;
          setActive(id);
        }
      }, {
        root: null,
        rootMargin: '-25% 0px -65% 0px',
        threshold: [0.01, 0.1, 0.25]
      });

      sections.forEach(s => observer.observe(s));

      // Init active state from hash or first section
      const initialId = (location.hash && document.getElementById(location.hash.slice(1))) ? location.hash.slice(1) : (sections[0] && sections[0].id);
      if (initialId) setActive(initialId);
    })();
  </script>


    </template>
  </body>
</html>
-->